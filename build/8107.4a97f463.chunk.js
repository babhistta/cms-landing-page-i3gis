(self.webpackChunkcms_landing_page_i_3_gis=self.webpackChunkcms_landing_page_i_3_gis||[]).push([[8107],{96538:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{"Align center":"Align center","Align left":"Align left","Align right":"Align right",Justify:"Justify","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},209:(m,M,S)=>{m.exports=S(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={exports:{}};return Gt[m](S,S.exports,J),S.exports}J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{Alignment:()=>Z,AlignmentEditing:()=>B,AlignmentUI:()=>j});var m=J(704),M=J(209);const S=["left","right","center","justify"];function p(Y){return S.includes(Y)}function _(Y,te){return te.contentLanguageDirection=="rtl"?Y==="right":Y==="left"}function l(Y){const te=Y.map(ie=>{let u;return u=typeof ie=="string"?{name:ie}:ie,u}).filter(ie=>{const u=S.includes(ie.name);return u||(0,M.logWarning)("alignment-config-name-not-recognized",{option:ie}),u}),oe=te.filter(ie=>Boolean(ie.className)).length;if(oe&&oe<te.length)throw new M.CKEditorError("alignment-config-classnames-are-missing",{configuredOptions:Y});return te.forEach((ie,u,y)=>{const f=y.slice(u+1);if(f.some(v=>v.name==ie.name))throw new M.CKEditorError("alignment-config-name-already-defined",{option:ie,configuredOptions:Y});if(ie.className&&f.some(v=>v.className==ie.className))throw new M.CKEditorError("alignment-config-classname-already-defined",{option:ie,configuredOptions:Y})}),te}const c="alignment";class P extends m.Command{refresh(){const te=this.editor.locale,oe=(0,M.first)(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=Boolean(oe)&&this._canBeAligned(oe),this.isEnabled&&oe.hasAttribute("alignment")?this.value=oe.getAttribute("alignment"):this.value=te.contentLanguageDirection==="rtl"?"right":"left"}execute(te={}){const oe=this.editor,ie=oe.locale,u=oe.model,y=u.document,f=te.value;u.change(v=>{const A=Array.from(y.selection.getSelectedBlocks()).filter(E=>this._canBeAligned(E)),T=A[0].getAttribute("alignment");_(f,ie)||T===f||!f?function(E,ae){for(const q of E)ae.removeAttribute(c,q)}(A,v):function(E,ae,q){for(const z of E)ae.setAttribute(c,q,z)}(A,v,f)})}_canBeAligned(te){return this.editor.model.schema.checkAttribute(te,c)}}class B extends m.Plugin{static get pluginName(){return"AlignmentEditing"}constructor(te){super(te),te.config.define("alignment",{options:S.map(oe=>({name:oe}))})}init(){const te=this.editor,oe=te.locale,ie=te.model.schema,u=l(te.config.get("alignment.options")).filter(A=>p(A.name)&&!_(A.name,oe)),y=u.some(A=>!!A.className);ie.extend("$block",{allowAttributes:"alignment"}),te.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),y?te.conversion.attributeToAttribute(function(A){const T={};for(const ae of A)T[ae.name]={key:"class",value:ae.className};return{model:{key:"alignment",values:A.map(ae=>ae.name)},view:T}}(u)):te.conversion.for("downcast").attributeToAttribute(function(A){const T={};for(const{name:ae}of A)T[ae]={key:"style",value:{"text-align":ae}};return{model:{key:"alignment",values:A.map(ae=>ae.name)},view:T}}(u));const f=function(A){const T=[];for(const{name:E}of A)T.push({view:{key:"style",value:{"text-align":E}},model:{key:"alignment",value:E}});return T}(u);for(const A of f)te.conversion.for("upcast").attributeToAttribute(A);const v=function(A){const T=[];for(const{name:E}of A)T.push({view:{key:"align",value:E},model:{key:"alignment",value:E}});return T}(u);for(const A of v)te.conversion.for("upcast").attributeToAttribute(A);te.commands.add("alignment",new P(te))}}var x=J(273);const h=new Map([["left",m.icons.alignLeft],["right",m.icons.alignRight],["center",m.icons.alignCenter],["justify",m.icons.alignJustify]]);class j extends m.Plugin{get localizedOptionTitles(){const te=this.editor.t;return{left:te("Align left"),right:te("Align right"),center:te("Align center"),justify:te("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const te=this.editor,oe=te.ui.componentFactory,ie=te.t,u=l(te.config.get("alignment.options"));u.map(y=>y.name).filter(p).forEach(y=>this._addButton(y)),oe.add("alignment",y=>{const f=(0,x.createDropdown)(y);(0,x.addToolbarToDropdown)(f,()=>u.map(T=>oe.create(`alignment:${T.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:ie("Text alignment toolbar")}),f.buttonView.set({label:ie("Text alignment"),tooltip:!0}),f.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const v=y.contentLanguageDirection==="rtl"?h.get("right"):h.get("left"),A=te.commands.get("alignment");return f.buttonView.bind("icon").to(A,"value",T=>h.get(T)||v),f.bind("isEnabled").to(A,"isEnabled"),this.listenTo(f,"execute",()=>{te.editing.view.focus()}),f})}_addButton(te){const oe=this.editor;oe.ui.componentFactory.add(`alignment:${te}`,ie=>{const u=oe.commands.get("alignment"),y=new x.ButtonView(ie);return y.set({label:this.localizedOptionTitles[te],icon:h.get(te),tooltip:!0,isToggleable:!0}),y.bind("isEnabled").to(u),y.bind("isOn").to(u,"value",f=>f===te),this.listenTo(y,"execute",()=>{oe.execute("alignment",{value:te}),oe.editing.view.focus()}),y})}}class Z extends m.Plugin{static get requires(){return[B,j]}static get pluginName(){return"Alignment"}}})(),(window.CKEditor5=window.CKEditor5||{}).alignment=Et})()},98709:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Gt={704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},492:(m,M,S)=>{m.exports=S(79)("./src/engine.js")},181:(m,M,S)=>{m.exports=S(79)("./src/typing.js")},209:(m,M,S)=>{m.exports=S(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={exports:{}};return Gt[m](S,S.exports,J),S.exports}J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{Autoformat:()=>P});var m=J(704),M=J(181),S=J(492),p=J(209);function _(x,h,j,Z){let Y,te=null;typeof Z=="function"?Y=Z:(te=x.commands.get(Z),Y=()=>{x.execute(Z)}),x.model.document.on("change:data",(oe,ie)=>{if(te&&!te.isEnabled||!h.isEnabled)return;const u=(0,p.first)(x.model.document.selection.getRanges());if(!u.isCollapsed||ie.isUndo||!ie.isLocal)return;const y=Array.from(x.model.document.differ.getChanges()),f=y[0];if(y.length!=1||f.type!=="insert"||f.name!="$text"||f.length!=1)return;const v=f.position.parent;if(v.is("element","codeBlock")||v.is("element","listItem")&&typeof Z!="function"&&!["numberedList","bulletedList","todoList"].includes(Z)||te&&te.value===!0)return;const A=v.getChild(0),T=x.model.createRangeOn(A);if(!T.containsRange(u)&&!u.end.isEqual(T.end))return;const E=j.exec(A.data.substr(0,u.end.offset));E&&x.model.enqueueChange(ae=>{const q=ae.createPositionAt(v,0),z=ae.createPositionAt(v,E[0].length),b=new S.LiveRange(q,z);if(Y({match:E})!==!1){ae.remove(b);const V=x.model.document.selection.getFirstRange(),$=ae.createRangeIn(v);!v.isEmpty||$.isEqual(V)||$.containsRange(V,!0)||ae.remove(v)}b.detach(),x.model.enqueueChange(()=>{x.plugins.get("Delete").requestUndoOnBackspace()})})})}function l(x,h,j,Z){let Y,te;j instanceof RegExp?Y=j:te=j,te=te||(oe=>{let ie;const u=[],y=[];for(;(ie=Y.exec(oe))!==null&&!(ie&&ie.length<4);){let{index:f,1:v,2:A,3:T}=ie;const E=v+A+T;f+=ie[0].length-E.length;const ae=[f,f+v.length],q=[f+v.length+A.length,f+v.length+A.length+T.length];u.push(ae),u.push(q),y.push([f+v.length,f+v.length+A.length])}return{remove:u,format:y}}),x.model.document.on("change:data",(oe,ie)=>{if(ie.isUndo||!ie.isLocal||!h.isEnabled)return;const u=x.model,y=u.document.selection;if(!y.isCollapsed)return;const f=Array.from(u.document.differ.getChanges()),v=f[0];if(f.length!=1||v.type!=="insert"||v.name!="$text"||v.length!=1)return;const A=y.focus,T=A.parent,{text:E,range:ae}=function(V,$){let D=V.start;return{text:Array.from(V.getItems()).reduce((Ee,je)=>!je.is("$text")&&!je.is("$textProxy")||je.getAttribute("code")?(D=$.createPositionAfter(je),""):Ee+je.data,""),range:$.createRange(D,V.end)}}(u.createRange(u.createPositionAt(T,0),A),u),q=te(E),z=c(ae.start,q.format,u),b=c(ae.start,q.remove,u);z.length&&b.length&&u.enqueueChange(V=>{if(Z(V,z)!==!1){for(const $ of b.reverse())V.remove($);u.enqueueChange(()=>{x.plugins.get("Delete").requestUndoOnBackspace()})}})})}function c(x,h,j){return h.filter(Z=>Z[0]!==void 0&&Z[1]!==void 0).map(Z=>j.createRange(x.getShiftedBy(Z[0]),x.getShiftedBy(Z[1])))}class P extends m.Plugin{static get requires(){return[M.Delete]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const h=this.editor.commands;h.get("bulletedList")&&_(this.editor,this,/^[*-]\s$/,"bulletedList"),h.get("numberedList")&&_(this.editor,this,/^1[.|)]\s$/,"numberedList"),h.get("todoList")&&_(this.editor,this,/^\[\s?\]\s$/,"todoList"),h.get("checkTodoList")&&_(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const h=this.editor.commands;if(h.get("bold")){const j=B(this.editor,"bold");l(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,j),l(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,j)}if(h.get("italic")){const j=B(this.editor,"italic");l(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,j),l(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,j)}if(h.get("code")){const j=B(this.editor,"code");l(this.editor,this,/(`)([^`]+)(`)$/g,j)}if(h.get("strikethrough")){const j=B(this.editor,"strikethrough");l(this.editor,this,/(~~)([^~]+)(~~)$/g,j)}}_addHeadingAutoformats(){const h=this.editor.commands.get("heading");h&&h.modelElements.filter(j=>j.match(/^heading[1-6]$/)).forEach(j=>{const Z=j[7],Y=new RegExp(`^(#{${Z}})\\s$`);_(this.editor,this,Y,()=>{if(!h.isEnabled||h.value===j)return!1;this.editor.execute("heading",{value:j})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&_(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const h=this.editor,j=h.model.document.selection;h.commands.get("codeBlock")&&_(h,this,/^```$/,()=>{if(j.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&_(this.editor,this,/^---$/,"horizontalLine")}}function B(x,h){return(j,Z)=>{if(!x.commands.get(h).isEnabled)return!1;const Y=x.model.schema.getValidRanges(Z,h);for(const te of Y)j.setAttribute(h,!0,te);j.removeSelectionAttribute(h)}}})(),(window.CKEditor5=window.CKEditor5||{}).autoformat=Et})()},69711:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{Bold:"Bold",Code:"Code",Italic:"Italic",Strikethrough:"Strikethrough",Subscript:"Subscript",Superscript:"Superscript",Underline:"Underline"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={55:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}",""]);const l=_},609:m=>{"use strict";m.exports=function(M){var S=[];return S.toString=function(){return this.map(function(p){var _=M(p);return p[2]?"@media ".concat(p[2]," {").concat(_,"}"):_}).join("")},S.i=function(p,_,l){typeof p=="string"&&(p=[[null,p,""]]);var c={};if(l)for(var P=0;P<this.length;P++){var B=this[P][0];B!=null&&(c[B]=!0)}for(var x=0;x<p.length;x++){var h=[].concat(p[x]);l&&c[h[0]]||(_&&(h[2]?h[2]="".concat(_," and ").concat(h[2]):h[2]=_),S.push(h))}},S}},62:(m,M,S)=>{"use strict";var p,_=function(){return p===void 0&&(p=Boolean(window&&document&&document.all&&!window.atob)),p},l=function(){var u={};return function(y){if(u[y]===void 0){var f=document.querySelector(y);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}u[y]=f}return u[y]}}(),c=[];function P(u){for(var y=-1,f=0;f<c.length;f++)if(c[f].identifier===u){y=f;break}return y}function B(u,y){for(var f={},v=[],A=0;A<u.length;A++){var T=u[A],E=y.base?T[0]+y.base:T[0],ae=f[E]||0,q="".concat(E," ").concat(ae);f[E]=ae+1;var z=P(q),b={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(b)):c.push({identifier:q,updater:ie(b,y),references:1}),v.push(q)}return v}function x(u){var y=document.createElement("style"),f=u.attributes||{};if(f.nonce===void 0){var v=S.nc;v&&(f.nonce=v)}if(Object.keys(f).forEach(function(T){y.setAttribute(T,f[T])}),typeof u.insert=="function")u.insert(y);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(y)}return y}var h,j=(h=[],function(u,y){return h[u]=y,h.filter(Boolean).join(`
`)});function Z(u,y,f,v){var A=f?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=j(y,A);else{var T=document.createTextNode(A),E=u.childNodes;E[y]&&u.removeChild(E[y]),E.length?u.insertBefore(T,E[y]):u.appendChild(T)}}function Y(u,y,f){var v=f.css,A=f.media,T=f.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var te=null,oe=0;function ie(u,y){var f,v,A;if(y.singleton){var T=oe++;f=te||(te=x(y)),v=Z.bind(null,f,T,!1),A=Z.bind(null,f,T,!0)}else f=x(y),v=Y.bind(null,f,y),A=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(f)};return v(u),function(E){if(E){if(E.css===u.css&&E.media===u.media&&E.sourceMap===u.sourceMap)return;v(u=E)}else A()}}m.exports=function(u,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=_());var f=B(u=u||[],y);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<f.length;A++){var T=P(f[A]);c[T].references--}for(var E=B(v,y),ae=0;ae<f.length;ae++){var q=P(f[ae]);c[q].references===0&&(c[q].updater(),c.splice(q,1))}f=E}}}},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},181:(m,M,S)=>{m.exports=S(79)("./src/typing.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={id:m,exports:{}};return Gt[m](S,S.exports,J),S.exports}J.n=m=>{var M=m&&m.__esModule?()=>m.default:()=>m;return J.d(M,{a:M}),M},J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},J.nc=void 0;var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{Bold:()=>P,BoldEditing:()=>p,BoldUI:()=>c,Code:()=>u,CodeEditing:()=>h,CodeUI:()=>ie,Italic:()=>T,ItalicEditing:()=>f,ItalicUI:()=>A,Strikethrough:()=>b,StrikethroughEditing:()=>ae,StrikethroughUI:()=>z,Subscript:()=>Ee,SubscriptEditing:()=>$,SubscriptUI:()=>re,Superscript:()=>lt,SuperscriptEditing:()=>Ie,SuperscriptUI:()=>mt,Underline:()=>Qe,UnderlineEditing:()=>dt,UnderlineUI:()=>bt});var m=J(704);class M extends m.Command{constructor(Ve,Te){super(Ve),this.attributeKey=Te}refresh(){const Ve=this.editor.model,Te=Ve.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=Ve.schema.checkAttributeInSelection(Te.selection,this.attributeKey)}execute(Ve={}){const Te=this.editor.model,Q=Te.document.selection,xe=Ve.forceValue===void 0?!this.value:Ve.forceValue;Te.change(Oe=>{if(Q.isCollapsed)xe?Oe.setSelectionAttribute(this.attributeKey,!0):Oe.removeSelectionAttribute(this.attributeKey);else{const Je=Te.schema.getValidRanges(Q.getRanges(),this.attributeKey);for(const Ze of Je)xe?Oe.setAttribute(this.attributeKey,xe,Ze):Oe.removeAttribute(this.attributeKey,Ze)}})}_getValueFromFirstAllowedNode(){const Ve=this.editor.model,Te=Ve.schema,Q=Ve.document.selection;if(Q.isCollapsed)return Q.hasAttribute(this.attributeKey);for(const xe of Q.getRanges())for(const Oe of xe.getItems())if(Te.checkAttribute(Oe,this.attributeKey))return Oe.hasAttribute(this.attributeKey);return!1}}const S="bold";class p extends m.Plugin{static get pluginName(){return"BoldEditing"}init(){const Ve=this.editor;Ve.model.schema.extend("$text",{allowAttributes:S}),Ve.model.schema.setAttributeProperties(S,{isFormatting:!0,copyOnEnter:!0}),Ve.conversion.attributeToElement({model:S,view:"strong",upcastAlso:["b",Te=>{const Q=Te.getStyle("font-weight");return Q&&(Q=="bold"||Number(Q)>=600)?{name:!0,styles:["font-weight"]}:null}]}),Ve.commands.add(S,new M(Ve,S)),Ve.keystrokes.set("CTRL+B",S)}}var _=J(273);const l="bold";class c extends m.Plugin{static get pluginName(){return"BoldUI"}init(){const Ve=this.editor,Te=Ve.t;Ve.ui.componentFactory.add(l,Q=>{const xe=Ve.commands.get(l),Oe=new _.ButtonView(Q);return Oe.set({label:Te("Bold"),icon:m.icons.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),Oe.bind("isOn","isEnabled").to(xe,"value","isEnabled"),this.listenTo(Oe,"execute",()=>{Ve.execute(l),Ve.editing.view.focus()}),Oe})}}class P extends m.Plugin{static get requires(){return[p,c]}static get pluginName(){return"Bold"}}var B=J(181);const x="code";class h extends m.Plugin{static get pluginName(){return"CodeEditing"}static get requires(){return[B.TwoStepCaretMovement]}init(){const Ve=this.editor;Ve.model.schema.extend("$text",{allowAttributes:x}),Ve.model.schema.setAttributeProperties(x,{isFormatting:!0,copyOnEnter:!1}),Ve.conversion.attributeToElement({model:x,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),Ve.commands.add(x,new M(Ve,x)),Ve.plugins.get(B.TwoStepCaretMovement).registerAttribute(x),(0,B.inlineHighlight)(Ve,x,"code","ck-code_selected")}}var j=J(62),Z=J.n(j),Y=J(55),te={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Y.Z,te),Y.Z.locals;const oe="code";class ie extends m.Plugin{static get pluginName(){return"CodeUI"}init(){const Ve=this.editor,Te=Ve.t;Ve.ui.componentFactory.add(oe,Q=>{const xe=Ve.commands.get(oe),Oe=new _.ButtonView(Q);return Oe.set({label:Te("Code"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',tooltip:!0,isToggleable:!0}),Oe.bind("isOn","isEnabled").to(xe,"value","isEnabled"),this.listenTo(Oe,"execute",()=>{Ve.execute(oe),Ve.editing.view.focus()}),Oe})}}class u extends m.Plugin{static get requires(){return[h,ie]}static get pluginName(){return"Code"}}const y="italic";class f extends m.Plugin{static get pluginName(){return"ItalicEditing"}init(){const Ve=this.editor;Ve.model.schema.extend("$text",{allowAttributes:y}),Ve.model.schema.setAttributeProperties(y,{isFormatting:!0,copyOnEnter:!0}),Ve.conversion.attributeToElement({model:y,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),Ve.commands.add(y,new M(Ve,y)),Ve.keystrokes.set("CTRL+I",y)}}const v="italic";class A extends m.Plugin{static get pluginName(){return"ItalicUI"}init(){const Ve=this.editor,Te=Ve.t;Ve.ui.componentFactory.add(v,Q=>{const xe=Ve.commands.get(v),Oe=new _.ButtonView(Q);return Oe.set({label:Te("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),Oe.bind("isOn","isEnabled").to(xe,"value","isEnabled"),this.listenTo(Oe,"execute",()=>{Ve.execute(v),Ve.editing.view.focus()}),Oe})}}class T extends m.Plugin{static get requires(){return[f,A]}static get pluginName(){return"Italic"}}const E="strikethrough";class ae extends m.Plugin{static get pluginName(){return"StrikethroughEditing"}init(){const Ve=this.editor;Ve.model.schema.extend("$text",{allowAttributes:E}),Ve.model.schema.setAttributeProperties(E,{isFormatting:!0,copyOnEnter:!0}),Ve.conversion.attributeToElement({model:E,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),Ve.commands.add(E,new M(Ve,E)),Ve.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}const q="strikethrough";class z extends m.Plugin{static get pluginName(){return"StrikethroughUI"}init(){const Ve=this.editor,Te=Ve.t;Ve.ui.componentFactory.add(q,Q=>{const xe=Ve.commands.get(q),Oe=new _.ButtonView(Q);return Oe.set({label:Te("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),Oe.bind("isOn","isEnabled").to(xe,"value","isEnabled"),this.listenTo(Oe,"execute",()=>{Ve.execute(q),Ve.editing.view.focus()}),Oe})}}class b extends m.Plugin{static get requires(){return[ae,z]}static get pluginName(){return"Strikethrough"}}const V="subscript";class $ extends m.Plugin{static get pluginName(){return"SubscriptEditing"}init(){const Ve=this.editor;Ve.model.schema.extend("$text",{allowAttributes:V}),Ve.model.schema.setAttributeProperties(V,{isFormatting:!0,copyOnEnter:!0}),Ve.conversion.attributeToElement({model:V,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),Ve.commands.add(V,new M(Ve,V))}}const D="subscript";class re extends m.Plugin{static get pluginName(){return"SubscriptUI"}init(){const Ve=this.editor,Te=Ve.t;Ve.ui.componentFactory.add(D,Q=>{const xe=Ve.commands.get(D),Oe=new _.ButtonView(Q);return Oe.set({label:Te("Subscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>',tooltip:!0,isToggleable:!0}),Oe.bind("isOn","isEnabled").to(xe,"value","isEnabled"),this.listenTo(Oe,"execute",()=>{Ve.execute(D),Ve.editing.view.focus()}),Oe})}}class Ee extends m.Plugin{static get requires(){return[$,re]}static get pluginName(){return"Subscript"}}const je="superscript";class Ie extends m.Plugin{static get pluginName(){return"SuperscriptEditing"}init(){const Ve=this.editor;Ve.model.schema.extend("$text",{allowAttributes:je}),Ve.model.schema.setAttributeProperties(je,{isFormatting:!0,copyOnEnter:!0}),Ve.conversion.attributeToElement({model:je,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),Ve.commands.add(je,new M(Ve,je))}}const De="superscript";class mt extends m.Plugin{static get pluginName(){return"SuperscriptUI"}init(){const Ve=this.editor,Te=Ve.t;Ve.ui.componentFactory.add(De,Q=>{const xe=Ve.commands.get(De),Oe=new _.ButtonView(Q);return Oe.set({label:Te("Superscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>',tooltip:!0,isToggleable:!0}),Oe.bind("isOn","isEnabled").to(xe,"value","isEnabled"),this.listenTo(Oe,"execute",()=>{Ve.execute(De),Ve.editing.view.focus()}),Oe})}}class lt extends m.Plugin{static get requires(){return[Ie,mt]}static get pluginName(){return"Superscript"}}const ut="underline";class dt extends m.Plugin{static get pluginName(){return"UnderlineEditing"}init(){const Ve=this.editor;Ve.model.schema.extend("$text",{allowAttributes:ut}),Ve.model.schema.setAttributeProperties(ut,{isFormatting:!0,copyOnEnter:!0}),Ve.conversion.attributeToElement({model:ut,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),Ve.commands.add(ut,new M(Ve,ut)),Ve.keystrokes.set("CTRL+U","underline")}}const _t="underline";class bt extends m.Plugin{static get pluginName(){return"UnderlineUI"}init(){const Ve=this.editor,Te=Ve.t;Ve.ui.componentFactory.add(_t,Q=>{const xe=Ve.commands.get(_t),Oe=new _.ButtonView(Q);return Oe.set({label:Te("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),Oe.bind("isOn","isEnabled").to(xe,"value","isEnabled"),this.listenTo(Oe,"execute",()=>{Ve.execute(_t),Ve.editing.view.focus()}),Oe})}}class Qe extends m.Plugin{static get requires(){return[dt,bt]}static get pluginName(){return"Underline"}}})(),(window.CKEditor5=window.CKEditor5||{}).basicStyles=Et})()},49614:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{"Block quote":"Block quote"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={93:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}",""]);const l=_},609:m=>{"use strict";m.exports=function(M){var S=[];return S.toString=function(){return this.map(function(p){var _=M(p);return p[2]?"@media ".concat(p[2]," {").concat(_,"}"):_}).join("")},S.i=function(p,_,l){typeof p=="string"&&(p=[[null,p,""]]);var c={};if(l)for(var P=0;P<this.length;P++){var B=this[P][0];B!=null&&(c[B]=!0)}for(var x=0;x<p.length;x++){var h=[].concat(p[x]);l&&c[h[0]]||(_&&(h[2]?h[2]="".concat(_," and ").concat(h[2]):h[2]=_),S.push(h))}},S}},62:(m,M,S)=>{"use strict";var p,_=function(){return p===void 0&&(p=Boolean(window&&document&&document.all&&!window.atob)),p},l=function(){var u={};return function(y){if(u[y]===void 0){var f=document.querySelector(y);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}u[y]=f}return u[y]}}(),c=[];function P(u){for(var y=-1,f=0;f<c.length;f++)if(c[f].identifier===u){y=f;break}return y}function B(u,y){for(var f={},v=[],A=0;A<u.length;A++){var T=u[A],E=y.base?T[0]+y.base:T[0],ae=f[E]||0,q="".concat(E," ").concat(ae);f[E]=ae+1;var z=P(q),b={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(b)):c.push({identifier:q,updater:ie(b,y),references:1}),v.push(q)}return v}function x(u){var y=document.createElement("style"),f=u.attributes||{};if(f.nonce===void 0){var v=S.nc;v&&(f.nonce=v)}if(Object.keys(f).forEach(function(T){y.setAttribute(T,f[T])}),typeof u.insert=="function")u.insert(y);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(y)}return y}var h,j=(h=[],function(u,y){return h[u]=y,h.filter(Boolean).join(`
`)});function Z(u,y,f,v){var A=f?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=j(y,A);else{var T=document.createTextNode(A),E=u.childNodes;E[y]&&u.removeChild(E[y]),E.length?u.insertBefore(T,E[y]):u.appendChild(T)}}function Y(u,y,f){var v=f.css,A=f.media,T=f.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var te=null,oe=0;function ie(u,y){var f,v,A;if(y.singleton){var T=oe++;f=te||(te=x(y)),v=Z.bind(null,f,T,!1),A=Z.bind(null,f,T,!0)}else f=x(y),v=Y.bind(null,f,y),A=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(f)};return v(u),function(E){if(E){if(E.css===u.css&&E.media===u.media&&E.sourceMap===u.sourceMap)return;v(u=E)}else A()}}m.exports=function(u,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=_());var f=B(u=u||[],y);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<f.length;A++){var T=P(f[A]);c[T].references--}for(var E=B(v,y),ae=0;ae<f.length;ae++){var q=P(f[ae]);c[q].references===0&&(c[q].updater(),c.splice(q,1))}f=E}}}},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},331:(m,M,S)=>{m.exports=S(79)("./src/enter.js")},181:(m,M,S)=>{m.exports=S(79)("./src/typing.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},209:(m,M,S)=>{m.exports=S(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={id:m,exports:{}};return Gt[m](S,S.exports,J),S.exports}J.n=m=>{var M=m&&m.__esModule?()=>m.default:()=>m;return J.d(M,{a:M}),M},J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},J.nc=void 0;var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{BlockQuote:()=>oe,BlockQuoteEditing:()=>B,BlockQuoteUI:()=>te});var m=J(704),M=J(331),S=J(181),p=J(209);class _ extends m.Command{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(u={}){const y=this.editor.model,f=y.schema,v=y.document.selection,A=Array.from(v.getSelectedBlocks()),T=u.forceValue===void 0?!this.value:u.forceValue;y.change(E=>{if(T){const ae=A.filter(q=>l(q)||P(f,q));this._applyQuote(E,ae)}else this._removeQuote(E,A.filter(l))})}_getValue(){const u=this.editor.model.document.selection,y=(0,p.first)(u.getSelectedBlocks());return!(!y||!l(y))}_checkEnabled(){if(this.value)return!0;const u=this.editor.model.document.selection,y=this.editor.model.schema,f=(0,p.first)(u.getSelectedBlocks());return!!f&&P(y,f)}_removeQuote(u,y){c(u,y).reverse().forEach(f=>{if(f.start.isAtStart&&f.end.isAtEnd)return void u.unwrap(f.start.parent);if(f.start.isAtStart){const A=u.createPositionBefore(f.start.parent);return void u.move(f,A)}f.end.isAtEnd||u.split(f.end);const v=u.createPositionAfter(f.end.parent);u.move(f,v)})}_applyQuote(u,y){const f=[];c(u,y).reverse().forEach(v=>{let A=l(v.start);A||(A=u.createElement("blockQuote"),u.wrap(v,A)),f.push(A)}),f.reverse().reduce((v,A)=>v.nextSibling==A?(u.merge(u.createPositionAfter(v)),v):A)}}function l(ie){return ie.parent.name=="blockQuote"?ie.parent:null}function c(ie,u){let y,f=0;const v=[];for(;f<u.length;){const A=u[f],T=u[f+1];y||(y=ie.createPositionBefore(A)),T&&A.nextSibling==T||(v.push(ie.createRange(y,ie.createPositionAfter(A))),y=null),f++}return v}function P(ie,u){const y=ie.checkChild(u.parent,"blockQuote"),f=ie.checkChild(["$root","blockQuote"],u);return y&&f}class B extends m.Plugin{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[M.Enter,S.Delete]}init(){const u=this.editor,y=u.model.schema;u.commands.add("blockQuote",new _(u)),y.register("blockQuote",{inheritAllFrom:"$container"}),u.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),u.model.document.registerPostFixer(T=>{const E=u.model.document.differ.getChanges();for(const ae of E)if(ae.type=="insert"){const q=ae.position.nodeAfter;if(!q)continue;if(q.is("element","blockQuote")&&q.isEmpty)return T.remove(q),!0;if(q.is("element","blockQuote")&&!y.checkChild(ae.position,q))return T.unwrap(q),!0;if(q.is("element")){const z=T.createRangeIn(q);for(const b of z.getItems())if(b.is("element","blockQuote")&&!y.checkChild(T.createPositionBefore(b),b))return T.unwrap(b),!0}}else if(ae.type=="remove"){const q=ae.position.parent;if(q.is("element","blockQuote")&&q.isEmpty)return T.remove(q),!0}return!1});const f=this.editor.editing.view.document,v=u.model.document.selection,A=u.commands.get("blockQuote");this.listenTo(f,"enter",(T,E)=>{!v.isCollapsed||!A.value||v.getLastPosition().parent.isEmpty&&(u.execute("blockQuote"),u.editing.view.scrollToTheSelection(),E.preventDefault(),T.stop())},{context:"blockquote"}),this.listenTo(f,"delete",(T,E)=>{if(E.direction!="backward"||!v.isCollapsed||!A.value)return;const ae=v.getLastPosition().parent;ae.isEmpty&&!ae.previousSibling&&(u.execute("blockQuote"),u.editing.view.scrollToTheSelection(),E.preventDefault(),T.stop())},{context:"blockquote"})}}var x=J(273),h=J(62),j=J.n(h),Z=J(93),Y={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};j()(Z.Z,Y),Z.Z.locals;class te extends m.Plugin{static get pluginName(){return"BlockQuoteUI"}init(){const u=this.editor,y=u.t;u.ui.componentFactory.add("blockQuote",f=>{const v=u.commands.get("blockQuote"),A=new x.ButtonView(f);return A.set({label:y("Block quote"),icon:m.icons.quote,tooltip:!0,isToggleable:!0}),A.bind("isOn","isEnabled").to(v,"value","isEnabled"),this.listenTo(A,"execute",()=>{u.execute("blockQuote"),u.editing.view.focus()}),A})}}class oe extends m.Plugin{static get requires(){return[B,te]}static get pluginName(){return"BlockQuote"}}})(),(window.CKEditor5=window.CKEditor5||{}).blockQuote=Et})()},83948:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{"Insert code block":"Insert code block","Plain text":"Plain text"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={11:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}",""]);const l=_},609:m=>{"use strict";m.exports=function(M){var S=[];return S.toString=function(){return this.map(function(p){var _=M(p);return p[2]?"@media ".concat(p[2]," {").concat(_,"}"):_}).join("")},S.i=function(p,_,l){typeof p=="string"&&(p=[[null,p,""]]);var c={};if(l)for(var P=0;P<this.length;P++){var B=this[P][0];B!=null&&(c[B]=!0)}for(var x=0;x<p.length;x++){var h=[].concat(p[x]);l&&c[h[0]]||(_&&(h[2]?h[2]="".concat(_," and ").concat(h[2]):h[2]=_),S.push(h))}},S}},62:(m,M,S)=>{"use strict";var p,_=function(){return p===void 0&&(p=Boolean(window&&document&&document.all&&!window.atob)),p},l=function(){var u={};return function(y){if(u[y]===void 0){var f=document.querySelector(y);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}u[y]=f}return u[y]}}(),c=[];function P(u){for(var y=-1,f=0;f<c.length;f++)if(c[f].identifier===u){y=f;break}return y}function B(u,y){for(var f={},v=[],A=0;A<u.length;A++){var T=u[A],E=y.base?T[0]+y.base:T[0],ae=f[E]||0,q="".concat(E," ").concat(ae);f[E]=ae+1;var z=P(q),b={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(b)):c.push({identifier:q,updater:ie(b,y),references:1}),v.push(q)}return v}function x(u){var y=document.createElement("style"),f=u.attributes||{};if(f.nonce===void 0){var v=S.nc;v&&(f.nonce=v)}if(Object.keys(f).forEach(function(T){y.setAttribute(T,f[T])}),typeof u.insert=="function")u.insert(y);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(y)}return y}var h,j=(h=[],function(u,y){return h[u]=y,h.filter(Boolean).join(`
`)});function Z(u,y,f,v){var A=f?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=j(y,A);else{var T=document.createTextNode(A),E=u.childNodes;E[y]&&u.removeChild(E[y]),E.length?u.insertBefore(T,E[y]):u.appendChild(T)}}function Y(u,y,f){var v=f.css,A=f.media,T=f.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var te=null,oe=0;function ie(u,y){var f,v,A;if(y.singleton){var T=oe++;f=te||(te=x(y)),v=Z.bind(null,f,T,!1),A=Z.bind(null,f,T,!0)}else f=x(y),v=Y.bind(null,f,y),A=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(f)};return v(u),function(E){if(E){if(E.css===u.css&&E.media===u.media&&E.sourceMap===u.sourceMap)return;v(u=E)}else A()}}m.exports=function(u,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=_());var f=B(u=u||[],y);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<f.length;A++){var T=P(f[A]);c[T].references--}for(var E=B(v,y),ae=0;ae<f.length;ae++){var q=P(f[ae]);c[q].references===0&&(c[q].updater(),c.splice(q,1))}f=E}}}},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},492:(m,M,S)=>{m.exports=S(79)("./src/engine.js")},331:(m,M,S)=>{m.exports=S(79)("./src/enter.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},209:(m,M,S)=>{m.exports=S(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={id:m,exports:{}};return Gt[m](S,S.exports,J),S.exports}J.n=m=>{var M=m&&m.__esModule?()=>m.default:()=>m;return J.d(M,{a:M}),M},J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},J.nc=void 0;var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{CodeBlock:()=>q,CodeBlockEditing:()=>ie,CodeBlockUI:()=>ae});var m=J(704),M=J(331),S=J(492),p=J(209);function _(z){const b=z.t,V=z.config.get("codeBlock.languages");for(const $ of V)$.label==="Plain text"&&($.label=b("Plain text")),$.class===void 0&&($.class=`language-${$.language}`);return V}function l(z,b,V){const $={};for(const D of z)b==="class"?$[D[b].split(" ").shift()]=D[V]:$[D[b]]=D[V];return $}function c(z){return z.data.match(/^(\s*)/)[0]}function P(z){const b=z.document.selection,V=[];if(b.isCollapsed)return[b.anchor];const $=b.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:D}of $){if(!D.is("$textProxy"))continue;const{parent:re,startOffset:Ee}=D.textNode;if(!re.is("element","codeBlock"))continue;const je=c(D.textNode),Ie=z.createPositionAt(re,Ee+je.length);V.push(Ie)}return V}function B(z){const b=(0,p.first)(z.getSelectedBlocks());return!!b&&b.is("element","codeBlock")}function x(z,b){return!b.is("rootElement")&&!z.isLimit(b)&&z.checkChild(b.parent,"codeBlock")}class h extends m.Command{constructor(b){super(b),this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(b={}){const V=this.editor,$=V.model,D=$.document.selection,re=_(V)[0],Ee=Array.from(D.getSelectedBlocks()),je=b.forceValue==null?!this.value:b.forceValue,Ie=function(De,mt,lt){return De.language?De.language:De.usePreviousLanguageChoice&&mt?mt:lt}(b,this._lastLanguage,re.language);$.change(De=>{je?this._applyCodeBlock(De,Ee,Ie):this._removeCodeBlock(De,Ee)})}_getValue(){const b=this.editor.model.document.selection,V=(0,p.first)(b.getSelectedBlocks());return!(!V||!V.is("element","codeBlock"))&&V.getAttribute("language")}_checkEnabled(){if(this.value)return!0;const b=this.editor.model.document.selection,V=this.editor.model.schema,$=(0,p.first)(b.getSelectedBlocks());return!!$&&x(V,$)}_applyCodeBlock(b,V,$){this._lastLanguage=$;const D=this.editor.model.schema,re=V.filter(Ee=>x(D,Ee));for(const Ee of re)b.rename(Ee,"codeBlock"),b.setAttribute("language",$,Ee),D.removeDisallowedAttributes([Ee],b),Array.from(Ee.getChildren()).filter(je=>!D.checkChild(Ee,je)).forEach(je=>b.remove(je));re.reverse().forEach((Ee,je)=>{const Ie=re[je+1];Ee.previousSibling===Ie&&(b.appendElement("softBreak",Ie),b.merge(b.createPositionBefore(Ee)))})}_removeCodeBlock(b,V){const $=V.filter(D=>D.is("element","codeBlock"));for(const D of $){const re=b.createRangeOn(D);for(const Ee of Array.from(re.getItems()).reverse())if(Ee.is("element","softBreak")&&Ee.parent.is("element","codeBlock")){const{position:je}=b.split(b.createPositionBefore(Ee)),Ie=je.nodeAfter;b.rename(Ie,"paragraph"),b.removeAttribute("language",Ie),b.remove(Ee)}b.rename(D,"paragraph"),b.removeAttribute("language",D)}}}class j extends m.Command{constructor(b){super(b),this._indentSequence=b.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const b=this.editor.model;b.change(V=>{const $=P(b);for(const D of $){const re=V.createText(this._indentSequence);b.insertContent(re,D)}})}_checkEnabled(){return!!this._indentSequence&&B(this.editor.model.document.selection)}}class Z extends m.Command{constructor(b){super(b),this._indentSequence=b.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const b=this.editor.model;b.change(()=>{const V=P(b);for(const $ of V){const D=Y(b,$,this._indentSequence);D&&b.deleteContent(b.createSelection(D))}})}_checkEnabled(){if(!this._indentSequence)return!1;const b=this.editor.model;return!!B(b.document.selection)&&P(b).some(V=>Y(b,V,this._indentSequence))}}function Y(z,b,V){const $=function(Ie){let De=Ie.parent.getChild(Ie.index);return De&&!De.is("element","softBreak")||(De=Ie.nodeBefore),!De||De.is("element","softBreak")?null:De}(b);if(!$)return null;const D=c($),re=D.lastIndexOf(V);if(re+V.length!==D.length||re===-1)return null;const{parent:Ee,startOffset:je}=$;return z.createRange(z.createPositionAt(Ee,je+re),z.createPositionAt(Ee,je+re+V.length))}function te(z,b,V=!1){const $=l(b,"language","class"),D=l(b,"language","label");return(re,Ee,je)=>{const{writer:Ie,mapper:De,consumable:mt}=je;if(!mt.consume(Ee.item,"insert"))return;const lt=Ee.item.getAttribute("language"),ut=De.toViewPosition(z.createPositionBefore(Ee.item)),dt={};V&&(dt["data-language"]=D[lt],dt.spellcheck="false");const _t=$[lt]?{class:$[lt]}:void 0,bt=Ie.createContainerElement("code",_t),Qe=Ie.createContainerElement("pre",dt,bt);Ie.insert(ut,Qe),De.bindElements(Ee.item,bt)}}const oe="paragraph";class ie extends m.Plugin{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[M.ShiftEnter]}constructor(b){super(b),b.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const b=this.editor,V=b.model.schema,$=b.model,D=b.editing.view,re=b.plugins.has("DocumentListEditing")?b.plugins.get("DocumentListEditing"):null,Ee=_(b);b.commands.add("codeBlock",new h(b)),b.commands.add("indentCodeBlock",new j(b)),b.commands.add("outdentCodeBlock",new Z(b)),this.listenTo(D.document,"tab",(je,Ie)=>{const De=Ie.shiftKey?"outdentCodeBlock":"indentCodeBlock";b.commands.get(De).isEnabled&&(b.execute(De),Ie.stopPropagation(),Ie.preventDefault(),je.stop())},{context:"pre"}),V.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),V.addAttributeCheck((je,Ie)=>!!(je.endsWith("codeBlock")&&re&&re.getListAttributeNames().includes(Ie))||!je.endsWith("codeBlock $text")&&void 0),b.model.schema.addChildCheck((je,Ie)=>{if(je.endsWith("codeBlock")&&Ie.isObject)return!1}),b.editing.downcastDispatcher.on("insert:codeBlock",te($,Ee,!0)),b.data.downcastDispatcher.on("insert:codeBlock",te($,Ee)),b.data.downcastDispatcher.on("insert:softBreak",function(je){return(Ie,De,mt)=>{if(De.item.parent.name!=="codeBlock")return;const{writer:lt,mapper:ut,consumable:dt}=mt;if(!dt.consume(De.item,"insert"))return;const _t=ut.toViewPosition(je.createPositionBefore(De.item));lt.insert(_t,lt.createText(`
`))}}($),{priority:"high"}),b.data.upcastDispatcher.on("element:code",function(je,Ie){const De=l(Ie,"class","language"),mt=Ie[0].language;return(lt,ut,dt)=>{const _t=ut.viewItem,bt=_t.parent;if(!bt||!bt.is("element","pre")||ut.modelCursor.findAncestor("codeBlock"))return;const{consumable:Qe,writer:ft}=dt;if(!Qe.test(_t,{name:!0}))return;const Ve=ft.createElement("codeBlock"),Te=[..._t.getClassNames()];Te.length||Te.push("");for(const Q of Te){const xe=De[Q];if(xe){ft.setAttribute("language",xe,Ve);break}}Ve.hasAttribute("language")||ft.setAttribute("language",mt,Ve),dt.convertChildren(_t,Ve),dt.safeInsert(Ve,ut.modelCursor)&&(Qe.consume(_t,{name:!0}),dt.updateConversionResult(Ve,ut))}}(0,Ee)),b.data.upcastDispatcher.on("text",(je,Ie,{consumable:De,writer:mt})=>{let lt=Ie.modelCursor;if(!De.test(Ie.viewItem)||!lt.findAncestor("codeBlock"))return;De.consume(Ie.viewItem);const ut=Ie.viewItem.data.split(`
`).map(_t=>mt.createText(_t)),dt=ut[ut.length-1];for(const _t of ut)if(mt.insert(_t,lt),lt=lt.getShiftedBy(_t.offsetSize),_t!==dt){const bt=mt.createElement("softBreak");mt.insert(bt,lt),lt=mt.createPositionAfter(bt)}Ie.modelRange=mt.createRange(Ie.modelCursor,lt),Ie.modelCursor=lt}),b.data.upcastDispatcher.on("element:pre",(je,Ie,{consumable:De})=>{const mt=Ie.viewItem;if(mt.findAncestor("pre"))return;const lt=Array.from(mt.getChildren()),ut=lt.find(dt=>dt.is("element","code"));if(ut)for(const dt of lt)dt!==ut&&dt.is("$text")&&De.consume(dt,{name:!0})},{priority:"high"}),this.listenTo(b.editing.view.document,"clipboardInput",(je,Ie)=>{let De=$.createRange($.document.selection.anchor);if(Ie.targetRanges&&(De=b.editing.mapper.toModelRange(Ie.targetRanges[0])),!De.start.parent.is("element","codeBlock"))return;const mt=Ie.dataTransfer.getData("text/plain"),lt=new S.UpcastWriter(b.editing.view.document);Ie.content=function(ut,dt){const _t=ut.createDocumentFragment(),bt=dt.split(`
`),Qe=bt.reduce((ft,Ve,Te)=>(ft.push(Ve),Te<bt.length-1&&ft.push(ut.createElement("br")),ft),[]);return ut.appendChild(Qe,_t),_t}(lt,mt)}),this.listenTo($,"getSelectedContent",(je,[Ie])=>{const De=Ie.anchor;!Ie.isCollapsed&&De.parent.is("element","codeBlock")&&De.hasSameParentAs(Ie.focus)&&$.change(mt=>{const lt=je.return;if(De.parent.is("element")&&(lt.childCount>1||Ie.containsEntireContent(De.parent))){const dt=mt.createElement("codeBlock",De.parent.getAttributes());mt.append(lt,dt);const _t=mt.createDocumentFragment();return mt.append(dt,_t),void(je.return=_t)}const ut=lt.getChild(0);V.checkAttribute(ut,"code")&&mt.setAttribute("code",!0,ut)})})}afterInit(){const b=this.editor,V=b.commands,$=V.get("indent"),D=V.get("outdent");$&&$.registerChildCommand(V.get("indentCodeBlock"),{priority:"highest"}),D&&D.registerChildCommand(V.get("outdentCodeBlock")),this.listenTo(b.editing.view.document,"enter",(re,Ee)=>{b.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(function(je,Ie){const De=je.model,mt=De.document,lt=je.editing.view,ut=mt.selection.getLastPosition(),dt=ut.nodeAfter;return Ie||!mt.selection.isCollapsed||!ut.isAtStart||!y(dt)?!1:(je.model.change(_t=>{je.execute("enter");const bt=mt.selection.anchor.parent.previousSibling;_t.rename(bt,oe),_t.setSelection(bt,"in"),je.model.schema.removeDisallowedAttributes([bt],_t),_t.remove(dt)}),lt.scrollToTheSelection(),!0)}(b,Ee.isSoft)||function(je,Ie){const De=je.model,mt=De.document,lt=je.editing.view,ut=mt.selection.getLastPosition(),dt=ut.nodeBefore;let _t;if(Ie||!mt.selection.isCollapsed||!ut.isAtEnd||!dt||!dt.previousSibling)return!1;if(y(dt)&&y(dt.previousSibling))_t=De.createRange(De.createPositionBefore(dt.previousSibling),De.createPositionAfter(dt));else if(u(dt)&&y(dt.previousSibling)&&y(dt.previousSibling.previousSibling))_t=De.createRange(De.createPositionBefore(dt.previousSibling.previousSibling),De.createPositionAfter(dt));else{if(!(u(dt)&&y(dt.previousSibling)&&u(dt.previousSibling.previousSibling)&&dt.previousSibling.previousSibling&&y(dt.previousSibling.previousSibling.previousSibling)))return!1;_t=De.createRange(De.createPositionBefore(dt.previousSibling.previousSibling.previousSibling),De.createPositionAfter(dt))}return je.model.change(bt=>{bt.remove(_t),je.execute("enter");const Qe=mt.selection.anchor.parent;bt.rename(Qe,oe),je.model.schema.removeDisallowedAttributes([Qe],bt)}),lt.scrollToTheSelection(),!0}(b,Ee.isSoft)||function(je){const Ie=je.model,De=Ie.document,mt=De.selection.getLastPosition(),lt=mt.nodeBefore||mt.textNode;let ut;lt&&lt.is("$text")&&(ut=c(lt)),je.model.change(dt=>{je.execute("shiftEnter"),ut&&dt.insertText(ut,De.selection.anchor)})}(b),Ee.preventDefault(),re.stop())},{context:"pre"})}}function u(z){return z&&z.is("$text")&&!z.data.match(/\S/)}function y(z){return z&&z.is("element","softBreak")}var f=J(273),v=J(62),A=J.n(v),T=J(11),E={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(T.Z,E),T.Z.locals;class ae extends m.Plugin{static get pluginName(){return"CodeBlockUI"}init(){const b=this.editor,V=b.t,$=b.ui.componentFactory,D=_(b);$.add("codeBlock",re=>{const Ee=b.commands.get("codeBlock"),je=(0,f.createDropdown)(re,f.SplitButtonView),Ie=je.buttonView,De=V("Insert code block");return Ie.set({label:De,tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',isToggleable:!0}),Ie.bind("isOn").to(Ee,"value",mt=>!!mt),Ie.on("execute",()=>{b.execute("codeBlock",{usePreviousLanguageChoice:!0}),b.editing.view.focus()}),je.on("execute",mt=>{b.execute("codeBlock",{language:mt.source._codeBlockLanguage,forceValue:!0}),b.editing.view.focus()}),je.class="ck-code-block-dropdown",je.bind("isEnabled").to(Ee),(0,f.addListToDropdown)(je,()=>this._getLanguageListItemDefinitions(D),{role:"menu",ariaLabel:De}),je})}_getLanguageListItemDefinitions(b){const V=this.editor.commands.get("codeBlock"),$=new p.Collection;for(const D of b){const re={type:"button",model:new f.Model({_codeBlockLanguage:D.language,label:D.label,role:"menuitemradio",withText:!0})};re.model.bind("isOn").to(V,"value",Ee=>Ee===re.model._codeBlockLanguage),$.add(re)}return $}}class q extends m.Plugin{static get requires(){return[ie,ae]}static get pluginName(){return"CodeBlock"}}})(),(window.CKEditor5=window.CKEditor5||{}).codeBlock=Et})()},66916:(Gt,wt,J)=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Et={73:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}",""]);const B=P},609:p=>{"use strict";p.exports=function(_){var l=[];return l.toString=function(){return this.map(function(c){var P=_(c);return c[2]?"@media ".concat(c[2]," {").concat(P,"}"):P}).join("")},l.i=function(c,P,B){typeof c=="string"&&(c=[[null,c,""]]);var x={};if(B)for(var h=0;h<this.length;h++){var j=this[h][0];j!=null&&(x[j]=!0)}for(var Z=0;Z<c.length;Z++){var Y=[].concat(c[Z]);B&&x[Y[0]]||(P&&(Y[2]?Y[2]="".concat(P," and ").concat(Y[2]):Y[2]=P),l.push(Y))}},l}},62:(p,_,l)=>{"use strict";var c,P=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},B=function(){var v={};return function(A){if(v[A]===void 0){var T=document.querySelector(A);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}v[A]=T}return v[A]}}(),x=[];function h(v){for(var A=-1,T=0;T<x.length;T++)if(x[T].identifier===v){A=T;break}return A}function j(v,A){for(var T={},E=[],ae=0;ae<v.length;ae++){var q=v[ae],z=A.base?q[0]+A.base:q[0],b=T[z]||0,V="".concat(z," ").concat(b);T[z]=b+1;var $=h(V),D={css:q[1],media:q[2],sourceMap:q[3]};$!==-1?(x[$].references++,x[$].updater(D)):x.push({identifier:V,updater:f(D,A),references:1}),E.push(V)}return E}function Z(v){var A=document.createElement("style"),T=v.attributes||{};if(T.nonce===void 0){var E=l.nc;E&&(T.nonce=E)}if(Object.keys(T).forEach(function(q){A.setAttribute(q,T[q])}),typeof v.insert=="function")v.insert(A);else{var ae=B(v.insert||"head");if(!ae)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ae.appendChild(A)}return A}var Y,te=(Y=[],function(v,A){return Y[v]=A,Y.filter(Boolean).join(`
`)});function oe(v,A,T,E){var ae=T?"":E.media?"@media ".concat(E.media," {").concat(E.css,"}"):E.css;if(v.styleSheet)v.styleSheet.cssText=te(A,ae);else{var q=document.createTextNode(ae),z=v.childNodes;z[A]&&v.removeChild(z[A]),z.length?v.insertBefore(q,z[A]):v.appendChild(q)}}function ie(v,A,T){var E=T.css,ae=T.media,q=T.sourceMap;if(ae?v.setAttribute("media",ae):v.removeAttribute("media"),q&&typeof btoa<"u"&&(E+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(q))))," */")),v.styleSheet)v.styleSheet.cssText=E;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(E))}}var u=null,y=0;function f(v,A){var T,E,ae;if(A.singleton){var q=y++;T=u||(u=Z(A)),E=oe.bind(null,T,q,!1),ae=oe.bind(null,T,q,!0)}else T=Z(A),E=ie.bind(null,T,A),ae=function(){(function(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z)})(T)};return E(v),function(z){if(z){if(z.css===v.css&&z.media===v.media&&z.sourceMap===v.sourceMap)return;E(v=z)}else ae()}}p.exports=function(v,A){(A=A||{}).singleton||typeof A.singleton=="boolean"||(A.singleton=P());var T=j(v=v||[],A);return function(E){if(E=E||[],Object.prototype.toString.call(E)==="[object Array]"){for(var ae=0;ae<T.length;ae++){var q=h(T[ae]);x[q].references--}for(var z=j(E,A),b=0;b<T.length;b++){var V=h(T[b]);x[V].references===0&&(x[V].updater(),x.splice(V,1))}T=z}}}},704:(p,_,l)=>{p.exports=l(79)("./src/core.js")},492:(p,_,l)=>{p.exports=l(79)("./src/engine.js")},273:(p,_,l)=>{p.exports=l(79)("./src/ui.js")},209:(p,_,l)=>{p.exports=l(79)("./src/utils.js")},434:(p,_,l)=>{p.exports=l(79)("./src/watchdog.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},m={};function M(p){var _=m[p];if(_!==void 0)return _.exports;var l=m[p]={id:p,exports:{}};return Et[p](l,l.exports,M),l.exports}M.n=p=>{var _=p&&p.__esModule?()=>p.default:()=>p;return M.d(_,{a:_}),_},M.d=(p,_)=>{for(var l in _)M.o(_,l)&&!M.o(p,l)&&Object.defineProperty(p,l,{enumerable:!0,get:_[l]})},M.o=(p,_)=>Object.prototype.hasOwnProperty.call(p,_),M.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},M.nc=void 0;var S={};(()=>{"use strict";M.r(S),M.d(S,{ClassicEditor:()=>De});var p=M(273),_=M(492),l=M(209);class c extends p.EditorUI{constructor(ut,dt){super(ut),this.view=dt,this._toolbarConfig=(0,p.normalizeToolbarConfig)(ut.config.get("toolbar")),this._elementReplacer=new l.ElementReplacer,this.listenTo(ut.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(ut){const dt=this.editor,_t=this.view,bt=dt.editing.view,Qe=_t.editable,ft=bt.document.getRoot();Qe.name=ft.rootName,_t.render();const Ve=Qe.element;this.setEditableElement(Qe.name,Ve),_t.editable.bind("isFocused").to(this.focusTracker),bt.attachDomRoot(Ve),ut&&this._elementReplacer.replace(ut,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const ut=this.view,dt=this.editor.editing.view;this._elementReplacer.restore(),dt.detachDomRoot(ut.editable.name),ut.destroy()}_initToolbar(){const ut=this.view;ut.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),ut.stickyPanel.limiterElement=ut.element,ut.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:dt})=>dt||0),ut.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(ut.toolbar)}_initPlaceholder(){const ut=this.editor,dt=ut.editing.view,_t=dt.document.getRoot(),bt=ut.sourceElement;let Qe;const ft=ut.config.get("placeholder");ft&&(Qe=typeof ft=="string"?ft:ft[this.view.editable.name]),!Qe&&bt&&bt.tagName.toLowerCase()==="textarea"&&(Qe=bt.getAttribute("placeholder")),Qe&&(_t.placeholder=Qe),(0,_.enablePlaceholder)({view:dt,element:_t,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(ut,dt,_t){const bt=this.view.stickyPanel;if(bt.isSticky){const Qe=new l.Rect(bt.element).height;dt.viewportOffset.top+=Qe}else{const Qe=()=>{this.editor.editing.view.scrollToTheSelection(_t)};this.listenTo(bt,"change:isSticky",Qe),setTimeout(()=>{this.stopListening(bt,"change:isSticky",Qe)},20)}}}var P=M(62),B=M.n(P),x=M(73),h={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};B()(x.Z,h),x.Z.locals;class j extends p.BoxedEditorUIView{constructor(ut,dt,_t={}){super(ut),this.stickyPanel=new p.StickyPanelView(ut),this.toolbar=new p.ToolbarView(ut,{shouldGroupWhenFull:_t.shouldToolbarGroupWhenFull}),this.editable=new p.InlineEditableUIView(ut,dt)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}var Z=M(704),Y=M(434);const te=function(lt){return lt!=null&&typeof lt=="object"},oe=typeof J.g=="object"&&J.g&&J.g.Object===Object&&J.g;var ie=typeof self=="object"&&self&&self.Object===Object&&self;const u=(oe||ie||Function("return this")()).Symbol;var y=Object.prototype,f=y.hasOwnProperty,v=y.toString,A=u?u.toStringTag:void 0;const T=function(lt){var ut=f.call(lt,A),dt=lt[A];try{lt[A]=void 0;var _t=!0}catch{}var bt=v.call(lt);return _t&&(ut?lt[A]=dt:delete lt[A]),bt};var E=Object.prototype.toString;const ae=function(lt){return E.call(lt)};var q=u?u.toStringTag:void 0;const z=function(lt){return lt==null?lt===void 0?"[object Undefined]":"[object Null]":q&&q in Object(lt)?T(lt):ae(lt)},b=function(lt,ut){return function(dt){return lt(ut(dt))}}(Object.getPrototypeOf,Object);var V=Function.prototype,$=Object.prototype,D=V.toString,re=$.hasOwnProperty,Ee=D.call(Object);const je=function(lt){if(!te(lt)||z(lt)!="[object Object]")return!1;var ut=b(lt);if(ut===null)return!0;var dt=re.call(ut,"constructor")&&ut.constructor;return typeof dt=="function"&&dt instanceof dt&&D.call(dt)==Ee},Ie=function(lt){return te(lt)&&lt.nodeType===1&&!je(lt)};class De extends(0,Z.DataApiMixin)((0,Z.ElementApiMixin)(Z.Editor)){constructor(ut,dt={}){if(!mt(ut)&&dt.initialData!==void 0)throw new l.CKEditorError("editor-create-initial-data",null);super(dt),this.config.get("initialData")===void 0&&this.config.set("initialData",function(Qe){return mt(Qe)?(0,l.getDataFromElement)(Qe):Qe}(ut)),mt(ut)&&(this.sourceElement=ut),this.model.document.createRoot();const _t=!this.config.get("toolbar.shouldNotGroupWhenFull"),bt=new j(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:_t});this.ui=new c(this,bt),(0,Z.attachToForm)(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(ut,dt={}){return new Promise(_t=>{const bt=new this(ut,dt);_t(bt.initPlugins().then(()=>bt.ui.init(mt(ut)?ut:null)).then(()=>bt.data.init(bt.config.get("initialData"))).then(()=>bt.fire("ready")).then(()=>bt))})}}function mt(lt){return Ie(lt)}De.Context=Z.Context,De.EditorWatchdog=Y.EditorWatchdog,De.ContextWatchdog=Y.ContextWatchdog})(),(window.CKEditor5=window.CKEditor5||{}).editorClassic=S})()},16619:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Gt={945:(m,M,S)=>{m.exports=S(79)("./src/clipboard.js")},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},331:(m,M,S)=>{m.exports=S(79)("./src/enter.js")},468:(m,M,S)=>{m.exports=S(79)("./src/select-all.js")},181:(m,M,S)=>{m.exports=S(79)("./src/typing.js")},254:(m,M,S)=>{m.exports=S(79)("./src/undo.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={exports:{}};return Gt[m](S,S.exports,J),S.exports}J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{Essentials:()=>c});var m=J(704),M=J(945),S=J(331),p=J(468),_=J(181),l=J(254);class c extends m.Plugin{static get requires(){return[M.Clipboard,S.Enter,p.SelectAll,S.ShiftEnter,_.Typing,l.Undo]}static get pluginName(){return"Essentials"}}})(),(window.CKEditor5=window.CKEditor5||{}).essentials=Et})()},32521:(Gt,wt,J)=>{(function(Et){const m=Et.en=Et.en||{};m.dictionary=Object.assign(m.dictionary||{},{Find:"Find","Find and replace":"Find and replace","Find in text\u2026":"Find in text\u2026","Match case":"Match case","Next result":"Next result","Previous result":"Previous result",Replace:"Replace","Replace all":"Replace all","Replace with\u2026":"Replace with\u2026","Show options":"Show options","Text to find must not be empty.":"Text to find must not be empty.","Tip: Find some text first in order to replace it.":"Tip: Find some text first in order to replace it.","Whole words only":"Whole words only"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Et={487:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const B=P},355:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck-find-result{background:var(--ck-color-highlight-background);color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}",""]);const B=P},957:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-find-and-replace-form{max-width:100%}.ck.ck-find-and-replace-form fieldset{display:flex}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{position:absolute}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form fieldset{align-content:stretch;align-items:center;border:0;flex-direction:row;flex-wrap:nowrap;margin:0;padding:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset>.ck-button{flex:0 0 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset>*+*{margin-right:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view .ck-input{min-width:50px;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find{align-items:flex-start}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{left:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{color:var(--ck-color-base-border)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(var(--ck-spacing-large)*-1)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view{margin-bottom:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-options-dropdown{margin-left:0;margin-right:auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view,.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-find-and-replace-form{width:300px}.ck.ck-find-and-replace-form fieldset{flex-wrap:wrap}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-labeled-field-view{flex:1 0 auto;margin-bottom:var(--ck-spacing-standard);width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button{text-align:center}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type .ck-button__label{text-align:center;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>:not(.ck-labeled-field-view){flex:1 1 auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-dropdown:not(.ck-labeled-field-view){flex-grow:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-button:not(.ck-labeled-field-view)>.ck-button__label{text-align:center;width:100%}}",""]);const B=P},609:p=>{"use strict";p.exports=function(_){var l=[];return l.toString=function(){return this.map(function(c){var P=_(c);return c[2]?"@media ".concat(c[2]," {").concat(P,"}"):P}).join("")},l.i=function(c,P,B){typeof c=="string"&&(c=[[null,c,""]]);var x={};if(B)for(var h=0;h<this.length;h++){var j=this[h][0];j!=null&&(x[j]=!0)}for(var Z=0;Z<c.length;Z++){var Y=[].concat(c[Z]);B&&x[Y[0]]||(P&&(Y[2]?Y[2]="".concat(P," and ").concat(Y[2]):Y[2]=P),l.push(Y))}},l}},62:(p,_,l)=>{"use strict";var c,P=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},B=function(){var v={};return function(A){if(v[A]===void 0){var T=document.querySelector(A);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}v[A]=T}return v[A]}}(),x=[];function h(v){for(var A=-1,T=0;T<x.length;T++)if(x[T].identifier===v){A=T;break}return A}function j(v,A){for(var T={},E=[],ae=0;ae<v.length;ae++){var q=v[ae],z=A.base?q[0]+A.base:q[0],b=T[z]||0,V="".concat(z," ").concat(b);T[z]=b+1;var $=h(V),D={css:q[1],media:q[2],sourceMap:q[3]};$!==-1?(x[$].references++,x[$].updater(D)):x.push({identifier:V,updater:f(D,A),references:1}),E.push(V)}return E}function Z(v){var A=document.createElement("style"),T=v.attributes||{};if(T.nonce===void 0){var E=l.nc;E&&(T.nonce=E)}if(Object.keys(T).forEach(function(q){A.setAttribute(q,T[q])}),typeof v.insert=="function")v.insert(A);else{var ae=B(v.insert||"head");if(!ae)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ae.appendChild(A)}return A}var Y,te=(Y=[],function(v,A){return Y[v]=A,Y.filter(Boolean).join(`
`)});function oe(v,A,T,E){var ae=T?"":E.media?"@media ".concat(E.media," {").concat(E.css,"}"):E.css;if(v.styleSheet)v.styleSheet.cssText=te(A,ae);else{var q=document.createTextNode(ae),z=v.childNodes;z[A]&&v.removeChild(z[A]),z.length?v.insertBefore(q,z[A]):v.appendChild(q)}}function ie(v,A,T){var E=T.css,ae=T.media,q=T.sourceMap;if(ae?v.setAttribute("media",ae):v.removeAttribute("media"),q&&typeof btoa<"u"&&(E+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(q))))," */")),v.styleSheet)v.styleSheet.cssText=E;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(E))}}var u=null,y=0;function f(v,A){var T,E,ae;if(A.singleton){var q=y++;T=u||(u=Z(A)),E=oe.bind(null,T,q,!1),ae=oe.bind(null,T,q,!0)}else T=Z(A),E=ie.bind(null,T,A),ae=function(){(function(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z)})(T)};return E(v),function(z){if(z){if(z.css===v.css&&z.media===v.media&&z.sourceMap===v.sourceMap)return;E(v=z)}else ae()}}p.exports=function(v,A){(A=A||{}).singleton||typeof A.singleton=="boolean"||(A.singleton=P());var T=j(v=v||[],A);return function(E){if(E=E||[],Object.prototype.toString.call(E)==="[object Array]"){for(var ae=0;ae<T.length;ae++){var q=h(T[ae]);x[q].references--}for(var z=j(E,A),b=0;b<T.length;b++){var V=h(T[b]);x[V].references===0&&(x[V].updater(),x.splice(V,1))}T=z}}}},704:(p,_,l)=>{p.exports=l(79)("./src/core.js")},273:(p,_,l)=>{p.exports=l(79)("./src/ui.js")},209:(p,_,l)=>{p.exports=l(79)("./src/utils.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},m={};function M(p){var _=m[p];if(_!==void 0)return _.exports;var l=m[p]={id:p,exports:{}};return Et[p](l,l.exports,M),l.exports}M.n=p=>{var _=p&&p.__esModule?()=>p.default:()=>p;return M.d(_,{a:_}),_},M.d=(p,_)=>{for(var l in _)M.o(_,l)&&!M.o(p,l)&&Object.defineProperty(p,l,{enumerable:!0,get:_[l]})},M.o=(p,_)=>Object.prototype.hasOwnProperty.call(p,_),M.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},M.nc=void 0;var S={};(()=>{"use strict";M.r(S),M.d(S,{FindAndReplace:()=>$i,FindAndReplaceEditing:()=>Pi,FindAndReplaceUI:()=>te,FindAndReplaceUtils:()=>Q,FindCommand:()=>oe,FindNextCommand:()=>f,FindPreviousCommand:()=>v,ReplaceAllCommand:()=>y,ReplaceCommand:()=>u});var p=M(704),_=M(273),l=M(209),c=M(62),P=M.n(c),B=M(487),x={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};P()(B.Z,x),B.Z.locals;var h=M(957),j={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};P()(h.Z,j),h.Z.locals;const Z='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>';class Y extends _.View{constructor(ue){super(ue);const ye=ue.t;this.set("matchCount",0),this.set("highlightOffset",0),this.set("isDirty",!1),this.set("_areCommandsEnabled",{}),this.set("_resultsCounterText",""),this.set("_matchCase",!1),this.set("_wholeWordsOnly",!1),this.bind("_searchResultsFound").to(this,"matchCount",this,"isDirty",(Le,Ge)=>Le>0&&!Ge),this._findInputView=this._createInputField(ye("Find in text\u2026")),this._replaceInputView=this._createInputField(ye("Replace with\u2026")),this._findButtonView=this._createButton({label:ye("Find"),class:"ck-button-find ck-button-action",withText:!0}),this._findPrevButtonView=this._createButton({label:ye("Previous result"),class:"ck-button-prev",icon:Z,keystroke:"Shift+F3",tooltip:!0}),this._findNextButtonView=this._createButton({label:ye("Next result"),class:"ck-button-next",icon:Z,keystroke:"F3",tooltip:!0}),this._optionsDropdown=this._createOptionsDropdown(),this._replaceButtonView=this._createButton({label:ye("Replace"),class:"ck-button-replace",withText:!0}),this._replaceAllButtonView=this._createButton({label:ye("Replace all"),class:"ck-button-replaceall",withText:!0}),this._findFieldsetView=this._createFindFieldset(),this._replaceFieldsetView=this._createReplaceFieldset(),this._focusTracker=new l.FocusTracker,this._keystrokes=new l.KeystrokeHandler,this._focusables=new _.ViewCollection,this._focusCycler=new _.FocusCycler({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:[new _.FormHeaderView(ue,{label:ye("Find and replace")}),this._findFieldsetView,this._replaceFieldsetView]})}render(){super.render(),(0,_.submitHandler)({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}destroy(){super.destroy(),this._focusTracker.destroy(),this._keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}reset(){this._findInputView.errorText=null,this.isDirty=!0}get _textToFind(){return this._findInputView.fieldView.element.value}get _textToReplace(){return this._replaceInputView.fieldView.element.value}_createFindFieldset(){const ue=this.locale,ye=new _.View(ue);return this._findInputView.fieldView.on("input",()=>{this.isDirty=!0}),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findPrevious:Le})=>Le),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findNext:Le})=>Le),this._injectFindResultsCounter(),ye.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__find"]},children:[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView]}),ye}_onFindButtonExecute(){if(this._textToFind)this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly});else{const ue=this.t;this._findInputView.errorText=ue("Text to find must not be empty.")}}_injectFindResultsCounter(){const ue=this.locale,ye=ue.t,Le=this.bindTemplate,Ge=new _.View(this.locale);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",(gt,Ot)=>ye("%0 of %1",[gt,Ot])),Ge.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",Le.if("isDirty","ck-hidden")]},children:[{text:Le.to("_resultsCounterText")}]});const rt=()=>{const gt=this._findInputView.fieldView.element;if(!gt||!(0,l.isVisible)(gt))return;const Ot=new l.Rect(Ge.element).width,Mt=ue.uiLanguageDirection==="ltr"?"paddingRight":"paddingLeft";gt.style[Mt]=Ot?`calc( 2 * var(--ck-spacing-standard) + ${Ot}px )`:""};this.on("change:_resultsCounterText",rt,{priority:"low"}),this.on("change:isDirty",rt,{priority:"low"}),this._findInputView.template.children[0].children.push(Ge)}_createReplaceFieldset(){const ue=this.locale.t,ye=new _.View(this.locale);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:Le},Ge)=>Le&&Ge),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replaceAll:Le},Ge)=>Le&&Ge),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:Le},Ge)=>Le&&Ge),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",(Le,Ge)=>Le||!Ge?"":ue("Tip: Find some text first in order to replace it.")),this._replaceButtonView.on("execute",()=>{this.fire("replace",{searchText:this._textToFind,replaceText:this._textToReplace})}),this._replaceAllButtonView.on("execute",()=>{this.fire("replaceAll",{searchText:this._textToFind,replaceText:this._textToReplace}),this.focus()}),ye.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__replace"]},children:[this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView]}),ye}_createOptionsDropdown(){const ue=this.locale.t,ye=(0,_.createDropdown)(this.locale);ye.class="ck-options-dropdown",ye.buttonView.set({withText:!1,label:ue("Show options"),icon:p.icons.cog,tooltip:!0});const Le=new _.Model({withText:!0,label:ue("Match case"),_isMatchCaseSwitch:!0}),Ge=new _.Model({withText:!0,label:ue("Whole words only")});return Le.bind("isOn").to(this,"_matchCase"),Ge.bind("isOn").to(this,"_wholeWordsOnly"),ye.on("execute",rt=>{rt.source._isMatchCaseSwitch?this._matchCase=!this._matchCase:this._wholeWordsOnly=!this._wholeWordsOnly,this.isDirty=!0}),(0,_.addListToDropdown)(ye,new l.Collection([{type:"switchbutton",model:Le},{type:"switchbutton",model:Ge}])),ye}_initFocusCycling(){[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView].forEach(ue=>{this._focusables.add(ue),this._focusTracker.add(ue.element)})}_initKeystrokeHandling(){const ue=Le=>Le.stopPropagation(),ye=Le=>{Le.stopPropagation(),Le.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",Le=>{ye(Le),this._findNextButtonView.fire("execute")}),this._keystrokes.set("shift+f3",Le=>{ye(Le),this._findPrevButtonView.fire("execute")}),this._keystrokes.set("enter",Le=>{const Ge=Le.target;Ge===this._findInputView.fieldView.element?(this._areCommandsEnabled.findNext?this._findNextButtonView.fire("execute"):this._findButtonView.fire("execute"),ye(Le)):Ge!==this._replaceInputView.fieldView.element||this.isDirty||(this._replaceButtonView.fire("execute"),ye(Le))}),this._keystrokes.set("shift+enter",Le=>{Le.target===this._findInputView.fieldView.element&&(this._areCommandsEnabled.findPrevious?this._findPrevButtonView.fire("execute"):this._findButtonView.fire("execute"),ye(Le))}),this._keystrokes.set("arrowright",ue),this._keystrokes.set("arrowleft",ue),this._keystrokes.set("arrowup",ue),this._keystrokes.set("arrowdown",ue)}_createButton(ue){const ye=new _.ButtonView(this.locale);return ye.set(ue),ye}_createInputField(ue){const ye=new _.LabeledFieldView(this.locale,_.createLabeledInputText);return ye.label=ue,ye}}class te extends p.Plugin{static get pluginName(){return"FindAndReplaceUI"}constructor(ue){super(ue),this.formView=null}init(){const ue=this.editor;ue.ui.componentFactory.add("findAndReplace",ye=>{const Le=(0,_.createDropdown)(ye),Ge=ue.commands.get("find");return Le.bind("isEnabled").to(Ge),Le.once("change:isOpen",()=>{this.formView=new((0,_.CssTransitionDisablerMixin)(Y))(ue.locale),Le.panelView.children.add(this.formView),this._setupFormView(this.formView)}),Le.on("change:isOpen",(rt,gt,Ot)=>{Ot?(this.formView.disableCssTransitions(),this.formView.reset(),this.formView._findInputView.fieldView.select(),this.formView.enableCssTransitions()):this.fire("searchReseted")},{priority:"low"}),this._setupDropdownButton(Le),Le})}_setupDropdownButton(ue){const ye=this.editor,Le=ye.locale.t;ue.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z"/></svg>',label:Le("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),ye.keystrokes.set("Ctrl+F",(Ge,rt)=>{ue.isEnabled&&(ue.isOpen=!0,rt())})}_setupFormView(ue){const ye=this.editor.commands,Le=this.editor.plugins.get("FindAndReplaceEditing").state,Ge={before:-1,same:0,after:1,different:1};ue.bind("highlightOffset").to(Le,"highlightedResult",Ut=>Ut?Array.from(Le.results).sort((ri,oi)=>Ge[ri.marker.getStart().compareWith(oi.marker.getStart())]).indexOf(Ut)+1:0),ue.listenTo(Le.results,"change",()=>{ue.matchCount=Le.results.length});const rt=ye.get("findNext"),gt=ye.get("findPrevious"),Ot=ye.get("replace"),Mt=ye.get("replaceAll");ue.bind("_areCommandsEnabled").to(rt,"isEnabled",gt,"isEnabled",Ot,"isEnabled",Mt,"isEnabled",(Ut,ri,oi,wi)=>({findNext:Ut,findPrevious:ri,replace:oi,replaceAll:wi})),ue.delegate("findNext","findPrevious","replace","replaceAll").to(this),ue.on("change:isDirty",(Ut,ri,oi)=>{oi&&this.fire("searchReseted")})}}class oe extends p.Command{constructor(ue,ye){super(ue),this.isEnabled=!0,this.affectsData=!1,this._state=ye}execute(ue,{matchCase:ye,wholeWords:Le}={}){const{editor:Ge}=this,{model:rt}=Ge,gt=Ge.plugins.get("FindAndReplaceUtils");let Ot;typeof ue=="string"?(Ot=gt.findByTextCallback(ue,{matchCase:ye,wholeWords:Le}),this._state.searchText=ue):Ot=ue;const Mt=rt.document.getRootNames().reduce((Ut,ri)=>gt.updateFindResultFromRange(rt.createRangeIn(rt.document.getRoot(ri)),rt,Ot,Ut),null);return this._state.clear(rt),this._state.results.addMany(Mt),this._state.highlightedResult=Mt.get(0),typeof ue=="string"&&(this._state.searchText=ue),this._state.matchCase=!!ye,this._state.matchWholeWords=!!Le,{results:Mt,findCallback:Ot}}}class ie extends p.Command{constructor(ue,ye){super(ue),this.isEnabled=!0,this._state=ye,this._isEnabledBasedOnSelection=!1}_replace(ue,ye){const{model:Le}=this.editor,Ge=ye.marker.getRange();Le.canEditAt(Ge)&&Le.change(rt=>{if(Ge.root.rootName==="$graveyard")return void this._state.results.remove(ye);let gt={};for(const Ot of Ge.getItems())if(Ot.is("$text")||Ot.is("$textProxy")){gt=Ot.getAttributes();break}Le.insertContent(rt.createText(ue,gt),Ge),this._state.results.has(ye)&&this._state.results.remove(ye)})}}class u extends ie{execute(ue,ye){this._replace(ue,ye)}}class y extends ie{execute(ue,ye){const{editor:Le}=this,{model:Ge}=Le,rt=Le.plugins.get("FindAndReplaceUtils"),gt=ye instanceof l.Collection?ye:Ge.document.getRootNames().reduce((Ot,Mt)=>rt.updateFindResultFromRange(Ge.createRangeIn(Ge.document.getRoot(Mt)),Ge,rt.findByTextCallback(ye,this._state),Ot),null);gt.length&&Ge.change(()=>{[...gt].forEach(Ot=>{this._replace(ue,Ot)})})}}class f extends p.Command{constructor(ue,ye){super(ue),this.affectsData=!1,this._state=ye,this.isEnabled=!1,this.listenTo(this._state.results,"change",()=>{this.isEnabled=this._state.results.length>1})}refresh(){this.isEnabled=this._state.results.length>1}execute(){const ue=this._state.results,ye=ue.getIndex(this._state.highlightedResult),Le=ye+1>=ue.length?0:ye+1;this._state.highlightedResult=this._state.results.get(Le)}}class v extends f{execute(){const ue=this._state.results.getIndex(this._state.highlightedResult),ye=ue-1<0?this._state.results.length-1:ue-1;this._state.highlightedResult=this._state.results.get(ye)}}class A extends(0,l.ObservableMixin)(){constructor(ue){super(),this.set("results",new l.Collection),this.set("highlightedResult",null),this.set("searchText",""),this.set("replaceText",""),this.set("matchCase",!1),this.set("matchWholeWords",!1),this.results.on("change",(ye,{removed:Le,index:Ge})=>{if(Array.from(Le).length){let rt=!1;if(ue.change(gt=>{for(const Ot of Le)this.highlightedResult===Ot&&(rt=!0),ue.markers.has(Ot.marker.name)&&gt.removeMarker(Ot.marker)}),rt){const gt=Ge>=this.results.length?0:Ge;this.highlightedResult=this.results.get(gt)}}})}clear(ue){this.searchText="",ue.change(ye=>{if(this.highlightedResult){const Le=this.highlightedResult.marker.name.split(":")[1],Ge=ue.markers.get(`findResultHighlighted:${Le}`);Ge&&ye.removeMarker(Ge)}[...this.results].forEach(({marker:Le})=>{ye.removeMarker(Le)})}),this.results.clear()}}const T=typeof J.g=="object"&&J.g&&J.g.Object===Object&&J.g;var E=typeof self=="object"&&self&&self.Object===Object&&self;const ae=T||E||Function("return this")(),q=ae.Symbol,z=function(at,ue){for(var ye=-1,Le=at==null?0:at.length,Ge=Array(Le);++ye<Le;)Ge[ye]=ue(at[ye],ye,at);return Ge},b=Array.isArray;var V=Object.prototype,$=V.hasOwnProperty,D=V.toString,re=q?q.toStringTag:void 0;const Ee=function(at){var ue=$.call(at,re),ye=at[re];try{at[re]=void 0;var Le=!0}catch{}var Ge=D.call(at);return Le&&(ue?at[re]=ye:delete at[re]),Ge};var je=Object.prototype.toString;const Ie=function(at){return je.call(at)};var De=q?q.toStringTag:void 0;const mt=function(at){return at==null?at===void 0?"[object Undefined]":"[object Null]":De&&De in Object(at)?Ee(at):Ie(at)},lt=function(at){return at!=null&&typeof at=="object"},ut=function(at){return typeof at=="symbol"||lt(at)&&mt(at)=="[object Symbol]"};var dt=q?q.prototype:void 0,_t=dt?dt.toString:void 0;const bt=function at(ue){if(typeof ue=="string")return ue;if(b(ue))return z(ue,at)+"";if(ut(ue))return _t?_t.call(ue):"";var ye=ue+"";return ye=="0"&&1/ue==-1/0?"-0":ye},Qe=function(at){return at==null?"":bt(at)};var ft=/[\\^$.*+?()[\]{}|]/g,Ve=RegExp(ft.source);const Te=function(at){return(at=Qe(at))&&Ve.test(at)?at.replace(ft,"\\$&"):at};class Q extends p.Plugin{static get pluginName(){return"FindAndReplaceUtils"}updateFindResultFromRange(ue,ye,Le,Ge){const rt=Ge||new l.Collection;return ye.change(gt=>{[...ue].forEach(({type:Ot,item:Mt})=>{if(Ot==="elementStart"&&ye.schema.checkChild(Mt,"$text")){const Ut=Le({item:Mt,text:this.rangeToText(ye.createRangeIn(Mt))});if(!Ut)return;Ut.forEach(ri=>{const oi=`findResult:${(0,l.uid)()}`,wi=gt.addMarker(oi,{usingOperation:!1,affectsData:!1,range:gt.createRange(gt.createPositionAt(Mt,ri.start),gt.createPositionAt(Mt,ri.end))}),Ii=function(Li,yi){const ji=Li.find(({marker:Ki})=>yi.getStart().isBefore(Ki.getStart()));return ji?Li.getIndex(ji):Li.length}(rt,wi);rt.add({id:oi,label:ri.label,marker:wi},Ii)})}})}),rt}rangeToText(ue){return Array.from(ue.getItems()).reduce((ye,Le)=>Le.is("$text")||Le.is("$textProxy")?ye+Le.data:`${ye}
`,"")}findByTextCallback(ue,ye){let Le="gu";ye.matchCase||(Le+="i");let Ge=`(${Te(ue)})`;if(ye.wholeWords){const gt="[^a-zA-Z\xC0-\u024F\u1E00-\u1EFF]";new RegExp("^"+gt).test(ue)||(Ge=`(^|${gt}|_)${Ge}`),new RegExp(gt+"$").test(ue)||(Ge=`${Ge}(?=_|${gt}|$)`)}const rt=new RegExp(Ge,Le);return function({text:gt}){return[...gt.matchAll(rt)].map(xe)}}}function xe(at){const ue=at.length-1;let ye=at.index;return at.length===3&&(ye+=at[1].length),{label:at[ue],start:ye,end:ye+at[ue].length}}const Oe=function(at){var ue=typeof at;return at!=null&&(ue=="object"||ue=="function")},Je=function(){return ae.Date.now()};var Ze=/\s/;const tt=function(at){for(var ue=at.length;ue--&&Ze.test(at.charAt(ue)););return ue};var st=/^\s+/;const Lt=function(at){return at&&at.slice(0,tt(at)+1).replace(st,"")};var Ft=/^[-+]0x[0-9a-f]+$/i,Yt=/^0b[01]+$/i,ui=/^0o[0-7]+$/i,Nt=parseInt;const ti=function(at){if(typeof at=="number")return at;if(ut(at))return NaN;if(Oe(at)){var ue=typeof at.valueOf=="function"?at.valueOf():at;at=Oe(ue)?ue+"":ue}if(typeof at!="string")return at===0?at:+at;at=Lt(at);var ye=Yt.test(at);return ye||ui.test(at)?Nt(at.slice(2),ye?2:8):Ft.test(at)?NaN:+at};var hi=Math.max,Ci=Math.min;const Oi=function(at,ue,ye){var Le,Ge,rt,gt,Ot,Mt,Ut=0,ri=!1,oi=!1,wi=!0;if(typeof at!="function")throw new TypeError("Expected a function");function Ii(Mi){var tn=Le,$t=Ge;return Le=Ge=void 0,Ut=Mi,gt=at.apply($t,tn)}function Li(Mi){var tn=Mi-Mt;return Mt===void 0||tn>=ue||tn<0||oi&&Mi-Ut>=rt}function yi(){var Mi=Je();if(Li(Mi))return ji(Mi);Ot=setTimeout(yi,function(tn){var $t=ue-(tn-Mt);return oi?Ci($t,rt-(tn-Ut)):$t}(Mi))}function ji(Mi){return Ot=void 0,wi&&Le?Ii(Mi):(Le=Ge=void 0,gt)}function Ki(){var Mi=Je(),tn=Li(Mi);if(Le=arguments,Ge=this,Mt=Mi,tn){if(Ot===void 0)return function($t){return Ut=$t,Ot=setTimeout(yi,ue),ri?Ii($t):gt}(Mt);if(oi)return clearTimeout(Ot),Ot=setTimeout(yi,ue),Ii(Mt)}return Ot===void 0&&(Ot=setTimeout(yi,ue)),gt}return ue=ti(ue)||0,Oe(ye)&&(ri=!!ye.leading,rt=(oi="maxWait"in ye)?hi(ti(ye.maxWait)||0,ue):rt,wi="trailing"in ye?!!ye.trailing:wi),Ki.cancel=function(){Ot!==void 0&&clearTimeout(Ot),Ut=0,Le=Mt=Ge=Ot=void 0},Ki.flush=function(){return Ot===void 0?gt:ji(Je())},Ki};var Di=M(355),Vi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};P()(Di.Z,Vi),Di.Z.locals;class Pi extends p.Plugin{static get requires(){return[Q]}static get pluginName(){return"FindAndReplaceEditing"}init(){this._activeResults=null,this.state=new A(this.editor.model),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",(ye,Le,Ge,rt)=>{const{model:gt}=this.editor;gt.change(Ot=>{if(rt){const Mt=rt.marker.name.split(":")[1],Ut=gt.markers.get(`findResultHighlighted:${Mt}`);Ut&&Ot.removeMarker(Ut)}if(Ge){const Mt=Ge.marker.name.split(":")[1];Ot.addMarker(`findResultHighlighted:${Mt}`,{usingOperation:!1,affectsData:!1,range:Ge.marker.getRange()})}})});const ue=Oi(((ye,Le,Ge)=>{if(Ge){const rt=this.editor.editing.view.domConverter,gt=this.editor.editing.mapper.toViewRange(Ge.marker.getRange());(0,l.scrollViewportToShowTarget)({target:rt.viewRangeToDom(gt),viewportOffset:40})}}).bind(this),32);this.listenTo(this.state,"change:highlightedResult",ue,{priority:"low"}),this.listenTo(this.editor,"destroy",ue.cancel)}find(ue){const{editor:ye}=this,{model:Le}=ye,{findCallback:Ge,results:rt}=ye.execute("find",ue);return this._activeResults=rt,this.listenTo(Le.document,"change:data",()=>function(gt,Ot,Mt){const Ut=new Set,ri=new Set,oi=Ot.model;oi.document.differ.getChanges().forEach(wi=>{wi.name==="$text"||oi.schema.isInline(wi.position.nodeAfter)?(Ut.add(wi.position.parent),[...oi.markers.getMarkersAtPosition(wi.position)].forEach(Ii=>{ri.add(Ii.name)})):wi.type==="insert"&&Ut.add(wi.position.nodeAfter)}),oi.document.differ.getChangedMarkers().forEach(({name:wi,data:{newRange:Ii}})=>{Ii&&Ii.start.root.rootName==="$graveyard"&&ri.add(wi)}),Ut.forEach(wi=>{[...oi.markers.getMarkersIntersectingRange(oi.createRangeIn(wi))].forEach(Ii=>ri.add(Ii.name))}),oi.change(wi=>{ri.forEach(Ii=>{gt.has(Ii)&&gt.remove(Ii),wi.removeMarker(Ii)})}),Ut.forEach(wi=>{Ot.plugins.get("FindAndReplaceUtils").updateFindResultFromRange(oi.createRangeOn(wi),oi,Mt,gt)})}(this._activeResults,ye,Ge)),this._activeResults}stop(){this._activeResults&&(this.stopListening(this.editor.model.document),this.state.clear(this.editor.model),this._activeResults=null)}_defineCommands(){this.editor.commands.add("find",new oe(this.editor,this.state)),this.editor.commands.add("findNext",new f(this.editor,this.state)),this.editor.commands.add("findPrevious",new v(this.editor,this.state)),this.editor.commands.add("replace",new u(this.editor,this.state)),this.editor.commands.add("replaceAll",new y(this.editor,this.state))}_defineConverters(){const{editor:ue}=this;ue.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:({markerName:ye})=>{const[,Le]=ye.split(":");return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":Le}}}}),ue.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:({markerName:ye})=>{const[,Le]=ye.split(":");return{name:"span",classes:["ck-find-result_selected"],attributes:{"data-find-result":Le}}}})}}class $i extends p.Plugin{static get requires(){return[Pi,te]}static get pluginName(){return"FindAndReplace"}init(){const ue=this.editor.plugins.get("FindAndReplaceUI"),ye=this.editor.plugins.get("FindAndReplaceEditing"),Le=ye.state;ue.on("findNext",(Ge,rt)=>{rt?(Le.searchText=rt.searchText,this.editor.execute("find",rt.searchText,rt)):this.editor.execute("findNext")}),ue.on("findPrevious",(Ge,rt)=>{rt&&Le.searchText!==rt.searchText?this.editor.execute("find",rt.searchText):this.editor.execute("findPrevious")}),ue.on("replace",(Ge,rt)=>{Le.searchText!==rt.searchText&&this.editor.execute("find",rt.searchText);const gt=Le.highlightedResult;gt&&this.editor.execute("replace",rt.replaceText,gt)}),ue.on("replaceAll",(Ge,rt)=>{Le.searchText!==rt.searchText&&this.editor.execute("find",rt.searchText),this.editor.execute("replaceAll",rt.replaceText,Le.results)}),ue.on("searchReseted",()=>{Le.clear(this.editor.model),ye.stop()})}}})(),(window.CKEditor5=window.CKEditor5||{}).findAndReplace=S})()},89716:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{Big:"Big",Default:"Default","Document colors":"Document colors","Font Background Color":"Font Background Color","Font Color":"Font Color","Font Family":"Font Family","Font Size":"Font Size",Huge:"Huge",Small:"Small",Tiny:"Tiny"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={610:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}",""]);const l=_},609:m=>{"use strict";m.exports=function(M){var S=[];return S.toString=function(){return this.map(function(p){var _=M(p);return p[2]?"@media ".concat(p[2]," {").concat(_,"}"):_}).join("")},S.i=function(p,_,l){typeof p=="string"&&(p=[[null,p,""]]);var c={};if(l)for(var P=0;P<this.length;P++){var B=this[P][0];B!=null&&(c[B]=!0)}for(var x=0;x<p.length;x++){var h=[].concat(p[x]);l&&c[h[0]]||(_&&(h[2]?h[2]="".concat(_," and ").concat(h[2]):h[2]=_),S.push(h))}},S}},62:(m,M,S)=>{"use strict";var p,_=function(){return p===void 0&&(p=Boolean(window&&document&&document.all&&!window.atob)),p},l=function(){var u={};return function(y){if(u[y]===void 0){var f=document.querySelector(y);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}u[y]=f}return u[y]}}(),c=[];function P(u){for(var y=-1,f=0;f<c.length;f++)if(c[f].identifier===u){y=f;break}return y}function B(u,y){for(var f={},v=[],A=0;A<u.length;A++){var T=u[A],E=y.base?T[0]+y.base:T[0],ae=f[E]||0,q="".concat(E," ").concat(ae);f[E]=ae+1;var z=P(q),b={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(b)):c.push({identifier:q,updater:ie(b,y),references:1}),v.push(q)}return v}function x(u){var y=document.createElement("style"),f=u.attributes||{};if(f.nonce===void 0){var v=S.nc;v&&(f.nonce=v)}if(Object.keys(f).forEach(function(T){y.setAttribute(T,f[T])}),typeof u.insert=="function")u.insert(y);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(y)}return y}var h,j=(h=[],function(u,y){return h[u]=y,h.filter(Boolean).join(`
`)});function Z(u,y,f,v){var A=f?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=j(y,A);else{var T=document.createTextNode(A),E=u.childNodes;E[y]&&u.removeChild(E[y]),E.length?u.insertBefore(T,E[y]):u.appendChild(T)}}function Y(u,y,f){var v=f.css,A=f.media,T=f.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var te=null,oe=0;function ie(u,y){var f,v,A;if(y.singleton){var T=oe++;f=te||(te=x(y)),v=Z.bind(null,f,T,!1),A=Z.bind(null,f,T,!0)}else f=x(y),v=Y.bind(null,f,y),A=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(f)};return v(u),function(E){if(E){if(E.css===u.css&&E.media===u.media&&E.sourceMap===u.sourceMap)return;v(u=E)}else A()}}m.exports=function(u,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=_());var f=B(u=u||[],y);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<f.length;A++){var T=P(f[A]);c[T].references--}for(var E=B(v,y),ae=0;ae<f.length;ae++){var q=P(f[ae]);c[q].references===0&&(c[q].updater(),c.splice(q,1))}f=E}}}},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},492:(m,M,S)=>{m.exports=S(79)("./src/engine.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},209:(m,M,S)=>{m.exports=S(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={id:m,exports:{}};return Gt[m](S,S.exports,J),S.exports}J.n=m=>{var M=m&&m.__esModule?()=>m.default:()=>m;return J.d(M,{a:M}),M},J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},J.nc=void 0;var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{Font:()=>_t,FontBackgroundColor:()=>dt,FontBackgroundColorEditing:()=>lt,FontBackgroundColorUI:()=>ut,FontColor:()=>De,FontColorEditing:()=>Ee,FontColorUI:()=>Ie,FontFamily:()=>u,FontFamilyEditing:()=>te,FontFamilyUI:()=>ie,FontSize:()=>D,FontSizeEditing:()=>ae,FontSizeUI:()=>$});var m=J(704);class M extends m.Command{constructor(Qe,ft){super(Qe),this.attributeKey=ft}refresh(){const Qe=this.editor.model,ft=Qe.document;this.value=ft.selection.getAttribute(this.attributeKey),this.isEnabled=Qe.schema.checkAttributeInSelection(ft.selection,this.attributeKey)}execute(Qe={}){const ft=this.editor.model,Ve=ft.document.selection,Te=Qe.value,Q=Qe.batch,xe=Oe=>{if(Ve.isCollapsed)Te?Oe.setSelectionAttribute(this.attributeKey,Te):Oe.removeSelectionAttribute(this.attributeKey);else{const Je=ft.schema.getValidRanges(Ve.getRanges(),this.attributeKey);for(const Ze of Je)Te?Oe.setAttribute(this.attributeKey,Te,Ze):Oe.removeAttribute(this.attributeKey,Ze)}};Q?ft.enqueueChange(Q,Oe=>{xe(Oe)}):ft.change(Oe=>{xe(Oe)})}}var S=J(273);const p="fontSize",_="fontFamily",l="fontColor",c="fontBackgroundColor";function P(bt,Qe){const ft={model:{key:bt,values:[]},view:{},upcastAlso:{}};for(const Ve of Qe)ft.model.values.push(Ve.model),ft.view[Ve.model]=Ve.view,Ve.upcastAlso&&(ft.upcastAlso[Ve.model]=Ve.upcastAlso);return ft}function B(bt){return Qe=>Qe.getStyle(bt).replace(/\s/g,"")}function x(bt){return(Qe,{writer:ft})=>ft.createAttributeElement("span",{style:`${bt}:${Qe}`},{priority:7})}class h extends M{constructor(Qe){super(Qe,_)}}function j(bt){return bt.map(Z).filter(Qe=>Qe!==void 0)}function Z(bt){return typeof bt=="object"?bt:bt==="default"?{title:"Default",model:void 0}:typeof bt=="string"?function(Qe){const ft=Qe.replace(/"|'/g,"").split(","),Ve=ft[0],Te=ft.map(Y).join(", ");return{title:Ve,model:Te,view:{name:"span",styles:{"font-family":Te},priority:7}}}(bt):void 0}function Y(bt){return(bt=bt.trim()).indexOf(" ")>0&&(bt=`'${bt}'`),bt}class te extends m.Plugin{static get pluginName(){return"FontFamilyEditing"}constructor(Qe){super(Qe),Qe.config.define(_,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const Qe=this.editor;Qe.model.schema.extend("$text",{allowAttributes:_}),Qe.model.schema.setAttributeProperties(_,{isFormatting:!0,copyOnEnter:!0});const ft=j(Qe.config.get("fontFamily.options")).filter(Te=>Te.model),Ve=P(_,ft);Qe.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):Qe.conversion.attributeToElement(Ve),Qe.commands.add(_,new h(Qe))}_prepareAnyValueConverters(){const Qe=this.editor;Qe.conversion.for("downcast").attributeToElement({model:_,view:(ft,{writer:Ve})=>Ve.createAttributeElement("span",{style:"font-family:"+ft},{priority:7})}),Qe.conversion.for("upcast").elementToAttribute({model:{key:_,value:ft=>ft.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:_,value:Qe=>Qe.getAttribute("face")}})}}var oe=J(209);class ie extends m.Plugin{static get pluginName(){return"FontFamilyUI"}init(){const Qe=this.editor,ft=Qe.t,Ve=this._getLocalizedOptions(),Te=Qe.commands.get(_),Q=ft("Font Family");Qe.ui.componentFactory.add(_,xe=>{const Oe=(0,S.createDropdown)(xe);return(0,S.addListToDropdown)(Oe,()=>function(Je,Ze){const tt=new oe.Collection;for(const st of Je){const Lt={type:"button",model:new S.Model({commandName:_,commandParam:st.model,label:st.title,role:"menuitemradio",withText:!0})};Lt.model.bind("isOn").to(Ze,"value",Ft=>Ft===st.model||!(!Ft||!st.model)&&Ft.split(",")[0].replace(/'/g,"").toLowerCase()===st.model.toLowerCase()),st.view&&typeof st.view!="string"&&st.view.styles&&Lt.model.set("labelStyle",`font-family: ${st.view.styles["font-family"]}`),tt.add(Lt)}return tt}(Ve,Te),{role:"menu",ariaLabel:Q}),Oe.buttonView.set({label:Q,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',tooltip:!0}),Oe.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),Oe.bind("isEnabled").to(Te),this.listenTo(Oe,"execute",Je=>{Qe.execute(Je.source.commandName,{value:Je.source.commandParam}),Qe.editing.view.focus()}),Oe})}_getLocalizedOptions(){const Qe=this.editor,ft=Qe.t;return j(Qe.config.get(_).options).map(Ve=>(Ve.title==="Default"&&(Ve.title=ft("Default")),Ve))}}class u extends m.Plugin{static get requires(){return[te,ie]}static get pluginName(){return"FontFamily"}}var y=J(492);class f extends M{constructor(Qe){super(Qe,p)}}function v(bt){return bt.map(Qe=>function(ft){if(typeof ft=="number"&&(ft=String(ft)),typeof ft=="object"&&(Ve=ft,Ve.title&&Ve.model&&Ve.view))return T(ft);var Ve;const Te=function(Q){return typeof Q=="string"?A[Q]:A[Q.model]}(ft);if(Te)return T(Te);if(ft==="default")return{model:void 0,title:"Default"};if(!function(Q){let xe;if(typeof Q=="object"){if(!Q.model)throw new oe.CKEditorError("font-size-invalid-definition",null,Q);xe=parseFloat(Q.model)}else xe=parseFloat(Q);return isNaN(xe)}(ft))return function(Q){return typeof Q=="string"&&(Q={title:Q,model:`${parseFloat(Q)}px`}),Q.view={name:"span",styles:{"font-size":Q.model}},T(Q)}(ft)}(Qe)).filter(Qe=>Qe!==void 0)}const A={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function T(bt){return bt.view&&typeof bt.view!="string"&&!bt.view.priority&&(bt.view.priority=7),bt}const E=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class ae extends m.Plugin{static get pluginName(){return"FontSizeEditing"}constructor(Qe){super(Qe),Qe.config.define(p,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const Qe=this.editor;Qe.model.schema.extend("$text",{allowAttributes:p}),Qe.model.schema.setAttributeProperties(p,{isFormatting:!0,copyOnEnter:!0});const ft=Qe.config.get("fontSize.supportAllValues"),Ve=v(this.editor.config.get("fontSize.options")).filter(Q=>Q.model),Te=P(p,Ve);ft?(this._prepareAnyValueConverters(Te),this._prepareCompatibilityConverter()):Qe.conversion.attributeToElement(Te),Qe.commands.add(p,new f(Qe))}_prepareAnyValueConverters(Qe){const ft=this.editor,Ve=Qe.model.values.filter(Te=>!(0,y.isLength)(String(Te))&&!(0,y.isPercentage)(String(Te)));if(Ve.length)throw new oe.CKEditorError("font-size-invalid-use-of-named-presets",null,{presets:Ve});ft.conversion.for("downcast").attributeToElement({model:p,view:(Te,{writer:Q})=>{if(Te)return Q.createAttributeElement("span",{style:"font-size:"+Te},{priority:7})}}),ft.conversion.for("upcast").elementToAttribute({model:{key:p,value:Te=>Te.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:p,value:Qe=>{const ft=Qe.getAttribute("size"),Ve=ft[0]==="-"||ft[0]==="+";let Te=parseInt(ft,10);Ve&&(Te=3+Te);const Q=E.length-1,xe=Math.min(Math.max(Te,0),Q);return E[xe]}}})}}var q=J(62),z=J.n(q),b=J(610),V={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};z()(b.Z,V),b.Z.locals;class $ extends m.Plugin{static get pluginName(){return"FontSizeUI"}init(){const Qe=this.editor,ft=Qe.t,Ve=this._getLocalizedOptions(),Te=Qe.commands.get(p),Q=ft("Font Size");Qe.ui.componentFactory.add(p,xe=>{const Oe=(0,S.createDropdown)(xe);return(0,S.addListToDropdown)(Oe,()=>function(Je,Ze){const tt=new oe.Collection;for(const st of Je){const Lt={type:"button",model:new S.Model({commandName:p,commandParam:st.model,label:st.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};st.view&&typeof st.view!="string"&&(st.view.styles&&Lt.model.set("labelStyle",`font-size:${st.view.styles["font-size"]}`),st.view.classes&&Lt.model.set("class",`${Lt.model.class} ${st.view.classes}`)),Lt.model.bind("isOn").to(Ze,"value",Ft=>Ft===st.model),tt.add(Lt)}return tt}(Ve,Te),{role:"menu",ariaLabel:Q}),Oe.buttonView.set({label:Q,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),Oe.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),Oe.bind("isEnabled").to(Te),this.listenTo(Oe,"execute",Je=>{Qe.execute(Je.source.commandName,{value:Je.source.commandParam}),Qe.editing.view.focus()}),Oe})}_getLocalizedOptions(){const Qe=this.editor,ft=Qe.t,Ve={Default:ft("Default"),Tiny:ft("Tiny"),Small:ft("Small"),Big:ft("Big"),Huge:ft("Huge")};return v(Qe.config.get(p).options).map(Te=>{const Q=Ve[Te.title];return Q&&Q!=Te.title&&(Te=Object.assign({},Te,{title:Q})),Te})}}class D extends m.Plugin{static get requires(){return[ae,$]}static get pluginName(){return"FontSize"}normalizeSizeOptions(Qe){return v(Qe)}}class re extends M{constructor(Qe){super(Qe,l)}}class Ee extends m.Plugin{static get pluginName(){return"FontColorEditing"}constructor(Qe){super(Qe),Qe.config.define(l,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),Qe.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:l,value:B("color")}}),Qe.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:l,value:ft=>ft.getAttribute("color")}}),Qe.conversion.for("downcast").attributeToElement({model:l,view:x("color")}),Qe.commands.add(l,new re(Qe)),Qe.model.schema.extend("$text",{allowAttributes:l}),Qe.model.schema.setAttributeProperties(l,{isFormatting:!0,copyOnEnter:!0})}}class je extends m.Plugin{constructor(Qe,{commandName:ft,componentName:Ve,icon:Te,dropdownLabel:Q}){super(Qe),this.commandName=ft,this.componentName=Ve,this.icon=Te,this.dropdownLabel=Q,this.columns=Qe.config.get(`${this.componentName}.columns`),this.colorSelectorView=void 0}init(){const Qe=this.editor,ft=Qe.locale,Ve=ft.t,Te=Qe.commands.get(this.commandName),Q=Qe.config.get(this.componentName),xe=(0,S.normalizeColorOptions)(Q.colors),Oe=(0,S.getLocalizedColorOptions)(ft,xe),Je=Q.documentColors,Ze=Q.colorPicker!==!1;Qe.ui.componentFactory.add(this.componentName,tt=>{const st=(0,S.createDropdown)(tt);let Lt=!1;return this.colorSelectorView=function({dropdownView:Ft,colors:Yt,columns:ui,removeButtonLabel:Nt,colorPickerLabel:ti,documentColorsLabel:hi,documentColorsCount:Ci,colorPickerViewConfig:Oi}){const Di=Ft.locale,Vi=new S.ColorSelectorView(Di,{colors:Yt,columns:ui,removeButtonLabel:Nt,colorPickerLabel:ti,documentColorsLabel:hi,documentColorsCount:Ci,colorPickerViewConfig:Oi});return Ft.colorSelectorView=Vi,Ft.panelView.children.add(Vi),Vi}({dropdownView:st,colors:Oe.map(Ft=>({label:Ft.label,color:Ft.model,options:{hasBorder:Ft.hasBorder}})),columns:this.columns,removeButtonLabel:Ve("Remove color"),colorPickerLabel:Ve("Color picker"),documentColorsLabel:Je!==0?Ve("Document colors"):"",documentColorsCount:Je===void 0?this.columns:Je,colorPickerViewConfig:!!Ze&&(Q.colorPicker||{})}),this.colorSelectorView.bind("selectedColor").to(Te,"value"),st.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),st.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),st.bind("isEnabled").to(Te),this.colorSelectorView.on("execute",(Ft,Yt)=>{st.isOpen&&Qe.execute(this.commandName,{value:Yt.value,batch:this._undoStepBatch}),Yt.source!=="colorPicker"&&Qe.editing.view.focus(),Yt.source==="colorPickerSaveButton"&&(st.isOpen=!1)}),this.colorSelectorView.on("colorPicker:show",()=>{this._undoStepBatch=Qe.model.createBatch()}),this.colorSelectorView.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(st.isOpen=!1,Qe.execute("undo",this._undoStepBatch)),Qe.editing.view.focus()}),st.on("change:isOpen",(Ft,Yt,ui)=>{Lt||(Lt=!0,st.colorSelectorView.appendUI()),ui&&(Je!==0&&this.colorSelectorView.updateDocumentColors(Qe.model,this.componentName),this.colorSelectorView.updateSelectedColors(),this.colorSelectorView.showColorGridsFragment())}),(0,S.focusChildOnDropdownOpen)(st,()=>st.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(Ft=>Ft.isOn)),st})}}class Ie extends je{constructor(Qe){const ft=Qe.locale.t;super(Qe,{commandName:l,componentName:l,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:ft("Font Color")})}static get pluginName(){return"FontColorUI"}}class De extends m.Plugin{static get requires(){return[Ee,Ie]}static get pluginName(){return"FontColor"}}class mt extends M{constructor(Qe){super(Qe,c)}}class lt extends m.Plugin{static get pluginName(){return"FontBackgroundColorEditing"}constructor(Qe){super(Qe),Qe.config.define(c,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),Qe.data.addStyleProcessorRules(y.addBackgroundRules),Qe.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:c,value:B("background-color")}}),Qe.conversion.for("downcast").attributeToElement({model:c,view:x("background-color")}),Qe.commands.add(c,new mt(Qe)),Qe.model.schema.extend("$text",{allowAttributes:c}),Qe.model.schema.setAttributeProperties(c,{isFormatting:!0,copyOnEnter:!0})}}class ut extends je{constructor(Qe){const ft=Qe.locale.t;super(Qe,{commandName:c,componentName:c,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:ft("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class dt extends m.Plugin{static get requires(){return[lt,ut]}static get pluginName(){return"FontBackgroundColor"}}class _t extends m.Plugin{static get requires(){return[u,D,De,dt]}static get pluginName(){return"Font"}}})(),(window.CKEditor5=window.CKEditor5||{}).font=Et})()},25901:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{"Choose heading":"Choose heading",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Paragraph:"Paragraph","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={159:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}",""]);const l=_},609:m=>{"use strict";m.exports=function(M){var S=[];return S.toString=function(){return this.map(function(p){var _=M(p);return p[2]?"@media ".concat(p[2]," {").concat(_,"}"):_}).join("")},S.i=function(p,_,l){typeof p=="string"&&(p=[[null,p,""]]);var c={};if(l)for(var P=0;P<this.length;P++){var B=this[P][0];B!=null&&(c[B]=!0)}for(var x=0;x<p.length;x++){var h=[].concat(p[x]);l&&c[h[0]]||(_&&(h[2]?h[2]="".concat(_," and ").concat(h[2]):h[2]=_),S.push(h))}},S}},62:(m,M,S)=>{"use strict";var p,_=function(){return p===void 0&&(p=Boolean(window&&document&&document.all&&!window.atob)),p},l=function(){var u={};return function(y){if(u[y]===void 0){var f=document.querySelector(y);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}u[y]=f}return u[y]}}(),c=[];function P(u){for(var y=-1,f=0;f<c.length;f++)if(c[f].identifier===u){y=f;break}return y}function B(u,y){for(var f={},v=[],A=0;A<u.length;A++){var T=u[A],E=y.base?T[0]+y.base:T[0],ae=f[E]||0,q="".concat(E," ").concat(ae);f[E]=ae+1;var z=P(q),b={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(b)):c.push({identifier:q,updater:ie(b,y),references:1}),v.push(q)}return v}function x(u){var y=document.createElement("style"),f=u.attributes||{};if(f.nonce===void 0){var v=S.nc;v&&(f.nonce=v)}if(Object.keys(f).forEach(function(T){y.setAttribute(T,f[T])}),typeof u.insert=="function")u.insert(y);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(y)}return y}var h,j=(h=[],function(u,y){return h[u]=y,h.filter(Boolean).join(`
`)});function Z(u,y,f,v){var A=f?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=j(y,A);else{var T=document.createTextNode(A),E=u.childNodes;E[y]&&u.removeChild(E[y]),E.length?u.insertBefore(T,E[y]):u.appendChild(T)}}function Y(u,y,f){var v=f.css,A=f.media,T=f.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var te=null,oe=0;function ie(u,y){var f,v,A;if(y.singleton){var T=oe++;f=te||(te=x(y)),v=Z.bind(null,f,T,!1),A=Z.bind(null,f,T,!0)}else f=x(y),v=Y.bind(null,f,y),A=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(f)};return v(u),function(E){if(E){if(E.css===u.css&&E.media===u.media&&E.sourceMap===u.sourceMap)return;v(u=E)}else A()}}m.exports=function(u,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=_());var f=B(u=u||[],y);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<f.length;A++){var T=P(f[A]);c[T].references--}for(var E=B(v,y),ae=0;ae<f.length;ae++){var q=P(f[ae]);c[q].references===0&&(c[q].updater(),c.splice(q,1))}f=E}}}},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},492:(m,M,S)=>{m.exports=S(79)("./src/engine.js")},747:(m,M,S)=>{m.exports=S(79)("./src/paragraph.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},209:(m,M,S)=>{m.exports=S(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={id:m,exports:{}};return Gt[m](S,S.exports,J),S.exports}J.n=m=>{var M=m&&m.__esModule?()=>m.default:()=>m;return J.d(M,{a:M}),M},J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},J.nc=void 0;var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{Heading:()=>te,HeadingButtonsUI:()=>ie,HeadingEditing:()=>c,HeadingUI:()=>Y,Title:()=>f});var m=J(704),M=J(747),S=J(209);class p extends m.Command{constructor(V,$){super(V),this.modelElements=$}refresh(){const V=(0,S.first)(this.editor.model.document.selection.getSelectedBlocks());this.value=!!V&&this.modelElements.includes(V.name)&&V.name,this.isEnabled=!!V&&this.modelElements.some($=>_(V,$,this.editor.model.schema))}execute(V){const $=this.editor.model,D=$.document,re=V.value;$.change(Ee=>{const je=Array.from(D.selection.getSelectedBlocks()).filter(Ie=>_(Ie,re,$.schema));for(const Ie of je)Ie.is("element",re)||Ee.rename(Ie,re)})}}function _(b,V,$){return $.checkChild(b.parent,V)&&!$.isObject(b)}const l="paragraph";class c extends m.Plugin{static get pluginName(){return"HeadingEditing"}constructor(V){super(V),V.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[M.Paragraph]}init(){const V=this.editor,$=V.config.get("heading.options"),D=[];for(const re of $)re.model!=="paragraph"&&(V.model.schema.register(re.model,{inheritAllFrom:"$block"}),V.conversion.elementToElement(re),D.push(re.model));this._addDefaultH1Conversion(V),V.commands.add("heading",new p(V,D))}afterInit(){const V=this.editor,$=V.commands.get("enter"),D=V.config.get("heading.options");$&&this.listenTo($,"afterExecute",(re,Ee)=>{const je=V.model.document.selection.getFirstPosition().parent;D.some(Ie=>je.is("element",Ie.model))&&!je.is("element",l)&&je.childCount===0&&Ee.writer.rename(je,l)})}_addDefaultH1Conversion(V){V.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:S.priorities.low+1})}}var P=J(273);function B(b){const V=b.t,$={Paragraph:V("Paragraph"),"Heading 1":V("Heading 1"),"Heading 2":V("Heading 2"),"Heading 3":V("Heading 3"),"Heading 4":V("Heading 4"),"Heading 5":V("Heading 5"),"Heading 6":V("Heading 6")};return b.config.get("heading.options").map(D=>{const re=$[D.title];return re&&re!=D.title&&(D.title=re),D})}var x=J(62),h=J.n(x),j=J(159),Z={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};h()(j.Z,Z),j.Z.locals;class Y extends m.Plugin{static get pluginName(){return"HeadingUI"}init(){const V=this.editor,$=V.t,D=B(V),re=$("Choose heading"),Ee=$("Heading");V.ui.componentFactory.add("heading",je=>{const Ie={},De=new S.Collection,mt=V.commands.get("heading"),lt=V.commands.get("paragraph"),ut=[mt];for(const _t of D){const bt={type:"button",model:new P.Model({label:_t.title,class:_t.class,role:"menuitemradio",withText:!0})};_t.model==="paragraph"?(bt.model.bind("isOn").to(lt,"value"),bt.model.set("commandName","paragraph"),ut.push(lt)):(bt.model.bind("isOn").to(mt,"value",Qe=>Qe===_t.model),bt.model.set({commandName:"heading",commandValue:_t.model})),De.add(bt),Ie[_t.model]=_t.title}const dt=(0,P.createDropdown)(je);return(0,P.addListToDropdown)(dt,De,{ariaLabel:Ee,role:"menu"}),dt.buttonView.set({ariaLabel:Ee,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:Ee}),dt.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),dt.bind("isEnabled").toMany(ut,"isEnabled",(..._t)=>_t.some(bt=>bt)),dt.buttonView.bind("label").to(mt,"value",lt,"value",(_t,bt)=>{const Qe=_t||bt&&"paragraph";return typeof Qe=="boolean"?re:Ie[Qe]?Ie[Qe]:re}),this.listenTo(dt,"execute",_t=>{const{commandName:bt,commandValue:Qe}=_t.source;V.execute(bt,Qe?{value:Qe}:void 0),V.editing.view.focus()}),dt})}}class te extends m.Plugin{static get requires(){return[c,Y]}static get pluginName(){return"Heading"}}const oe={heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>'};class ie extends m.Plugin{init(){B(this.editor).filter(V=>V.model!=="paragraph").map(V=>this._createButton(V))}_createButton(V){const $=this.editor;$.ui.componentFactory.add(V.model,D=>{const re=new P.ButtonView(D),Ee=$.commands.get("heading");return re.label=V.title,re.icon=V.icon||oe[V.model],re.tooltip=!0,re.isToggleable=!0,re.bind("isEnabled").to(Ee),re.bind("isOn").to(Ee,"value",je=>je==V.model),re.on("execute",()=>{$.execute("heading",{value:V.model}),$.editing.view.focus()}),re})}}var u=J(492);const y=new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class f extends m.Plugin{constructor(){super(...arguments),this._bodyPlaceholder=new Map}static get pluginName(){return"Title"}static get requires(){return["Paragraph"]}init(){const V=this.editor,$=V.model;$.schema.register("title",{isBlock:!0,allowIn:"$root"}),$.schema.register("title-content",{isBlock:!0,allowIn:"title",allowAttributes:["alignment"]}),$.schema.extend("$text",{allowIn:"title-content"}),$.schema.addAttributeCheck(D=>{if(D.endsWith("title-content $text"))return!1}),V.editing.mapper.on("modelToViewPosition",A(V.editing.view)),V.data.mapper.on("modelToViewPosition",A(V.editing.view)),V.conversion.for("downcast").elementToElement({model:"title-content",view:"h1"}),V.conversion.for("downcast").add(D=>D.on("insert:title",(re,Ee,je)=>{je.consumable.consume(Ee.item,re.name)})),V.data.upcastDispatcher.on("element:h1",v,{priority:"high"}),V.data.upcastDispatcher.on("element:h2",v,{priority:"high"}),V.data.upcastDispatcher.on("element:h3",v,{priority:"high"}),$.document.registerPostFixer(D=>this._fixTitleContent(D)),$.document.registerPostFixer(D=>this._fixTitleElement(D)),$.document.registerPostFixer(D=>this._fixBodyElement(D)),$.document.registerPostFixer(D=>this._fixExtraParagraph(D)),this._attachPlaceholders(),this._attachTabPressHandling()}getTitle(V={}){const $=V.rootName?V.rootName:void 0,D=this._getTitleElement($).getChild(0);return this.editor.data.stringify(D,V)}getBody(V={}){const $=this.editor,D=$.data,re=$.model,Ee=V.rootName?V.rootName:void 0,je=$.model.document.getRoot(Ee),Ie=$.editing.view,De=new u.DowncastWriter(Ie.document),mt=re.createRangeIn(je),lt=De.createDocumentFragment(),ut=re.createPositionAfter(je.getChild(0)),dt=re.createRange(ut,re.createPositionAt(je,"end")),_t=new Map;for(const bt of re.markers){const Qe=dt.getIntersection(bt.getRange());Qe&&_t.set(bt.name,Qe)}return D.mapper.clearBindings(),D.mapper.bindElements(je,lt),D.downcastDispatcher.convert(mt,_t,De,V),De.remove(De.createRangeOn(lt.getChild(0))),$.data.processor.toData(lt)}_getTitleElement(V){const $=this.editor.model.document.getRoot(V);for(const D of $.getChildren())if(T(D))return D}_fixTitleContent(V){let $=!1;for(const D of this.editor.model.document.getRootNames()){const re=this._getTitleElement(D);if(!re||re.maxOffset===1)continue;const Ee=Array.from(re.getChildren());Ee.shift();for(const je of Ee)V.move(V.createRangeOn(je),re,"after"),V.rename(je,"paragraph");$=!0}return $}_fixTitleElement(V){let $=!1;const D=this.editor.model;for(const re of this.editor.model.document.getRoots()){const Ee=Array.from(re.getChildren()).filter(T),je=Ee[0],Ie=re.getChild(0);if(Ie.is("element","title"))Ee.length>1&&(ae(Ee,V,D),$=!0);else if(je||y.has(Ie.name))y.has(Ie.name)?E(Ie,V,D):V.move(V.createRangeOn(je),re,0),ae(Ee,V,D),$=!0;else{const De=V.createElement("title");V.insert(De,re),V.insertElement("title-content",De),$=!0}}return $}_fixBodyElement(V){let $=!1;for(const D of this.editor.model.document.getRootNames()){const re=this.editor.model.document.getRoot(D);if(re.childCount<2){const Ee=V.createElement("paragraph");V.insert(Ee,re,1),this._bodyPlaceholder.set(D,Ee),$=!0}}return $}_fixExtraParagraph(V){let $=!1;for(const D of this.editor.model.document.getRootNames()){const re=this.editor.model.document.getRoot(D),Ee=this._bodyPlaceholder.get(D);z(Ee,re)&&(this._bodyPlaceholder.delete(D),V.remove(Ee),$=!0)}return $}_attachPlaceholders(){const V=this.editor,$=V.t,D=V.editing.view,re=V.sourceElement,Ee=V.config.get("title.placeholder")||$("Type your title"),je=V.config.get("placeholder")||re&&re.tagName.toLowerCase()==="textarea"&&re.getAttribute("placeholder")||$("Type or paste your content here.");V.editing.downcastDispatcher.on("insert:title-content",(De,mt,lt)=>{const ut=lt.mapper.toViewElement(mt.item);ut.placeholder=Ee,(0,u.enablePlaceholder)({view:D,element:ut,keepOnFocus:!0})});const Ie=new Map;D.document.registerPostFixer(De=>{let mt=!1;for(const lt of D.document.roots){if(lt.isEmpty)continue;const ut=lt.getChild(1),dt=Ie.get(lt.rootName);ut!==dt&&(dt&&((0,u.hidePlaceholder)(De,dt),De.removeAttribute("data-placeholder",dt)),De.setAttribute("data-placeholder",je,ut),Ie.set(lt.rootName,ut),mt=!0),mt=(0,u.needsPlaceholder)(ut,!0)&&lt.childCount===2&&ut.name==="p"?!!(0,u.showPlaceholder)(De,ut)||mt:!!(0,u.hidePlaceholder)(De,ut)||mt}return mt})}_attachTabPressHandling(){const V=this.editor,$=V.model;V.keystrokes.set("TAB",(D,re)=>{$.change(Ee=>{const je=$.document.selection,Ie=Array.from(je.getSelectedBlocks());if(Ie.length===1&&Ie[0].is("element","title-content")){const De=je.getFirstPosition().root.getChild(1);Ee.setSelection(De,0),re()}})}),V.keystrokes.set("SHIFT + TAB",(D,re)=>{$.change(Ee=>{const je=$.document.selection;if(!je.isCollapsed)return;const Ie=(0,S.first)(je.getSelectedBlocks()),De=je.getFirstPosition(),mt=V.model.document.getRoot(De.root.rootName),lt=mt.getChild(0);Ie===mt.getChild(1)&&De.isAtStart&&(Ee.setSelection(lt.getChild(0),0),re())})})}}function v(b,V,$){const D=V.modelCursor,re=V.viewItem;if(!D.isAtStart||!D.parent.is("element","$root")||!$.consumable.consume(re,{name:!0}))return;const Ee=$.writer,je=Ee.createElement("title"),Ie=Ee.createElement("title-content");Ee.append(Ie,je),Ee.insert(je,D),$.convertChildren(re,Ie),$.updateConversionResult(je,V)}function A(b){return(V,$)=>{const D=$.modelPosition.parent;if(!D.is("element","title"))return;const re=D.parent,Ee=$.mapper.toViewElement(re);$.viewPosition=b.createPositionAt(Ee,0),V.stop()}}function T(b){return b.is("element","title")}function E(b,V,$){const D=V.createElement("title");V.insert(D,b,"before"),V.insert(b,D,0),V.rename(b,"title-content"),$.schema.removeDisallowedAttributes([b],V)}function ae(b,V,$){let D=!1;for(const re of b)re.index!==0&&(q(re,V,$),D=!0);return D}function q(b,V,$){const D=b.getChild(0);D.isEmpty?V.remove(b):(V.move(V.createRangeOn(D),b,"before"),V.rename(D,"paragraph"),V.remove(b),$.schema.removeDisallowedAttributes([D],V))}function z(b,V){return!(!b||!b.is("element","paragraph")||b.childCount)&&!(V.childCount<=2||V.getChild(V.childCount-1)!==b)}})(),(window.CKEditor5=window.CKEditor5||{}).heading=Et})()},20397:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{"Blue marker":"Blue marker","Green marker":"Green marker","Green pen":"Green pen",Highlight:"Highlight","Pink marker":"Pink marker","Red pen":"Red pen","Remove highlight":"Remove highlight","Text highlight toolbar":"Text highlight toolbar","Yellow marker":"Yellow marker"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={401:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{background-color:transparent;color:var(--ck-highlight-pen-red)}.ck-content .pen-green{background-color:transparent;color:var(--ck-highlight-pen-green)}",""]);const l=_},609:m=>{"use strict";m.exports=function(M){var S=[];return S.toString=function(){return this.map(function(p){var _=M(p);return p[2]?"@media ".concat(p[2]," {").concat(_,"}"):_}).join("")},S.i=function(p,_,l){typeof p=="string"&&(p=[[null,p,""]]);var c={};if(l)for(var P=0;P<this.length;P++){var B=this[P][0];B!=null&&(c[B]=!0)}for(var x=0;x<p.length;x++){var h=[].concat(p[x]);l&&c[h[0]]||(_&&(h[2]?h[2]="".concat(_," and ").concat(h[2]):h[2]=_),S.push(h))}},S}},62:(m,M,S)=>{"use strict";var p,_=function(){return p===void 0&&(p=Boolean(window&&document&&document.all&&!window.atob)),p},l=function(){var u={};return function(y){if(u[y]===void 0){var f=document.querySelector(y);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}u[y]=f}return u[y]}}(),c=[];function P(u){for(var y=-1,f=0;f<c.length;f++)if(c[f].identifier===u){y=f;break}return y}function B(u,y){for(var f={},v=[],A=0;A<u.length;A++){var T=u[A],E=y.base?T[0]+y.base:T[0],ae=f[E]||0,q="".concat(E," ").concat(ae);f[E]=ae+1;var z=P(q),b={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(b)):c.push({identifier:q,updater:ie(b,y),references:1}),v.push(q)}return v}function x(u){var y=document.createElement("style"),f=u.attributes||{};if(f.nonce===void 0){var v=S.nc;v&&(f.nonce=v)}if(Object.keys(f).forEach(function(T){y.setAttribute(T,f[T])}),typeof u.insert=="function")u.insert(y);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(y)}return y}var h,j=(h=[],function(u,y){return h[u]=y,h.filter(Boolean).join(`
`)});function Z(u,y,f,v){var A=f?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=j(y,A);else{var T=document.createTextNode(A),E=u.childNodes;E[y]&&u.removeChild(E[y]),E.length?u.insertBefore(T,E[y]):u.appendChild(T)}}function Y(u,y,f){var v=f.css,A=f.media,T=f.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var te=null,oe=0;function ie(u,y){var f,v,A;if(y.singleton){var T=oe++;f=te||(te=x(y)),v=Z.bind(null,f,T,!1),A=Z.bind(null,f,T,!0)}else f=x(y),v=Y.bind(null,f,y),A=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(f)};return v(u),function(E){if(E){if(E.css===u.css&&E.media===u.media&&E.sourceMap===u.sourceMap)return;v(u=E)}else A()}}m.exports=function(u,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=_());var f=B(u=u||[],y);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<f.length;A++){var T=P(f[A]);c[T].references--}for(var E=B(v,y),ae=0;ae<f.length;ae++){var q=P(f[ae]);c[q].references===0&&(c[q].updater(),c.splice(q,1))}f=E}}}},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={id:m,exports:{}};return Gt[m](S,S.exports,J),S.exports}J.n=m=>{var M=m&&m.__esModule?()=>m.default:()=>m;return J.d(M,{a:M}),M},J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},J.nc=void 0;var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{Highlight:()=>h,HighlightEditing:()=>S,HighlightUI:()=>B});var m=J(704);class M extends m.Command{refresh(){const Z=this.editor.model,Y=Z.document;this.value=Y.selection.getAttribute("highlight"),this.isEnabled=Z.schema.checkAttributeInSelection(Y.selection,"highlight")}execute(Z={}){const Y=this.editor.model,te=Y.document.selection,oe=Z.value;Y.change(ie=>{if(te.isCollapsed){const u=te.getFirstPosition();if(te.hasAttribute("highlight")){const y=T=>T.item.hasAttribute("highlight")&&T.item.getAttribute("highlight")===this.value,f=u.getLastMatchingPosition(y,{direction:"backward"}),v=u.getLastMatchingPosition(y),A=ie.createRange(f,v);oe&&this.value!==oe?(u.isEqual(v)||ie.setAttribute("highlight",oe,A),ie.setSelectionAttribute("highlight",oe)):(u.isEqual(v)||ie.removeAttribute("highlight",A),ie.removeSelectionAttribute("highlight"))}else oe&&ie.setSelectionAttribute("highlight",oe)}else{const u=Y.schema.getValidRanges(te.getRanges(),"highlight");for(const y of u)oe?ie.setAttribute("highlight",oe,y):ie.removeAttribute("highlight",y)}})}}class S extends m.Plugin{static get pluginName(){return"HighlightEditing"}constructor(Z){super(Z),Z.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const Z=this.editor;Z.model.schema.extend("$text",{allowAttributes:"highlight"});const Y=Z.config.get("highlight.options");Z.conversion.attributeToElement(function(te){const oe={model:{key:"highlight",values:[]},view:{}};for(const ie of te)oe.model.values.push(ie.model),oe.view[ie.model]={name:"mark",classes:ie.class};return oe}(Y)),Z.commands.add("highlight",new M(Z))}}var p=J(273),_=J(62),l=J.n(_),c=J(401),P={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};l()(c.Z,P),c.Z.locals;class B extends m.Plugin{get localizedOptionTitles(){const Z=this.editor.t;return{"Yellow marker":Z("Yellow marker"),"Green marker":Z("Green marker"),"Pink marker":Z("Pink marker"),"Blue marker":Z("Blue marker"),"Red pen":Z("Red pen"),"Green pen":Z("Green pen")}}static get pluginName(){return"HighlightUI"}init(){const Z=this.editor.config.get("highlight.options");for(const Y of Z)this._addHighlighterButton(Y);this._addRemoveHighlightButton(),this._addDropdown(Z)}_addRemoveHighlightButton(){const Z=this.editor.t,Y=this.editor.commands.get("highlight");this._addButton("removeHighlight",Z("Remove highlight"),m.icons.eraser,null,te=>{te.bind("isEnabled").to(Y,"isEnabled")})}_addHighlighterButton(Z){const Y=this.editor.commands.get("highlight");this._addButton("highlight:"+Z.model,Z.title,x(Z.type),Z.model,function(te){te.bind("isEnabled").to(Y,"isEnabled"),te.bind("isOn").to(Y,"value",oe=>oe===Z.model),te.iconView.fillColor=Z.color,te.isToggleable=!0})}_addButton(Z,Y,te,oe,ie){const u=this.editor;u.ui.componentFactory.add(Z,y=>{const f=new p.ButtonView(y),v=this.localizedOptionTitles[Y]?this.localizedOptionTitles[Y]:Y;return f.set({label:v,icon:te,tooltip:!0}),f.on("execute",()=>{u.execute("highlight",{value:oe}),u.editing.view.focus()}),ie(f),f})}_addDropdown(Z){const Y=this.editor,te=Y.t,oe=Y.ui.componentFactory,ie=Z[0],u=Z.reduce((y,f)=>(y[f.model]=f,y),{});oe.add("highlight",y=>{const f=Y.commands.get("highlight"),v=(0,p.createDropdown)(y,p.SplitButtonView),A=v.buttonView;A.set({label:te("Highlight"),tooltip:!0,lastExecuted:ie.model,commandValue:ie.model,isToggleable:!0}),A.bind("icon").to(f,"value",E=>x(T(E,"type"))),A.bind("color").to(f,"value",E=>T(E,"color")),A.bind("commandValue").to(f,"value",E=>T(E,"model")),A.bind("isOn").to(f,"value",E=>!!E),A.delegate("execute").to(v);function T(E,ae){const q=E&&E!==A.lastExecuted?E:A.lastExecuted;return u[q][ae]}return v.bind("isEnabled").to(f,"isEnabled"),(0,p.addToolbarToDropdown)(v,()=>{const E=Z.map(ae=>{const q=oe.create("highlight:"+ae.model);return this.listenTo(q,"execute",()=>{v.buttonView.set({lastExecuted:ae.model})}),q});return E.push(new p.ToolbarSeparatorView),E.push(oe.create("removeHighlight")),E},{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:te("Text highlight toolbar")}),function(E){E.buttonView.actionView.iconView.bind("fillColor").to(E.buttonView,"color")}(v),A.on("execute",()=>{Y.execute("highlight",{value:A.commandValue})}),this.listenTo(v,"execute",()=>{Y.editing.view.focus()}),v})}}function x(j){return j==="marker"?'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>':'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>'}class h extends m.Plugin{static get requires(){return[S,B]}static get pluginName(){return"Highlight"}}})(),(window.CKEditor5=window.CKEditor5||{}).highlight=Et})()},59576:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{"Horizontal line":"Horizontal line"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={217:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}",""]);const l=_},609:m=>{"use strict";m.exports=function(M){var S=[];return S.toString=function(){return this.map(function(p){var _=M(p);return p[2]?"@media ".concat(p[2]," {").concat(_,"}"):_}).join("")},S.i=function(p,_,l){typeof p=="string"&&(p=[[null,p,""]]);var c={};if(l)for(var P=0;P<this.length;P++){var B=this[P][0];B!=null&&(c[B]=!0)}for(var x=0;x<p.length;x++){var h=[].concat(p[x]);l&&c[h[0]]||(_&&(h[2]?h[2]="".concat(_," and ").concat(h[2]):h[2]=_),S.push(h))}},S}},62:(m,M,S)=>{"use strict";var p,_=function(){return p===void 0&&(p=Boolean(window&&document&&document.all&&!window.atob)),p},l=function(){var u={};return function(y){if(u[y]===void 0){var f=document.querySelector(y);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}u[y]=f}return u[y]}}(),c=[];function P(u){for(var y=-1,f=0;f<c.length;f++)if(c[f].identifier===u){y=f;break}return y}function B(u,y){for(var f={},v=[],A=0;A<u.length;A++){var T=u[A],E=y.base?T[0]+y.base:T[0],ae=f[E]||0,q="".concat(E," ").concat(ae);f[E]=ae+1;var z=P(q),b={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(b)):c.push({identifier:q,updater:ie(b,y),references:1}),v.push(q)}return v}function x(u){var y=document.createElement("style"),f=u.attributes||{};if(f.nonce===void 0){var v=S.nc;v&&(f.nonce=v)}if(Object.keys(f).forEach(function(T){y.setAttribute(T,f[T])}),typeof u.insert=="function")u.insert(y);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(y)}return y}var h,j=(h=[],function(u,y){return h[u]=y,h.filter(Boolean).join(`
`)});function Z(u,y,f,v){var A=f?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=j(y,A);else{var T=document.createTextNode(A),E=u.childNodes;E[y]&&u.removeChild(E[y]),E.length?u.insertBefore(T,E[y]):u.appendChild(T)}}function Y(u,y,f){var v=f.css,A=f.media,T=f.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var te=null,oe=0;function ie(u,y){var f,v,A;if(y.singleton){var T=oe++;f=te||(te=x(y)),v=Z.bind(null,f,T,!1),A=Z.bind(null,f,T,!0)}else f=x(y),v=Y.bind(null,f,y),A=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(f)};return v(u),function(E){if(E){if(E.css===u.css&&E.media===u.media&&E.sourceMap===u.sourceMap)return;v(u=E)}else A()}}m.exports=function(u,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=_());var f=B(u=u||[],y);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<f.length;A++){var T=P(f[A]);c[T].references--}for(var E=B(v,y),ae=0;ae<f.length;ae++){var q=P(f[ae]);c[q].references===0&&(c[q].updater(),c.splice(q,1))}f=E}}}},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},995:(m,M,S)=>{m.exports=S(79)("./src/widget.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={id:m,exports:{}};return Gt[m](S,S.exports,J),S.exports}J.n=m=>{var M=m&&m.__esModule?()=>m.default:()=>m;return J.d(M,{a:M}),M},J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},J.nc=void 0;var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{HorizontalLine:()=>h,HorizontalLineEditing:()=>P,HorizontalLineUI:()=>x});var m=J(704),M=J(995);class S extends m.Command{refresh(){const Z=this.editor.model,Y=Z.schema,te=Z.document.selection;this.isEnabled=function(oe,ie,u){const y=function(f,v){const A=(0,M.findOptimalInsertionRange)(f,v),T=A.start.parent;return T.isEmpty&&!T.is("element","$root")?T.parent:T}(oe,u);return ie.checkChild(y,"horizontalLine")}(te,Y,Z)}execute(){const Z=this.editor.model;Z.change(Y=>{const te=Y.createElement("horizontalLine");Z.insertObject(te,null,null,{setSelection:"after"})})}}var p=J(62),_=J.n(p),l=J(217),c={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_()(l.Z,c),l.Z.locals;class P extends m.Plugin{static get pluginName(){return"HorizontalLineEditing"}init(){const Z=this.editor,Y=Z.model.schema,te=Z.t,oe=Z.conversion;Y.register("horizontalLine",{inheritAllFrom:"$blockObject"}),oe.for("dataDowncast").elementToElement({model:"horizontalLine",view:(ie,{writer:u})=>u.createEmptyElement("hr")}),oe.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(ie,{writer:u})=>{const y=te("Horizontal line"),f=u.createContainerElement("div",null,u.createEmptyElement("hr"));return u.addClass("ck-horizontal-line",f),u.setCustomProperty("hr",!0,f),function(v,A,T){return A.setCustomProperty("horizontalLine",!0,v),(0,M.toWidget)(v,A,{label:T})}(f,u,y)}}),oe.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),Z.commands.add("horizontalLine",new S(Z))}}var B=J(273);class x extends m.Plugin{static get pluginName(){return"HorizontalLineUI"}init(){const Z=this.editor,Y=Z.t;Z.ui.componentFactory.add("horizontalLine",te=>{const oe=Z.commands.get("horizontalLine"),ie=new B.ButtonView(te);return ie.set({label:Y("Horizontal line"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',tooltip:!0}),ie.bind("isEnabled").to(oe,"isEnabled"),this.listenTo(ie,"execute",()=>{Z.execute("horizontalLine"),Z.editing.view.focus()}),ie})}}class h extends m.Plugin{static get requires(){return[P,x,M.Widget]}static get pluginName(){return"HorizontalLine"}}})(),(window.CKEditor5=window.CKEditor5||{}).horizontalLine=Et})()},32550:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{"Edit source":"Edit source","Empty snippet content":"Empty snippet content","HTML snippet":"HTML snippet","Insert HTML":"Insert HTML","No preview available":"No preview available","Paste raw HTML here...":"Paste raw HTML here...","Save changes":"Save changes"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={5:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck-widget.raw-html-embed{display:flow-root;font-style:normal;margin:.9em auto;min-width:15em;position:relative}.ck-widget.raw-html-embed:before{position:absolute;z-index:1}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{display:flex;flex-direction:column;position:absolute}.ck-widget.raw-html-embed .raw-html-embed__preview{display:flex;overflow:hidden;position:relative}.ck-widget.raw-html-embed .raw-html-embed__preview-content{border-collapse:separate;border-spacing:7px;display:table;margin:auto;position:relative;width:100%}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}:root{--ck-html-embed-content-width:calc(100% - var(--ck-icon-size)*1.5);--ck-html-embed-source-height:10em;--ck-html-embed-unfocused-outline-width:1px;--ck-html-embed-content-min-height:calc(var(--ck-icon-size) + var(--ck-spacing-standard));--ck-html-embed-source-disabled-background:var(--ck-color-base-foreground);--ck-html-embed-source-disabled-color:#737373}.ck-widget.raw-html-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base)}.ck-widget.raw-html-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.raw-html-embed[dir=ltr]{text-align:left}.ck-widget.raw-html-embed[dir=rtl]{text-align:right}.ck-widget.raw-html-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);top:calc(var(--ck-html-embed-unfocused-outline-width)*-1);transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.raw-html-embed[dir=rtl]:before{left:auto;right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed[dir=ltr] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck.ck-editor__editable.ck-blurred .ck-widget.raw-html-embed.ck-widget_selected:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable:not(.ck-blurred) .ck-widget.raw-html-embed.ck-widget_selected:before{background:var(--ck-color-focus-border);padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable .ck-widget.raw-html-embed:not(.ck-widget_selected):hover:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck-widget.raw-html-embed .raw-html-embed__content-wrapper{padding:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{right:var(--ck-spacing-standard);top:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__save-button{color:var(--ck-color-button-save)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__cancel-button{color:var(--ck-color-button-cancel)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button:not(:first-child){margin-top:var(--ck-spacing-small)}.ck-widget.raw-html-embed[dir=rtl] .raw-html-embed__buttons-wrapper{left:var(--ck-spacing-standard);right:auto}.ck-widget.raw-html-embed .raw-html-embed__source{box-sizing:border-box;direction:ltr;font-family:monospace;font-size:var(--ck-font-size-base);height:var(--ck-html-embed-source-height);min-width:0;padding:var(--ck-spacing-standard);resize:none;tab-size:4;text-align:left;white-space:pre-wrap;width:var(--ck-html-embed-content-width)}.ck-widget.raw-html-embed .raw-html-embed__source[disabled]{-webkit-text-fill-color:var(--ck-html-embed-source-disabled-color);background:var(--ck-html-embed-source-disabled-background);color:var(--ck-html-embed-source-disabled-color);opacity:1}.ck-widget.raw-html-embed .raw-html-embed__preview{min-height:var(--ck-html-embed-content-min-height);width:var(--ck-html-embed-content-width)}.ck-editor__editable:not(.ck-read-only) .ck-widget.raw-html-embed .raw-html-embed__preview{pointer-events:none}.ck-widget.raw-html-embed .raw-html-embed__preview-content{background-color:var(--ck-color-base-foreground);box-sizing:border-box}.ck-widget.raw-html-embed .raw-html-embed__preview-content>*{margin-left:auto;margin-right:auto}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{color:var(--ck-html-embed-source-disabled-color)}",""]);const l=_},609:m=>{"use strict";m.exports=function(M){var S=[];return S.toString=function(){return this.map(function(p){var _=M(p);return p[2]?"@media ".concat(p[2]," {").concat(_,"}"):_}).join("")},S.i=function(p,_,l){typeof p=="string"&&(p=[[null,p,""]]);var c={};if(l)for(var P=0;P<this.length;P++){var B=this[P][0];B!=null&&(c[B]=!0)}for(var x=0;x<p.length;x++){var h=[].concat(p[x]);l&&c[h[0]]||(_&&(h[2]?h[2]="".concat(_," and ").concat(h[2]):h[2]=_),S.push(h))}},S}},62:(m,M,S)=>{"use strict";var p,_=function(){return p===void 0&&(p=Boolean(window&&document&&document.all&&!window.atob)),p},l=function(){var u={};return function(y){if(u[y]===void 0){var f=document.querySelector(y);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}u[y]=f}return u[y]}}(),c=[];function P(u){for(var y=-1,f=0;f<c.length;f++)if(c[f].identifier===u){y=f;break}return y}function B(u,y){for(var f={},v=[],A=0;A<u.length;A++){var T=u[A],E=y.base?T[0]+y.base:T[0],ae=f[E]||0,q="".concat(E," ").concat(ae);f[E]=ae+1;var z=P(q),b={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(b)):c.push({identifier:q,updater:ie(b,y),references:1}),v.push(q)}return v}function x(u){var y=document.createElement("style"),f=u.attributes||{};if(f.nonce===void 0){var v=S.nc;v&&(f.nonce=v)}if(Object.keys(f).forEach(function(T){y.setAttribute(T,f[T])}),typeof u.insert=="function")u.insert(y);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(y)}return y}var h,j=(h=[],function(u,y){return h[u]=y,h.filter(Boolean).join(`
`)});function Z(u,y,f,v){var A=f?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=j(y,A);else{var T=document.createTextNode(A),E=u.childNodes;E[y]&&u.removeChild(E[y]),E.length?u.insertBefore(T,E[y]):u.appendChild(T)}}function Y(u,y,f){var v=f.css,A=f.media,T=f.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var te=null,oe=0;function ie(u,y){var f,v,A;if(y.singleton){var T=oe++;f=te||(te=x(y)),v=Z.bind(null,f,T,!1),A=Z.bind(null,f,T,!0)}else f=x(y),v=Y.bind(null,f,y),A=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(f)};return v(u),function(E){if(E){if(E.css===u.css&&E.media===u.media&&E.sourceMap===u.sourceMap)return;v(u=E)}else A()}}m.exports=function(u,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=_());var f=B(u=u||[],y);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<f.length;A++){var T=P(f[A]);c[T].references--}for(var E=B(v,y),ae=0;ae<f.length;ae++){var q=P(f[ae]);c[q].references===0&&(c[q].updater(),c.splice(q,1))}f=E}}}},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},209:(m,M,S)=>{m.exports=S(79)("./src/utils.js")},995:(m,M,S)=>{m.exports=S(79)("./src/widget.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={id:m,exports:{}};return Gt[m](S,S.exports,J),S.exports}J.n=m=>{var M=m&&m.__esModule?()=>m.default:()=>m;return J.d(M,{a:M}),M},J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},J.nc=void 0;var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{HtmlEmbed:()=>Y,HtmlEmbedEditing:()=>h,HtmlEmbedUI:()=>Z});var m=J(704),M=J(995),S=J(273),p=J(209);class _ extends m.Command{refresh(){const oe=this.editor.model,ie=oe.schema,u=oe.document.selection,y=l(u);this.isEnabled=function(f,v,A){const T=function(E,ae){const q=(0,M.findOptimalInsertionRange)(E,ae),z=q.start.parent;return z.isEmpty&&!z.is("rootElement")?z.parent:z}(f,A);return v.checkChild(T,"rawHtml")}(u,ie,oe),this.value=y?y.getAttribute("value")||"":null}execute(oe){const ie=this.editor.model,u=ie.document.selection;ie.change(y=>{let f;this.value!==null?f=l(u):(f=y.createElement("rawHtml"),ie.insertObject(f,null,null,{setSelection:"on"})),y.setAttribute("value",oe,f)})}}function l(te){const oe=te.getSelectedElement();return oe&&oe.is("element","rawHtml")?oe:null}var c=J(62),P=J.n(c),B=J(5),x={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};P()(B.Z,x),B.Z.locals;class h extends m.Plugin{static get pluginName(){return"HtmlEmbedEditing"}constructor(oe){super(oe),this._widgetButtonViewReferences=new Set,oe.config.define("htmlEmbed",{showPreviews:!1,sanitizeHtml:ie=>((0,p.logWarning)("html-embed-provide-sanitize-function"),{html:ie,hasChanged:!1})})}init(){const oe=this.editor;oe.model.schema.register("rawHtml",{inheritAllFrom:"$blockObject",allowAttributes:["value"]}),oe.commands.add("htmlEmbed",new _(oe)),this._setupConversion()}_setupConversion(){const oe=this.editor,ie=oe.t,u=oe.editing.view,y=this._widgetButtonViewReferences,f=oe.config.get("htmlEmbed");function v({editor:T,domElement:E,state:ae,props:q}){E.textContent="";const z=E.ownerDocument;let b;if(ae.isEditable){const $={isDisabled:!1,placeholder:q.textareaPlaceholder};b=A({domDocument:z,state:ae,props:$}),E.append(b)}else if(ae.showPreviews){const $={sanitizeHtml:q.sanitizeHtml};E.append(function({editor:D,domDocument:re,state:Ee,props:je}){const Ie=je.sanitizeHtml(Ee.getRawHtmlValue()),De=Ee.getRawHtmlValue().length>0?ie("No preview available"):ie("Empty snippet content"),mt=(0,p.createElement)(re,"div",{class:"ck ck-reset_all raw-html-embed__preview-placeholder"},De),lt=(0,p.createElement)(re,"div",{class:"raw-html-embed__preview-content",dir:D.locale.contentLanguageDirection}),ut=re.createRange(),dt=ut.createContextualFragment(Ie.html);return lt.appendChild(dt),(0,p.createElement)(re,"div",{class:"raw-html-embed__preview"},[mt,lt])}({domDocument:z,state:ae,props:$,editor:T}))}else{const $={isDisabled:!0,placeholder:q.textareaPlaceholder};E.append(A({domDocument:z,state:ae,props:$}))}const V={onEditClick:q.onEditClick,onSaveClick:()=>{q.onSaveClick(b.value)},onCancelClick:q.onCancelClick};E.prepend(function({editor:$,domDocument:D,state:re,props:Ee}){const je=(0,p.createElement)(D,"div",{class:"raw-html-embed__buttons-wrapper"});if(re.isEditable){const Ie=j($,"save",Ee.onSaveClick),De=j($,"cancel",Ee.onCancelClick);je.append(Ie.element,De.element),y.add(Ie).add(De)}else{const Ie=j($,"edit",Ee.onEditClick);je.append(Ie.element),y.add(Ie)}return je}({editor:T,domDocument:z,state:ae,props:V}))}function A({domDocument:T,state:E,props:ae}){const q=(0,p.createElement)(T,"textarea",{placeholder:ae.placeholder,class:"ck ck-reset ck-input ck-input-text raw-html-embed__source"});return q.disabled=ae.isDisabled,q.value=E.getRawHtmlValue(),q}this.editor.editing.view.on("render",()=>{for(const T of y){if(T.element&&T.element.isConnected)return;T.destroy(),y.delete(T)}},{priority:"lowest"}),oe.data.registerRawContentMatcher({name:"div",classes:"raw-html-embed"}),oe.conversion.for("upcast").elementToElement({view:{name:"div",classes:"raw-html-embed"},model:(T,{writer:E})=>E.createElement("rawHtml",{value:T.getCustomProperty("$rawContent")})}),oe.conversion.for("dataDowncast").elementToElement({model:"rawHtml",view:(T,{writer:E})=>E.createRawElement("div",{class:"raw-html-embed"},function(ae){ae.innerHTML=T.getAttribute("value")||""})}),oe.conversion.for("editingDowncast").elementToStructure({model:{name:"rawHtml",attributes:["value"]},view:(T,{writer:E})=>{let ae,q,z;const b=E.createRawElement("div",{class:"raw-html-embed__content-wrapper"},function(D){ae=D,v({editor:oe,domElement:D,state:q,props:z}),ae.addEventListener("mousedown",()=>{if(q.isEditable){const re=oe.model;re.document.selection.getSelectedElement()!==T&&re.change(Ee=>Ee.setSelection(T,"on"))}},!0)}),V={makeEditable(){q=Object.assign({},q,{isEditable:!0}),v({domElement:ae,editor:oe,state:q,props:z}),u.change(D=>{D.setAttribute("data-cke-ignore-events","true",b)}),ae.querySelector("textarea").focus()},save(D){D!==q.getRawHtmlValue()?(oe.execute("htmlEmbed",D),oe.editing.view.focus()):this.cancel()},cancel(){q=Object.assign({},q,{isEditable:!1}),v({domElement:ae,editor:oe,state:q,props:z}),oe.editing.view.focus(),u.change(D=>{D.removeAttribute("data-cke-ignore-events",b)})}};q={showPreviews:f.showPreviews,isEditable:!1,getRawHtmlValue:()=>T.getAttribute("value")||""},z={sanitizeHtml:f.sanitizeHtml,textareaPlaceholder:ie("Paste raw HTML here..."),onEditClick(){V.makeEditable()},onSaveClick(D){V.save(D)},onCancelClick(){V.cancel()}};const $=E.createContainerElement("div",{class:"raw-html-embed","data-html-embed-label":ie("HTML snippet"),dir:oe.locale.uiLanguageDirection},b);return E.setCustomProperty("rawHtmlApi",V,$),E.setCustomProperty("rawHtml",!0,$),(0,M.toWidget)($,E,{label:ie("HTML snippet"),hasSelectionHandle:!0})}})}}function j(te,oe,ie){const{t:u}=te.locale,y=new S.ButtonView(te.locale),f=te.commands.get("htmlEmbed");return y.set({class:`raw-html-embed__${oe}-button`,icon:m.icons.pencil,tooltip:!0,tooltipPosition:te.locale.uiLanguageDirection==="rtl"?"e":"w"}),y.render(),oe==="edit"?(y.set({icon:m.icons.pencil,label:u("Edit source")}),y.bind("isEnabled").to(f)):oe==="save"?(y.set({icon:m.icons.check,label:u("Save changes")}),y.bind("isEnabled").to(f)):y.set({icon:m.icons.cancel,label:u("Cancel")}),y.on("execute",ie),y}class Z extends m.Plugin{static get pluginName(){return"HtmlEmbedUI"}init(){const oe=this.editor,ie=oe.t;oe.ui.componentFactory.add("htmlEmbed",u=>{const y=oe.commands.get("htmlEmbed"),f=new S.ButtonView(u);return f.set({label:ie("Insert HTML"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',tooltip:!0}),f.bind("isEnabled").to(y,"isEnabled"),this.listenTo(f,"execute",()=>{oe.execute("htmlEmbed"),oe.editing.view.focus(),oe.editing.view.document.selection.getSelectedElement().getCustomProperty("rawHtmlApi").makeEditable()}),f})}}class Y extends m.Plugin{static get requires(){return[h,Z,M.Widget]}static get pluginName(){return"HtmlEmbed"}}})(),(window.CKEditor5=window.CKEditor5||{}).htmlEmbed=Et})()},78982:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{"Break text":"Break text","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Enter image caption":"Enter image caption","Full size image":"Full size image","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line",Insert:"Insert","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Left aligned image":"Left aligned image",Original:"Original","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Right aligned image":"Right aligned image","Side image":"Side image","Text alternative":"Text alternative",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Wrap text":"Wrap text"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={487:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const l=_},417:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}",""]);const l=_},86:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}",""]);const l=_},554:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}",""]);const l=_},390:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}",""]);const l=_},968:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}",""]);const l=_},151:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}",""]);const l=_},651:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',""]);const l=_},582:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',""]);const l=_},283:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}",""]);const l=_},915:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}",""]);const l=_},609:m=>{"use strict";m.exports=function(M){var S=[];return S.toString=function(){return this.map(function(p){var _=M(p);return p[2]?"@media ".concat(p[2]," {").concat(_,"}"):_}).join("")},S.i=function(p,_,l){typeof p=="string"&&(p=[[null,p,""]]);var c={};if(l)for(var P=0;P<this.length;P++){var B=this[P][0];B!=null&&(c[B]=!0)}for(var x=0;x<p.length;x++){var h=[].concat(p[x]);l&&c[h[0]]||(_&&(h[2]?h[2]="".concat(_," and ").concat(h[2]):h[2]=_),S.push(h))}},S}},62:(m,M,S)=>{"use strict";var p,_=function(){return p===void 0&&(p=Boolean(window&&document&&document.all&&!window.atob)),p},l=function(){var u={};return function(y){if(u[y]===void 0){var f=document.querySelector(y);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}u[y]=f}return u[y]}}(),c=[];function P(u){for(var y=-1,f=0;f<c.length;f++)if(c[f].identifier===u){y=f;break}return y}function B(u,y){for(var f={},v=[],A=0;A<u.length;A++){var T=u[A],E=y.base?T[0]+y.base:T[0],ae=f[E]||0,q="".concat(E," ").concat(ae);f[E]=ae+1;var z=P(q),b={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(b)):c.push({identifier:q,updater:ie(b,y),references:1}),v.push(q)}return v}function x(u){var y=document.createElement("style"),f=u.attributes||{};if(f.nonce===void 0){var v=S.nc;v&&(f.nonce=v)}if(Object.keys(f).forEach(function(T){y.setAttribute(T,f[T])}),typeof u.insert=="function")u.insert(y);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(y)}return y}var h,j=(h=[],function(u,y){return h[u]=y,h.filter(Boolean).join(`
`)});function Z(u,y,f,v){var A=f?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=j(y,A);else{var T=document.createTextNode(A),E=u.childNodes;E[y]&&u.removeChild(E[y]),E.length?u.insertBefore(T,E[y]):u.appendChild(T)}}function Y(u,y,f){var v=f.css,A=f.media,T=f.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var te=null,oe=0;function ie(u,y){var f,v,A;if(y.singleton){var T=oe++;f=te||(te=x(y)),v=Z.bind(null,f,T,!1),A=Z.bind(null,f,T,!0)}else f=x(y),v=Y.bind(null,f,y),A=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(f)};return v(u),function(E){if(E){if(E.css===u.css&&E.media===u.media&&E.sourceMap===u.sourceMap)return;v(u=E)}else A()}}m.exports=function(u,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=_());var f=B(u=u||[],y);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<f.length;A++){var T=P(f[A]);c[T].references--}for(var E=B(v,y),ae=0;ae<f.length;ae++){var q=P(f[ae]);c[q].references===0&&(c[q].updater(),c.splice(q,1))}f=E}}}},945:(m,M,S)=>{m.exports=S(79)("./src/clipboard.js")},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},492:(m,M,S)=>{m.exports=S(79)("./src/engine.js")},181:(m,M,S)=>{m.exports=S(79)("./src/typing.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},254:(m,M,S)=>{m.exports=S(79)("./src/undo.js")},448:(m,M,S)=>{m.exports=S(79)("./src/upload.js")},209:(m,M,S)=>{m.exports=S(79)("./src/utils.js")},995:(m,M,S)=>{m.exports=S(79)("./src/widget.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={id:m,exports:{}};return Gt[m](S,S.exports,J),S.exports}J.n=m=>{var M=m&&m.__esModule?()=>m.default:()=>m;return J.d(M,{a:M}),M},J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},J.nc=void 0;var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{AutoImage:()=>ie,Image:()=>st,ImageBlock:()=>Je,ImageBlockEditing:()=>bt,ImageCaption:()=>hi,ImageCaptionEditing:()=>Yt,ImageCaptionUI:()=>ui,ImageCaptionUtils:()=>Lt,ImageEditing:()=>De,ImageInline:()=>tt,ImageInsert:()=>Mi,ImageInsertUI:()=>Q,ImageInsertViaUrl:()=>Ki,ImageResize:()=>jt,ImageResizeButtons:()=>Ne,ImageResizeEditing:()=>$t,ImageResizeHandles:()=>se,ImageSizeAttributes:()=>mt,ImageStyle:()=>ho,ImageStyleEditing:()=>on,ImageStyleUI:()=>rn,ImageTextAlternative:()=>$,ImageTextAlternativeEditing:()=>y,ImageTextAlternativeUI:()=>V,ImageToolbar:()=>oo,ImageUpload:()=>Li,ImageUploadEditing:()=>wi,ImageUploadProgress:()=>rt,ImageUploadUI:()=>Pi,ImageUtils:()=>Y,PictureEditing:()=>ro});var m=J(704),M=J(945),S=J(492),p=J(254),_=J(181),l=J(209),c=J(995);function P(Ht){return Ht.createContainerElement("figure",{class:"image"},[Ht.createEmptyElement("img"),Ht.createSlot("children")])}function B(Ht,K){const Ae=Ht.plugins.get("ImageUtils"),Ue=Ht.plugins.has("ImageInlineEditing")&&Ht.plugins.has("ImageBlockEditing");return et=>Ae.isInlineImageView(et)?Ue&&(et.getStyle("display")=="block"||et.findAncestor(Ae.isBlockImageView)?"imageBlock":"imageInline")!==K?null:Be(et):null;function Be(et){const Xe={name:!0};return et.hasAttribute("src")&&(Xe.attributes=["src"]),Xe}}function x(Ht,K){const Ae=(0,l.first)(K.getSelectedBlocks());return!Ae||Ht.isObject(Ae)||Ae.isEmpty&&Ae.name!="listItem"?"imageBlock":"imageInline"}function h(Ht){return Ht&&Ht.endsWith("px")?parseInt(Ht):null}function j(Ht){const K=h(Ht.getStyle("width")),Ae=h(Ht.getStyle("height"));return!(!K||!Ae)}const Z=/^(image|image-inline)$/;class Y extends m.Plugin{constructor(){super(...arguments),this._domEmitter=new((0,l.DomEmitterMixin)())}static get pluginName(){return"ImageUtils"}isImage(K){return this.isInlineImage(K)||this.isBlockImage(K)}isInlineImageView(K){return!!K&&K.is("element","img")}isBlockImageView(K){return!!K&&K.is("element","figure")&&K.hasClass("image")}insertImage(K={},Ae=null,Ue=null,Be={}){const et=this.editor,Xe=et.model,It=Xe.document.selection,vt=te(et,Ae||It,Ue);K={...Object.fromEntries(It.getAttributes()),...K};for(const St in K)Xe.schema.checkAttribute(vt,St)||delete K[St];return Xe.change(St=>{const{setImageSizes:zt=!0}=Be,Wt=St.createElement(vt,K);return Xe.insertObject(Wt,Ae,null,{setSelection:"on",findOptimalPosition:Ae||vt=="imageInline"?void 0:"auto"}),Wt.parent?(zt&&this.setImageNaturalSizeAttributes(Wt),Wt):null})}setImageNaturalSizeAttributes(K){const Ae=K.getAttribute("src");Ae&&(K.getAttribute("width")||K.getAttribute("height")||this.editor.model.change(Ue=>{const Be=new l.global.window.Image;this._domEmitter.listenTo(Be,"load",()=>{K.getAttribute("width")||K.getAttribute("height")||this.editor.model.enqueueChange(Ue.batch,et=>{et.setAttribute("width",Be.naturalWidth,K),et.setAttribute("height",Be.naturalHeight,K)}),this._domEmitter.stopListening(Be,"load")}),Be.src=Ae}))}getClosestSelectedImageWidget(K){const Ae=K.getFirstPosition();if(!Ae)return null;const Ue=K.getSelectedElement();if(Ue&&this.isImageWidget(Ue))return Ue;let Be=Ae.parent;for(;Be;){if(Be.is("element")&&this.isImageWidget(Be))return Be;Be=Be.parent}return null}getClosestSelectedImageElement(K){const Ae=K.getSelectedElement();return this.isImage(Ae)?Ae:K.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(K){return K.findAncestor({classes:Z})}isImageAllowed(){const K=this.editor.model.document.selection;return function(Ae,Ue){if(te(Ae,Ue,null)=="imageBlock"){const et=function(Xe,It){const vt=(0,c.findOptimalInsertionRange)(Xe,It),St=vt.start.parent;return St.isEmpty&&!St.is("element","$root")?St.parent:St}(Ue,Ae.model);if(Ae.model.schema.checkChild(et,"imageBlock"))return!0}else if(Ae.model.schema.checkChild(Ue.focus,"imageInline"))return!0;return!1}(this.editor,K)&&function(Ae){return[...Ae.focus.getAncestors()].every(Ue=>!Ue.is("element","imageBlock"))}(K)}toImageWidget(K,Ae,Ue){return Ae.setCustomProperty("image",!0,K),(0,c.toWidget)(K,Ae,{label:()=>{const Be=this.findViewImgElement(K).getAttribute("alt");return Be?`${Be} ${Ue}`:Ue}})}isImageWidget(K){return!!K.getCustomProperty("image")&&(0,c.isWidget)(K)}isBlockImage(K){return!!K&&K.is("element","imageBlock")}isInlineImage(K){return!!K&&K.is("element","imageInline")}findViewImgElement(K){if(this.isInlineImageView(K))return K;const Ae=this.editor.editing.view;for(const{item:Ue}of Ae.createRangeIn(K))if(this.isInlineImageView(Ue))return Ue}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function te(Ht,K,Ae){const Ue=Ht.model.schema,Be=Ht.config.get("image.insert.type");return Ht.plugins.has("ImageBlockEditing")?Ht.plugins.has("ImageInlineEditing")?Ae||(Be==="inline"?"imageInline":Be!=="auto"?"imageBlock":K.is("selection")?x(Ue,K):Ue.checkChild(K,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const oe=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class ie extends m.Plugin{static get requires(){return[M.Clipboard,Y,p.Undo,_.Delete]}static get pluginName(){return"AutoImage"}constructor(K){super(K),this._timeoutId=null,this._positionToInsert=null}init(){const K=this.editor,Ae=K.model.document,Ue=K.plugins.get("ClipboardPipeline");this.listenTo(Ue,"inputTransformation",()=>{const Be=Ae.selection.getFirstRange(),et=S.LivePosition.fromPosition(Be.start);et.stickiness="toPrevious";const Xe=S.LivePosition.fromPosition(Be.end);Xe.stickiness="toNext",Ae.once("change:data",()=>{this._embedImageBetweenPositions(et,Xe),et.detach(),Xe.detach()},{priority:"high"})}),K.commands.get("undo").on("execute",()=>{this._timeoutId&&(l.global.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(K,Ae){const Ue=this.editor,Be=new S.LiveRange(K,Ae),et=Be.getWalker({ignoreElementEnd:!0}),Xe=Object.fromEntries(Ue.model.document.selection.getAttributes()),It=this.editor.plugins.get("ImageUtils");let vt="";for(const St of et)St.item.is("$textProxy")&&(vt+=St.item.data);vt=vt.trim(),vt.match(oe)?(this._positionToInsert=S.LivePosition.fromPosition(K),this._timeoutId=setTimeout(()=>{if(!Ue.commands.get("insertImage").isEnabled)return void Be.detach();Ue.model.change(St=>{let zt;this._timeoutId=null,St.remove(Be),Be.detach(),this._positionToInsert.root.rootName!=="$graveyard"&&(zt=this._positionToInsert.toPosition()),It.insertImage({...Xe,src:vt},zt),this._positionToInsert.detach(),this._positionToInsert=null}),Ue.plugins.get("Delete").requestUndoOnBackspace()},100)):Be.detach()}}class u extends m.Command{refresh(){const K=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!K,this.isEnabled&&K.hasAttribute("alt")?this.value=K.getAttribute("alt"):this.value=!1}execute(K){const Ae=this.editor,Ue=Ae.plugins.get("ImageUtils"),Be=Ae.model,et=Ue.getClosestSelectedImageElement(Be.document.selection);Be.change(Xe=>{Xe.setAttribute("alt",K.newValue,et)})}}class y extends m.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new u(this.editor))}}var f=J(273),v=J(62),A=J.n(v),T=J(915),E={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(T.Z,E),T.Z.locals;var ae=J(487),q={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(ae.Z,q),ae.Z.locals;class z extends f.View{constructor(K){super(K);const Ae=this.locale.t;this.focusTracker=new l.FocusTracker,this.keystrokes=new l.KeystrokeHandler,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(Ae("Save"),m.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(Ae("Cancel"),m.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new f.ViewCollection,this._focusCycler=new f.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),(0,f.submitHandler)({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(K=>{this._focusables.add(K),this.focusTracker.add(K.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(K,Ae,Ue,Be){const et=new f.ButtonView(this.locale);return et.set({label:K,icon:Ae,tooltip:!0}),et.extendTemplate({attributes:{class:Ue}}),Be&&et.delegate("execute").to(this,Be),et}_createLabeledInputView(){const K=this.locale.t,Ae=new f.LabeledFieldView(this.locale,f.createLabeledInputText);return Ae.label=K("Text alternative"),Ae}}function b(Ht){const K=Ht.editing.view,Ae=f.BalloonPanelView.defaultPositions,Ue=Ht.plugins.get("ImageUtils");return{target:K.domConverter.mapViewToDom(Ue.getClosestSelectedImageWidget(K.document.selection)),positions:[Ae.northArrowSouth,Ae.northArrowSouthWest,Ae.northArrowSouthEast,Ae.southArrowNorth,Ae.southArrowNorthWest,Ae.southArrowNorthEast,Ae.viewportStickyNorth]}}class V extends m.Plugin{static get requires(){return[f.ContextualBalloon]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const K=this.editor,Ae=K.t;K.ui.componentFactory.add("imageTextAlternative",Ue=>{const Be=K.commands.get("imageTextAlternative"),et=new f.ButtonView(Ue);return et.set({label:Ae("Change image text alternative"),icon:m.icons.textAlternative,tooltip:!0}),et.bind("isEnabled").to(Be,"isEnabled"),et.bind("isOn").to(Be,"value",Xe=>!!Xe),this.listenTo(et,"execute",()=>{this._showForm()}),et})}_createForm(){const K=this.editor,Ae=K.editing.view.document,Ue=K.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new((0,f.CssTransitionDisablerMixin)(z))(K.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{K.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(Be,et)=>{this._hideForm(!0),et()}),this.listenTo(K.ui,"update",()=>{Ue.getClosestSelectedImageWidget(Ae.selection)?this._isVisible&&function(Be){const et=Be.plugins.get("ContextualBalloon");if(Be.plugins.get("ImageUtils").getClosestSelectedImageWidget(Be.editing.view.document.selection)){const Xe=b(Be);et.updatePosition(Xe)}}(K):this._hideForm(!0)}),(0,f.clickOutsideHandler)({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const K=this.editor,Ae=K.commands.get("imageTextAlternative"),Ue=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:b(K)}),Ue.fieldView.value=Ue.fieldView.element.value=Ae.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(K=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),K&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class $ extends m.Plugin{static get requires(){return[y,V]}static get pluginName(){return"ImageTextAlternative"}}function D(Ht,K){const Ae=(Ue,Be,et)=>{if(!et.consumable.consume(Be.item,Ue.name))return;const Xe=et.writer,It=et.mapper.toViewElement(Be.item),vt=Ht.findViewImgElement(It);Be.attributeNewValue===null?(Xe.removeAttribute("srcset",vt),Xe.removeAttribute("sizes",vt)):Be.attributeNewValue&&(Xe.setAttribute("srcset",Be.attributeNewValue,vt),Xe.setAttribute("sizes","100vw",vt))};return Ue=>{Ue.on(`attribute:srcset:${K}`,Ae)}}function re(Ht,K,Ae){const Ue=(Be,et,Xe)=>{if(!Xe.consumable.consume(et.item,Be.name))return;const It=Xe.writer,vt=Xe.mapper.toViewElement(et.item),St=Ht.findViewImgElement(vt);It.setAttribute(et.attributeKey,et.attributeNewValue||"",St)};return Be=>{Be.on(`attribute:${Ae}:${K}`,Ue)}}class Ee extends S.Observer{observe(K){this.listenTo(K,"load",(Ae,Ue)=>{const Be=Ue.target;this.checkShouldIgnoreEventFromTarget(Be)||Be.tagName=="IMG"&&this._fireEvents(Ue)},{useCapture:!0})}stopObserving(K){this.stopListening(K)}_fireEvents(K){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",K))}}class je extends m.Command{constructor(K){super(K);const Ae=K.config.get("image.insert.type");K.plugins.has("ImageBlockEditing")||Ae==="block"&&(0,l.logWarning)("image-block-plugin-required"),K.plugins.has("ImageInlineEditing")||Ae==="inline"&&(0,l.logWarning)("image-inline-plugin-required")}refresh(){const K=this.editor.plugins.get("ImageUtils");this.isEnabled=K.isImageAllowed()}execute(K){const Ae=(0,l.toArray)(K.source),Ue=this.editor.model.document.selection,Be=this.editor.plugins.get("ImageUtils"),et=Object.fromEntries(Ue.getAttributes());Ae.forEach((Xe,It)=>{const vt=Ue.getSelectedElement();if(typeof Xe=="string"&&(Xe={src:Xe}),It&&vt&&Be.isImage(vt)){const St=this.editor.model.createPositionAfter(vt);Be.insertImage({...Xe,...et},St)}else Be.insertImage({...Xe,...et})})}}class Ie extends m.Command{constructor(K){super(K),this.decorate("cleanupImage")}refresh(){const K=this.editor.plugins.get("ImageUtils"),Ae=this.editor.model.document.selection.getSelectedElement();this.isEnabled=K.isImage(Ae),this.value=this.isEnabled?Ae.getAttribute("src"):null}execute(K){const Ae=this.editor.model.document.selection.getSelectedElement(),Ue=this.editor.plugins.get("ImageUtils");this.editor.model.change(Be=>{Be.setAttribute("src",K.source,Ae),this.cleanupImage(Be,Ae),Ue.setImageNaturalSizeAttributes(Ae)})}cleanupImage(K,Ae){K.removeAttribute("srcset",Ae),K.removeAttribute("sizes",Ae),K.removeAttribute("sources",Ae),K.removeAttribute("width",Ae),K.removeAttribute("height",Ae),K.removeAttribute("alt",Ae)}}class De extends m.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImageEditing"}init(){const K=this.editor,Ae=K.conversion;K.editing.view.addObserver(Ee),Ae.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const Ue=new je(K),Be=new Ie(K);K.commands.add("insertImage",Ue),K.commands.add("replaceImageSource",Be),K.commands.add("imageInsert",Ue)}}class mt extends m.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(K){const Ae=this.editor,Ue=Ae.plugins.get("ImageUtils"),Be=K==="imageBlock"?"figure":"img";function et(Xe,It,vt,St){Xe.on(`attribute:${It}:${K}`,(zt,Wt,mi)=>{if(!mi.consumable.consume(Wt.item,zt.name))return;const ai=mi.writer,gi=mi.mapper.toViewElement(Wt.item),Ri=Ue.findViewImgElement(gi);if(Wt.attributeNewValue!==null?ai.setAttribute(vt,Wt.attributeNewValue,Ri):ai.removeAttribute(vt,Ri),Wt.item.hasAttribute("sources"))return;const Qi=Wt.item.hasAttribute("resizedWidth");if(K==="imageInline"&&!Qi&&!St)return;const Pn=Wt.item.getAttribute("width"),Mn=Wt.item.getAttribute("height");Pn&&Mn&&ai.setStyle("aspect-ratio",`${Pn}/${Mn}`,Ri)})}Ae.conversion.for("upcast").attributeToAttribute({view:{name:Be,styles:{width:/.+/}},model:{key:"width",value:Xe=>j(Xe)?h(Xe.getStyle("width")):null}}).attributeToAttribute({view:{name:Be,key:"width"},model:"width"}).attributeToAttribute({view:{name:Be,styles:{height:/.+/}},model:{key:"height",value:Xe=>j(Xe)?h(Xe.getStyle("height")):null}}).attributeToAttribute({view:{name:Be,key:"height"},model:"height"}),Ae.conversion.for("editingDowncast").add(Xe=>{et(Xe,"width","width",!0),et(Xe,"height","height",!0)}),Ae.conversion.for("dataDowncast").add(Xe=>{et(Xe,"width","width",!1),et(Xe,"height","height",!1)})}}class lt extends m.Command{constructor(K,Ae){super(K),this._modelElementName=Ae}refresh(){const K=this.editor.plugins.get("ImageUtils"),Ae=K.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=K.isInlineImage(Ae):this.isEnabled=K.isBlockImage(Ae)}execute(K={}){const Ae=this.editor,Ue=this.editor.model,Be=Ae.plugins.get("ImageUtils"),et=Be.getClosestSelectedImageElement(Ue.document.selection),Xe=Object.fromEntries(et.getAttributes());return Xe.src||Xe.uploadId?Ue.change(It=>{const{setImageSizes:vt=!0}=K,St=Array.from(Ue.markers).filter(mi=>mi.getRange().containsItem(et)),zt=Be.insertImage(Xe,Ue.createSelection(et,"on"),this._modelElementName,{setImageSizes:vt});if(!zt)return null;const Wt=It.createRangeOn(zt);for(const mi of St){const ai=mi.getRange(),gi=ai.root.rootName!="$graveyard"?ai.getJoined(Wt,!0):Wt;It.updateMarker(mi,{range:gi})}return{oldElement:et,newElement:zt}}):null}}var ut=J(390),dt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(ut.Z,dt),ut.Z.locals;class _t extends m.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const K=this.editor.model.schema;K.isRegistered("imageBlock")&&K.extend("imageBlock",{allowAttributes:["placeholder"]}),K.isRegistered("imageInline")&&K.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const K=this.editor,Ae=K.conversion,Ue=K.plugins.get("ImageUtils");Ae.for("editingDowncast").add(Be=>{Be.on("attribute:placeholder",(et,Xe,It)=>{if(!It.consumable.test(Xe.item,et.name)||!Xe.item.is("element","imageBlock")&&!Xe.item.is("element","imageInline"))return;It.consumable.consume(Xe.item,et.name);const vt=It.writer,St=It.mapper.toViewElement(Xe.item),zt=Ue.findViewImgElement(St);Xe.attributeNewValue?(vt.addClass("image_placeholder",zt),vt.setStyle("background-image",`url(${Xe.attributeNewValue})`,zt),vt.setCustomProperty("editingPipeline:doNotReuseOnce",!0,zt)):(vt.removeClass("image_placeholder",zt),vt.removeStyle("background-image",zt))})})}_setupLoadListener(){const K=this.editor,Ae=K.model,Ue=K.editing,Be=Ue.view,et=K.plugins.get("ImageUtils");Be.addObserver(Ee),this.listenTo(Be.document,"imageLoaded",(Xe,It)=>{const vt=Be.domConverter.mapDomToView(It.target);if(!vt)return;const St=et.getImageWidgetFromImageView(vt);if(!St)return;const zt=Ue.mapper.toModelElement(St);zt&&zt.hasAttribute("placeholder")&&Ae.enqueueChange({isUndoable:!1},Wt=>{Wt.removeAttribute("placeholder",zt)})})}}class bt extends m.Plugin{static get requires(){return[De,mt,Y,_t,M.ClipboardPipeline]}static get pluginName(){return"ImageBlockEditing"}init(){const K=this.editor;K.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),K.plugins.has("ImageInlineEditing")&&(K.commands.add("imageTypeBlock",new lt(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const K=this.editor,Ae=K.t,Ue=K.conversion,Be=K.plugins.get("ImageUtils");Ue.for("dataDowncast").elementToStructure({model:"imageBlock",view:(et,{writer:Xe})=>P(Xe)}),Ue.for("editingDowncast").elementToStructure({model:"imageBlock",view:(et,{writer:Xe})=>Be.toImageWidget(P(Xe),Xe,Ae("image widget"))}),Ue.for("downcast").add(re(Be,"imageBlock","src")).add(re(Be,"imageBlock","alt")).add(D(Be,"imageBlock")),Ue.for("upcast").elementToElement({view:B(K,"imageBlock"),model:(et,{writer:Xe})=>Xe.createElement("imageBlock",et.hasAttribute("src")?{src:et.getAttribute("src")}:void 0)}).add(function(et){const Xe=(It,vt,St)=>{if(!St.consumable.test(vt.viewItem,{name:!0,classes:"image"}))return;const zt=et.findViewImgElement(vt.viewItem);if(!zt||!St.consumable.test(zt,{name:!0}))return;St.consumable.consume(vt.viewItem,{name:!0,classes:"image"});const Wt=St.convertItem(zt,vt.modelCursor),mi=(0,l.first)(Wt.modelRange.getItems());mi?(St.convertChildren(vt.viewItem,mi),St.updateConversionResult(mi,vt)):St.consumable.revert(vt.viewItem,{name:!0,classes:"image"})};return It=>{It.on("element:figure",Xe)}}(Be))}_setupClipboardIntegration(){const K=this.editor,Ae=K.model,Ue=K.editing.view,Be=K.plugins.get("ImageUtils"),et=K.plugins.get("ClipboardPipeline");this.listenTo(et,"inputTransformation",(Xe,It)=>{const vt=Array.from(It.content.getChildren());let St;if(!vt.every(Be.isInlineImageView))return;St=It.targetRanges?K.editing.mapper.toModelRange(It.targetRanges[0]):Ae.document.selection.getFirstRange();const zt=Ae.createSelection(St);if(x(Ae.schema,zt)==="imageBlock"){const Wt=new S.UpcastWriter(Ue.document),mi=vt.map(ai=>Wt.createElement("figure",{class:"image"},ai));It.content=Wt.createDocumentFragment(mi)}}),this.listenTo(et,"contentInsertion",(Xe,It)=>{It.method==="paste"&&Ae.change(vt=>{const St=vt.createRangeIn(It.content);for(const zt of St.getItems())zt.is("element","imageBlock")&&Be.setImageNaturalSizeAttributes(zt)})})}}var Qe=J(554),ft={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(Qe.Z,ft),Qe.Z.locals;class Ve extends f.View{constructor(K,Ae=[]){super(K),this.focusTracker=new l.FocusTracker,this.keystrokes=new l.KeystrokeHandler,this._focusables=new f.ViewCollection,this.children=this.createCollection(),this._focusCycler=new f.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const Ue of Ae)this.children.add(Ue),this._focusables.add(Ue),Ue instanceof f.CollapsibleView&&this._focusables.addMany(Ue.children);if(this._focusables.length>1)for(const Ue of this._focusables)Te(Ue)&&(Ue.focusCycler.on("forwardCycle",Be=>{this._focusCycler.focusNext(),Be.stop()}),Ue.focusCycler.on("backwardCycle",Be=>{this._focusCycler.focusPrevious(),Be.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),(0,f.submitHandler)({view:this});for(const Ae of this._focusables)this.focusTracker.add(Ae.element);this.keystrokes.listenTo(this.element);const K=Ae=>Ae.stopPropagation();this.keystrokes.set("arrowright",K),this.keystrokes.set("arrowleft",K),this.keystrokes.set("arrowup",K),this.keystrokes.set("arrowdown",K)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function Te(Ht){return"focusCycler"in Ht}class Q extends m.Plugin{static get pluginName(){return"ImageInsertUI"}static get requires(){return[Y]}constructor(K){super(K),this._integrations=new Map,K.config.define("image.insert.integrations",["upload","assetManager","url"])}init(){const K=this.editor,Ae=K.model.document.selection,Ue=K.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(K.model.document,"change",()=>{this.isImageSelected=Ue.isImage(Ae.getSelectedElement())});const Be=et=>this._createToolbarComponent(et);K.ui.componentFactory.add("insertImage",Be),K.ui.componentFactory.add("imageInsert",Be)}registerIntegration({name:K,observable:Ae,buttonViewCreator:Ue,formViewCreator:Be,requiresForm:et}){this._integrations.has(K)&&(0,l.logWarning)("image-insert-integration-exists",{name:K}),this._integrations.set(K,{observable:Ae,buttonViewCreator:Ue,formViewCreator:Be,requiresForm:!!et})}_createToolbarComponent(K){const Ae=this.editor,Ue=K.t,Be=this._prepareIntegrations();if(!Be.length)return null;let et;const Xe=Be[0];if(Be.length==1){if(!Xe.requiresForm)return Xe.buttonViewCreator(!0);et=Xe.buttonViewCreator(!0)}else{const St=Xe.buttonViewCreator(!1);et=new f.SplitButtonView(K,St),et.tooltip=!0,et.bind("label").to(this,"isImageSelected",zt=>Ue(zt?"Replace image":"Insert image"))}const It=this.dropdownView=(0,f.createDropdown)(K,et),vt=Be.map(({observable:St})=>St);return It.bind("isEnabled").toMany(vt,"isEnabled",(...St)=>St.some(zt=>zt)),It.once("change:isOpen",()=>{const St=Be.map(({formViewCreator:Wt})=>Wt(Be.length==1)),zt=new Ve(Ae.locale,St);It.panelView.children.add(zt)}),It}_prepareIntegrations(){const K=this.editor.config.get("image.insert.integrations"),Ae=[];if(!K.length)return(0,l.logWarning)("image-insert-integrations-not-specified"),Ae;for(const Ue of K)this._integrations.has(Ue)?Ae.push(this._integrations.get(Ue)):["upload","assetManager","url"].includes(Ue)||(0,l.logWarning)("image-insert-unknown-integration",{item:Ue});return Ae.length||(0,l.logWarning)("image-insert-integrations-not-registered"),Ae}}var xe=J(417),Oe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(xe.Z,Oe),xe.Z.locals;class Je extends m.Plugin{static get requires(){return[bt,c.Widget,$,Q]}static get pluginName(){return"ImageBlock"}}class Ze extends m.Plugin{static get requires(){return[De,mt,Y,_t,M.ClipboardPipeline]}static get pluginName(){return"ImageInlineEditing"}init(){const K=this.editor,Ae=K.model.schema;Ae.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),Ae.addChildCheck((Ue,Be)=>{if(Ue.endsWith("caption")&&Be.name==="imageInline")return!1}),this._setupConversion(),K.plugins.has("ImageBlockEditing")&&(K.commands.add("imageTypeInline",new lt(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const K=this.editor,Ae=K.t,Ue=K.conversion,Be=K.plugins.get("ImageUtils");Ue.for("dataDowncast").elementToElement({model:"imageInline",view:(et,{writer:Xe})=>Xe.createEmptyElement("img")}),Ue.for("editingDowncast").elementToStructure({model:"imageInline",view:(et,{writer:Xe})=>Be.toImageWidget(function(It){return It.createContainerElement("span",{class:"image-inline"},It.createEmptyElement("img"))}(Xe),Xe,Ae("image widget"))}),Ue.for("downcast").add(re(Be,"imageInline","src")).add(re(Be,"imageInline","alt")).add(D(Be,"imageInline")),Ue.for("upcast").elementToElement({view:B(K,"imageInline"),model:(et,{writer:Xe})=>Xe.createElement("imageInline",et.hasAttribute("src")?{src:et.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const K=this.editor,Ae=K.model,Ue=K.editing.view,Be=K.plugins.get("ImageUtils"),et=K.plugins.get("ClipboardPipeline");this.listenTo(et,"inputTransformation",(Xe,It)=>{const vt=Array.from(It.content.getChildren());let St;if(!vt.every(Be.isBlockImageView))return;St=It.targetRanges?K.editing.mapper.toModelRange(It.targetRanges[0]):Ae.document.selection.getFirstRange();const zt=Ae.createSelection(St);if(x(Ae.schema,zt)==="imageInline"){const Wt=new S.UpcastWriter(Ue.document),mi=vt.map(ai=>ai.childCount===1?(Array.from(ai.getAttributes()).forEach(gi=>Wt.setAttribute(...gi,Be.findViewImgElement(ai))),ai.getChild(0)):ai);It.content=Wt.createDocumentFragment(mi)}}),this.listenTo(et,"contentInsertion",(Xe,It)=>{It.method==="paste"&&Ae.change(vt=>{const St=vt.createRangeIn(It.content);for(const zt of St.getItems())zt.is("element","imageInline")&&Be.setImageNaturalSizeAttributes(zt)})})}}class tt extends m.Plugin{static get requires(){return[Ze,c.Widget,$,Q]}static get pluginName(){return"ImageInline"}}class st extends m.Plugin{static get requires(){return[Je,tt]}static get pluginName(){return"Image"}}class Lt extends m.Plugin{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Y]}getCaptionFromImageModelElement(K){for(const Ae of K.getChildren())if(Ae&&Ae.is("element","caption"))return Ae;return null}getCaptionFromModelSelection(K){const Ae=this.editor.plugins.get("ImageUtils"),Ue=K.getFirstPosition().findAncestor("caption");return Ue&&Ae.isBlockImage(Ue.parent)?Ue:null}matchImageCaptionViewElement(K){const Ae=this.editor.plugins.get("ImageUtils");return K.name=="figcaption"&&Ae.isBlockImageView(K.parent)?{name:!0}:null}}class Ft extends m.Command{refresh(){const K=this.editor,Ae=K.plugins.get("ImageCaptionUtils"),Ue=K.plugins.get("ImageUtils");if(!K.plugins.has(bt))return this.isEnabled=!1,void(this.value=!1);const Be=K.model.document.selection,et=Be.getSelectedElement();if(!et){const Xe=Ae.getCaptionFromModelSelection(Be);return this.isEnabled=!!Xe,void(this.value=!!Xe)}this.isEnabled=Ue.isImage(et),this.isEnabled?this.value=!!Ae.getCaptionFromImageModelElement(et):this.value=!1}execute(K={}){const{focusCaptionOnShow:Ae}=K;this.editor.model.change(Ue=>{this.value?this._hideImageCaption(Ue):this._showImageCaption(Ue,Ae)})}_showImageCaption(K,Ae){const Ue=this.editor.model.document.selection,Be=this.editor.plugins.get("ImageCaptionEditing"),et=this.editor.plugins.get("ImageUtils");let Xe=Ue.getSelectedElement();const It=Be._getSavedCaption(Xe);et.isInlineImage(Xe)&&(this.editor.execute("imageTypeBlock"),Xe=Ue.getSelectedElement());const vt=It||K.createElement("caption");K.append(vt,Xe),Ae&&K.setSelection(vt,"in")}_hideImageCaption(K){const Ae=this.editor,Ue=Ae.model.document.selection,Be=Ae.plugins.get("ImageCaptionEditing"),et=Ae.plugins.get("ImageCaptionUtils");let Xe,It=Ue.getSelectedElement();It?Xe=et.getCaptionFromImageModelElement(It):(Xe=et.getCaptionFromModelSelection(Ue),It=Xe.parent),Be._saveCaption(It,Xe),K.setSelection(It,"on"),K.remove(Xe)}}class Yt extends m.Plugin{static get requires(){return[Y,Lt]}static get pluginName(){return"ImageCaptionEditing"}constructor(K){super(K),this._savedCaptionsMap=new WeakMap}init(){const K=this.editor,Ae=K.model.schema;Ae.isRegistered("caption")?Ae.extend("caption",{allowIn:"imageBlock"}):Ae.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),K.commands.add("toggleImageCaption",new Ft(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const K=this.editor,Ae=K.editing.view,Ue=K.plugins.get("ImageUtils"),Be=K.plugins.get("ImageCaptionUtils"),et=K.t;K.conversion.for("upcast").elementToElement({view:Xe=>Be.matchImageCaptionViewElement(Xe),model:"caption"}),K.conversion.for("dataDowncast").elementToElement({model:"caption",view:(Xe,{writer:It})=>Ue.isBlockImage(Xe.parent)?It.createContainerElement("figcaption"):null}),K.conversion.for("editingDowncast").elementToElement({model:"caption",view:(Xe,{writer:It})=>{if(!Ue.isBlockImage(Xe.parent))return null;const vt=It.createEditableElement("figcaption");It.setCustomProperty("imageCaption",!0,vt),vt.placeholder=et("Enter image caption"),(0,S.enablePlaceholder)({view:Ae,element:vt,keepOnFocus:!0});const St=Xe.parent.getAttribute("alt"),zt=St?et("Caption for image: %0",[St]):et("Caption for the image");return(0,c.toWidgetEditable)(vt,It,{label:zt})}})}_setupImageTypeCommandsIntegration(){const K=this.editor,Ae=K.plugins.get("ImageUtils"),Ue=K.plugins.get("ImageCaptionUtils"),Be=K.commands.get("imageTypeInline"),et=K.commands.get("imageTypeBlock"),Xe=It=>{if(!It.return)return;const{oldElement:vt,newElement:St}=It.return;if(!vt)return;if(Ae.isBlockImage(vt)){const Wt=Ue.getCaptionFromImageModelElement(vt);if(Wt)return void this._saveCaption(St,Wt)}const zt=this._getSavedCaption(vt);zt&&this._saveCaption(St,zt)};Be&&this.listenTo(Be,"execute",Xe,{priority:"low"}),et&&this.listenTo(et,"execute",Xe,{priority:"low"})}_getSavedCaption(K){const Ae=this._savedCaptionsMap.get(K);return Ae?S.Element.fromJSON(Ae):null}_saveCaption(K,Ae){this._savedCaptionsMap.set(K,Ae.toJSON())}_registerCaptionReconversion(){const K=this.editor,Ae=K.model,Ue=K.plugins.get("ImageUtils"),Be=K.plugins.get("ImageCaptionUtils");Ae.document.on("change:data",()=>{const et=Ae.document.differ.getChanges();for(const Xe of et){if(Xe.attributeKey!=="alt")continue;const It=Xe.range.start.nodeAfter;if(Ue.isBlockImage(It)){const vt=Be.getCaptionFromImageModelElement(It);if(!vt)return;K.editing.reconvertItem(vt)}}})}}class ui extends m.Plugin{static get requires(){return[Lt]}static get pluginName(){return"ImageCaptionUI"}init(){const K=this.editor,Ae=K.editing.view,Ue=K.plugins.get("ImageCaptionUtils"),Be=K.t;K.ui.componentFactory.add("toggleImageCaption",et=>{const Xe=K.commands.get("toggleImageCaption"),It=new f.ButtonView(et);return It.set({icon:m.icons.caption,tooltip:!0,isToggleable:!0}),It.bind("isOn","isEnabled").to(Xe,"value","isEnabled"),It.bind("label").to(Xe,"value",vt=>Be(vt?"Toggle caption off":"Toggle caption on")),this.listenTo(It,"execute",()=>{K.execute("toggleImageCaption",{focusCaptionOnShow:!0});const vt=Ue.getCaptionFromModelSelection(K.model.document.selection);if(vt){const St=K.editing.mapper.toViewElement(vt);Ae.scrollToTheSelection(),Ae.change(zt=>{zt.addClass("image__caption_highlighted",St)})}K.editing.view.focus()}),It})}}var Nt=J(86),ti={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(Nt.Z,ti),Nt.Z.locals;class hi extends m.Plugin{static get requires(){return[Yt,ui]}static get pluginName(){return"ImageCaption"}}var Ci=J(448);function Oi(Ht){const K=Ht.map(Ae=>Ae.replace("+","\\+"));return new RegExp(`^image\\/(${K.join("|")})$`)}function Di(Ht){return new Promise((K,Ae)=>{const Ue=Ht.getAttribute("src");fetch(Ue).then(Be=>Be.blob()).then(Be=>{const et=Vi(Be,Ue),Xe=et.replace("image/",""),It=new File([Be],`image.${Xe}`,{type:et});K(It)}).catch(Be=>Be&&Be.name==="TypeError"?function(et){return function(Xe){return new Promise((It,vt)=>{const St=l.global.document.createElement("img");St.addEventListener("load",()=>{const zt=l.global.document.createElement("canvas");zt.width=St.width,zt.height=St.height,zt.getContext("2d").drawImage(St,0,0),zt.toBlob(Wt=>Wt?It(Wt):vt())}),St.addEventListener("error",()=>vt()),St.src=Xe})}(et).then(Xe=>{const It=Vi(Xe,et),vt=It.replace("image/","");return new File([Xe],`image.${vt}`,{type:It})})}(Ue).then(K).catch(Ae):Ae(Be))})}function Vi(Ht,K){return Ht.type?Ht.type:K.match(/data:(image\/\w+);base64/)?K.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Pi extends m.Plugin{static get pluginName(){return"ImageUploadUI"}init(){const K=this.editor,Ae=K.t,Ue=Be=>{const et=new Ci.FileDialogButtonView(Be),Xe=K.commands.get("uploadImage"),It=K.config.get("image.upload.types"),vt=Oi(It);return et.set({acceptedType:It.map(St=>`image/${St}`).join(","),allowMultipleFiles:!0,label:Ae("Upload image from computer"),icon:m.icons.imageUpload,tooltip:!0}),et.bind("isEnabled").to(Xe),et.on("done",(St,zt)=>{const Wt=Array.from(zt).filter(mi=>vt.test(mi.type));Wt.length&&(K.execute("uploadImage",{file:Wt}),K.editing.view.focus())}),et};if(K.ui.componentFactory.add("uploadImage",Ue),K.ui.componentFactory.add("imageUpload",Ue),K.plugins.has("ImageInsertUI")){const Be=K.plugins.get("ImageInsertUI"),et=K.commands.get("uploadImage");Be.registerIntegration({name:"upload",observable:et,buttonViewCreator:()=>{const Xe=K.ui.componentFactory.create("uploadImage");return Xe.bind("label").to(Be,"isImageSelected",It=>Ae(It?"Replace image from computer":"Upload image from computer")),Xe},formViewCreator:()=>{const Xe=K.ui.componentFactory.create("uploadImage");return Xe.withText=!0,Xe.bind("label").to(Be,"isImageSelected",It=>Ae(It?"Replace from computer":"Upload from computer")),Xe.on("execute",()=>{Be.dropdownView.isOpen=!1}),Xe}})}}}var $i=J(283),at={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()($i.Z,at),$i.Z.locals;var ue=J(651),ye={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(ue.Z,ye),ue.Z.locals;var Le=J(582),Ge={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(Le.Z,Ge),Le.Z.locals;class rt extends m.Plugin{static get pluginName(){return"ImageUploadProgress"}constructor(K){super(K),this.uploadStatusChange=(Ae,Ue,Be)=>{const et=this.editor,Xe=Ue.item,It=Xe.getAttribute("uploadId");if(!Be.consumable.consume(Ue.item,Ae.name))return;const vt=et.plugins.get("ImageUtils"),St=et.plugins.get(Ci.FileRepository),zt=It?Ue.attributeNewValue:null,Wt=this.placeholder,mi=et.editing.mapper.toViewElement(Xe),ai=Be.writer;if(zt=="reading")return gt(mi,ai),void Ot(vt,Wt,mi,ai);if(zt=="uploading"){const gi=St.loaders.get(It);return gt(mi,ai),void(gi?(Mt(mi,ai),function(Ri,Qi,Pn,Mn){const Qn=function(Kn){const Rn=Kn.createUIElement("div",{class:"ck-progress-bar"});return Kn.setCustomProperty("progressBar",!0,Rn),Rn}(Qi);Qi.insert(Qi.createPositionAt(Ri,"end"),Qn),Pn.on("change:uploadedPercent",(Kn,Rn,mo)=>{Mn.change(xo=>{xo.setStyle("width",mo+"%",Qn)})})}(mi,ai,gi,et.editing.view),function(Ri,Qi,Pn,Mn){if(Mn.data){const Qn=Ri.findViewImgElement(Qi);Pn.setAttribute("src",Mn.data,Qn)}}(vt,mi,ai,gi)):Ot(vt,Wt,mi,ai))}zt=="complete"&&St.loaders.get(It)&&function(gi,Ri,Qi){const Pn=Ri.createUIElement("div",{class:"ck-image-upload-complete-icon"});Ri.insert(Ri.createPositionAt(gi,"end"),Pn),setTimeout(()=>{Qi.change(Mn=>Mn.remove(Mn.createRangeOn(Pn)))},3e3)}(mi,ai,et.editing.view),function(gi,Ri){ri(gi,Ri,"progressBar")}(mi,ai),Mt(mi,ai),function(gi,Ri){Ri.removeClass("ck-appear",gi)}(mi,ai)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const K=this.editor;K.plugins.has("ImageBlockEditing")&&K.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),K.plugins.has("ImageInlineEditing")&&K.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function gt(Ht,K){Ht.hasClass("ck-appear")||K.addClass("ck-appear",Ht)}function Ot(Ht,K,Ae,Ue){Ae.hasClass("ck-image-upload-placeholder")||Ue.addClass("ck-image-upload-placeholder",Ae);const Be=Ht.findViewImgElement(Ae);Be.getAttribute("src")!==K&&Ue.setAttribute("src",K,Be),Ut(Ae,"placeholder")||Ue.insert(Ue.createPositionAfter(Be),function(et){const Xe=et.createUIElement("div",{class:"ck-upload-placeholder-loader"});return et.setCustomProperty("placeholder",!0,Xe),Xe}(Ue))}function Mt(Ht,K){Ht.hasClass("ck-image-upload-placeholder")&&K.removeClass("ck-image-upload-placeholder",Ht),ri(Ht,K,"placeholder")}function Ut(Ht,K){for(const Ae of Ht.getChildren())if(Ae.getCustomProperty(K))return Ae}function ri(Ht,K,Ae){const Ue=Ut(Ht,Ae);Ue&&K.remove(K.createRangeOn(Ue))}class oi extends m.Command{refresh(){const K=this.editor,Ae=K.plugins.get("ImageUtils"),Ue=K.model.document.selection.getSelectedElement();this.isEnabled=Ae.isImageAllowed()||Ae.isImage(Ue)}execute(K){const Ae=(0,l.toArray)(K.file),Ue=this.editor.model.document.selection,Be=this.editor.plugins.get("ImageUtils"),et=Object.fromEntries(Ue.getAttributes());Ae.forEach((Xe,It)=>{const vt=Ue.getSelectedElement();if(It&&vt&&Be.isImage(vt)){const St=this.editor.model.createPositionAfter(vt);this._uploadImage(Xe,et,St)}else this._uploadImage(Xe,et)})}_uploadImage(K,Ae,Ue){const Be=this.editor,et=Be.plugins.get(Ci.FileRepository).createLoader(K),Xe=Be.plugins.get("ImageUtils");et&&Xe.insertImage({...Ae,uploadId:et.id},Ue)}}class wi extends m.Plugin{static get requires(){return[Ci.FileRepository,f.Notification,M.ClipboardPipeline,Y]}static get pluginName(){return"ImageUploadEditing"}constructor(K){super(K),K.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const K=this.editor,Ae=K.model.document,Ue=K.conversion,Be=K.plugins.get(Ci.FileRepository),et=K.plugins.get("ImageUtils"),Xe=K.plugins.get("ClipboardPipeline"),It=Oi(K.config.get("image.upload.types")),vt=new oi(K);K.commands.add("uploadImage",vt),K.commands.add("imageUpload",vt),Ue.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(K.editing.view.document,"clipboardInput",(St,zt)=>{if(Wt=zt.dataTransfer,Array.from(Wt.types).includes("text/html")&&Wt.getData("text/html")!=="")return;var Wt;const mi=Array.from(zt.dataTransfer.files).filter(ai=>!!ai&&It.test(ai.type));mi.length&&(St.stop(),K.model.change(ai=>{zt.targetRanges&&ai.setSelection(zt.targetRanges.map(gi=>K.editing.mapper.toModelRange(gi))),K.execute("uploadImage",{file:mi})}))}),this.listenTo(Xe,"inputTransformation",(St,zt)=>{const Wt=Array.from(K.editing.view.createRangeIn(zt.content)).map(ai=>ai.item).filter(ai=>function(gi,Ri){return!(!gi.isInlineImageView(Ri)||!Ri.getAttribute("src")||!Ri.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!Ri.getAttribute("src").match(/^blob:/g))}(et,ai)&&!ai.getAttribute("uploadProcessed")).map(ai=>({promise:Di(ai),imageElement:ai}));if(!Wt.length)return;const mi=new S.UpcastWriter(K.editing.view.document);for(const ai of Wt){mi.setAttribute("uploadProcessed",!0,ai.imageElement);const gi=Be.createLoader(ai.promise);gi&&(mi.setAttribute("src","",ai.imageElement),mi.setAttribute("uploadId",gi.id,ai.imageElement))}}),K.editing.view.document.on("dragover",(St,zt)=>{zt.preventDefault()}),Ae.on("change",()=>{const St=Ae.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),zt=new Set;for(const Wt of St)if(Wt.type=="insert"&&Wt.name!="$text"){const mi=Wt.position.nodeAfter,ai=Wt.position.root.rootName=="$graveyard";for(const gi of Ii(K,mi)){const Ri=gi.getAttribute("uploadId");if(!Ri)continue;const Qi=Be.loaders.get(Ri);Qi&&(ai?zt.has(Ri)||Qi.abort():(zt.add(Ri),this._uploadImageElements.set(Ri,gi),Qi.status=="idle"&&this._readAndUpload(Qi)))}}}),this.on("uploadComplete",(St,{imageElement:zt,data:Wt})=>{const mi=Wt.urls?Wt.urls:Wt;this.editor.model.change(ai=>{ai.setAttribute("src",mi.default,zt),this._parseAndSetSrcsetAttributeOnImage(mi,zt,ai),et.setImageNaturalSizeAttributes(zt)})},{priority:"low"})}afterInit(){const K=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&K.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&K.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(K){const Ae=this.editor,Ue=Ae.model,Be=Ae.locale.t,et=Ae.plugins.get(Ci.FileRepository),Xe=Ae.plugins.get(f.Notification),It=Ae.plugins.get("ImageUtils"),vt=this._uploadImageElements;return Ue.enqueueChange({isUndoable:!1},zt=>{zt.setAttribute("uploadStatus","reading",vt.get(K.id))}),K.read().then(()=>{const zt=K.upload(),Wt=vt.get(K.id);if(l.env.isSafari){const mi=Ae.editing.mapper.toViewElement(Wt),ai=It.findViewImgElement(mi);Ae.editing.view.once("render",()=>{if(!ai.parent)return;const gi=Ae.editing.view.domConverter.mapViewToDom(ai.parent);if(!gi)return;const Ri=gi.style.display;gi.style.display="none",gi._ckHack=gi.offsetHeight,gi.style.display=Ri})}return Ue.enqueueChange({isUndoable:!1},mi=>{mi.setAttribute("uploadStatus","uploading",Wt)}),zt}).then(zt=>{Ue.enqueueChange({isUndoable:!1},Wt=>{const mi=vt.get(K.id);Wt.setAttribute("uploadStatus","complete",mi),this.fire("uploadComplete",{data:zt,imageElement:mi})}),St()}).catch(zt=>{if(K.status!=="error"&&K.status!=="aborted")throw zt;K.status=="error"&&zt&&Xe.showWarning(zt,{title:Be("Upload failed"),namespace:"upload"}),Ue.enqueueChange({isUndoable:!1},Wt=>{Wt.remove(vt.get(K.id))}),St()});function St(){Ue.enqueueChange({isUndoable:!1},zt=>{const Wt=vt.get(K.id);zt.removeAttribute("uploadId",Wt),zt.removeAttribute("uploadStatus",Wt),vt.delete(K.id)}),et.destroyLoader(K)}}_parseAndSetSrcsetAttributeOnImage(K,Ae,Ue){let Be=0;const et=Object.keys(K).filter(Xe=>{const It=parseInt(Xe,10);if(!isNaN(It))return Be=Math.max(Be,It),!0}).map(Xe=>`${K[Xe]} ${Xe}w`).join(", ");if(et!=""){const Xe={srcset:et};Ae.hasAttribute("width")||Ae.hasAttribute("height")||(Xe.width=Be),Ue.setAttributes(Xe,Ae)}}}function Ii(Ht,K){const Ae=Ht.plugins.get("ImageUtils");return Array.from(Ht.model.createRangeOn(K)).filter(Ue=>Ae.isImage(Ue.item)).map(Ue=>Ue.item)}class Li extends m.Plugin{static get pluginName(){return"ImageUpload"}static get requires(){return[wi,Pi,rt]}}class yi extends f.View{constructor(K){super(K),this.set("imageURLInputValue",""),this.set("isImageSelected",!1),this.set("isEnabled",!0),this.focusTracker=new l.FocusTracker,this.keystrokes=new l.KeystrokeHandler,this._focusables=new f.ViewCollection,this.focusCycler=new f.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.urlInputView=this._createUrlInputView(),this.insertButtonView=this._createInsertButton(),this.cancelButtonView=this._createCancelButton(),this._focusables.addMany([this.urlInputView,this.insertButtonView,this.cancelButtonView]),this.setTemplate({tag:"div",attributes:{class:["ck","ck-image-insert-url"]},children:[this.urlInputView,{tag:"div",attributes:{class:["ck","ck-image-insert-url__action-row"]},children:[this.insertButtonView,this.cancelButtonView]}]})}render(){super.render();for(const K of this._focusables)this.focusTracker.add(K.element);this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createUrlInputView(){const K=this.locale,Ae=K.t,Ue=new f.LabeledFieldView(K,f.createLabeledInputText);return Ue.bind("label").to(this,"isImageSelected",Be=>Ae(Be?"Update image URL":"Insert image via URL")),Ue.bind("isEnabled").to(this),Ue.fieldView.placeholder="https://example.com/image.png",Ue.fieldView.bind("value").to(this,"imageURLInputValue",Be=>Be||""),Ue.fieldView.on("input",()=>{this.imageURLInputValue=Ue.fieldView.element.value.trim()}),Ue}_createInsertButton(){const K=this.locale,Ae=K.t,Ue=new f.ButtonView(K);return Ue.set({icon:m.icons.check,class:"ck-button-save",type:"submit",withText:!0}),Ue.bind("label").to(this,"isImageSelected",Be=>Ae(Be?"Update":"Insert")),Ue.bind("isEnabled").to(this,"imageURLInputValue",this,"isEnabled",(...Be)=>Be.every(et=>et)),Ue.delegate("execute").to(this,"submit"),Ue}_createCancelButton(){const K=this.locale,Ae=K.t,Ue=new f.ButtonView(K);return Ue.set({label:Ae("Cancel"),icon:m.icons.cancel,class:"ck-button-cancel",withText:!0}),Ue.bind("isEnabled").to(this),Ue.delegate("execute").to(this,"cancel"),Ue}focus(K){K===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}}class ji extends m.Plugin{static get pluginName(){return"ImageInsertViaUrlUI"}static get requires(){return[Q]}init(){this._imageInsertUI=this.editor.plugins.get("ImageInsertUI");const K=this.editor.commands.get("insertImage");this._imageInsertUI.registerIntegration({name:"url",observable:K,requiresForm:!0,buttonViewCreator:Ae=>this._createInsertUrlButton(Ae),formViewCreator:Ae=>this._createInsertUrlView(Ae)})}_createInsertUrlView(K){const Ae=this.editor,Ue=Ae.locale,Be=Ue.t,et=Ae.commands.get("replaceImageSource"),Xe=Ae.commands.get("insertImage"),It=new yi(Ue),vt=K?null:new f.CollapsibleView(Ue,[It]);return It.bind("isImageSelected").to(this._imageInsertUI),It.bind("isEnabled").toMany([Xe,et],"isEnabled",(...St)=>St.some(zt=>zt)),It.imageURLInputValue=et.value||"",this._imageInsertUI.dropdownView.on("change:isOpen",()=>{this._imageInsertUI.dropdownView.isOpen&&(It.imageURLInputValue=et.value||"",vt&&(vt.isCollapsed=!0))},{priority:"low"}),It.on("submit",()=>{et.isEnabled?Ae.execute("replaceImageSource",{source:It.imageURLInputValue}):Ae.execute("insertImage",{source:It.imageURLInputValue}),this._closePanel()}),It.on("cancel",()=>this._closePanel()),vt?(vt.set({isCollapsed:!0}),vt.bind("label").to(this._imageInsertUI,"isImageSelected",St=>Be(St?"Update image URL":"Insert image via URL")),vt):It}_createInsertUrlButton(K){const Ae=K?f.DropdownButtonView:f.ButtonView,Ue=this.editor,Be=new Ae(Ue.locale),et=Ue.locale.t;return Be.set({icon:m.icons.imageUrl,tooltip:!0}),Be.bind("label").to(this._imageInsertUI,"isImageSelected",Xe=>et(Xe?"Update image URL":"Insert image via URL")),Be}_closePanel(){this.editor.editing.view.focus(),this._imageInsertUI.dropdownView.isOpen=!1}}class Ki extends m.Plugin{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[ji,Q]}}class Mi extends m.Plugin{static get pluginName(){return"ImageInsert"}static get requires(){return[Li,Ki,Q]}}class tn extends m.Command{refresh(){const K=this.editor,Ae=K.plugins.get("ImageUtils").getClosestSelectedImageElement(K.model.document.selection);this.isEnabled=!!Ae,Ae&&Ae.hasAttribute("resizedWidth")?this.value={width:Ae.getAttribute("resizedWidth"),height:null}:this.value=null}execute(K){const Ae=this.editor,Ue=Ae.model,Be=Ae.plugins.get("ImageUtils"),et=Be.getClosestSelectedImageElement(Ue.document.selection);this.value={width:K.width,height:null},et&&Ue.change(Xe=>{Xe.setAttribute("resizedWidth",K.width,et),Xe.removeAttribute("resizedHeight",et),Be.setImageNaturalSizeAttributes(et)})}}class $t extends m.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImageResizeEditing"}constructor(K){super(K),K.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const K=this.editor,Ae=new tn(K);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),K.commands.add("resizeImage",Ae),K.commands.add("imageResize",Ae)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(K){const Ae=this.editor,Ue=Ae.plugins.get("ImageUtils");Ae.conversion.for("downcast").add(Be=>Be.on(`attribute:resizedWidth:${K}`,(et,Xe,It)=>{if(!It.consumable.consume(Xe.item,et.name))return;const vt=It.writer,St=It.mapper.toViewElement(Xe.item);Xe.attributeNewValue!==null?(vt.setStyle("width",Xe.attributeNewValue,St),vt.addClass("image_resized",St)):(vt.removeStyle("width",St),vt.removeClass("image_resized",St))})),Ae.conversion.for("dataDowncast").attributeToAttribute({model:{name:K,key:"resizedHeight"},view:Be=>({key:"style",value:{height:Be}})}),Ae.conversion.for("editingDowncast").add(Be=>Be.on(`attribute:resizedHeight:${K}`,(et,Xe,It)=>{if(!It.consumable.consume(Xe.item,et.name))return;const vt=It.writer,St=It.mapper.toViewElement(Xe.item),zt=K==="imageInline"?Ue.findViewImgElement(St):St;Xe.attributeNewValue!==null?vt.setStyle("height",Xe.attributeNewValue,zt):vt.removeStyle("height",zt)})),Ae.conversion.for("upcast").attributeToAttribute({view:{name:K==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:Be=>j(Be)?null:Be.getStyle("width")}}),Ae.conversion.for("upcast").attributeToAttribute({view:{name:K==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:Be=>j(Be)?null:Be.getStyle("height")}})}}const wn={small:m.icons.objectSizeSmall,medium:m.icons.objectSizeMedium,large:m.icons.objectSizeLarge,original:m.icons.objectSizeFull};class Ne extends m.Plugin{static get requires(){return[$t]}static get pluginName(){return"ImageResizeButtons"}constructor(K){super(K),this._resizeUnit=K.config.get("image.resizeUnit")}init(){const K=this.editor,Ae=K.config.get("image.resizeOptions"),Ue=K.commands.get("resizeImage");this.bind("isEnabled").to(Ue);for(const Be of Ae)this._registerImageResizeButton(Be);this._registerImageResizeDropdown(Ae)}_registerImageResizeButton(K){const Ae=this.editor,{name:Ue,value:Be,icon:et}=K,Xe=Be?Be+this._resizeUnit:null;Ae.ui.componentFactory.add(Ue,It=>{const vt=new f.ButtonView(It),St=Ae.commands.get("resizeImage"),zt=this._getOptionLabelValue(K,!0);if(!wn[et])throw new l.CKEditorError("imageresizebuttons-missing-icon",Ae,K);return vt.set({label:zt,icon:wn[et],tooltip:zt,isToggleable:!0}),vt.bind("isEnabled").to(this),vt.bind("isOn").to(St,"value",H(Xe)),this.listenTo(vt,"execute",()=>{Ae.execute("resizeImage",{width:Xe})}),vt})}_registerImageResizeDropdown(K){const Ae=this.editor,Ue=Ae.t,Be=K.find(Xe=>!Xe.value),et=Xe=>{const It=Ae.commands.get("resizeImage"),vt=(0,f.createDropdown)(Xe,f.DropdownButtonView),St=vt.buttonView,zt=Ue("Resize image");return St.set({tooltip:zt,commandValue:Be.value,icon:wn.medium,isToggleable:!0,label:this._getOptionLabelValue(Be),withText:!0,class:"ck-resize-image-button",ariaLabel:zt,ariaLabelledBy:void 0}),St.bind("label").to(It,"value",Wt=>Wt&&Wt.width?Wt.width:this._getOptionLabelValue(Be)),vt.bind("isEnabled").to(this),(0,f.addListToDropdown)(vt,()=>this._getResizeDropdownListItemDefinitions(K,It),{ariaLabel:Ue("Image resize list"),role:"menu"}),this.listenTo(vt,"execute",Wt=>{Ae.execute(Wt.source.commandName,{width:Wt.source.commandValue}),Ae.editing.view.focus()}),vt};Ae.ui.componentFactory.add("resizeImage",et),Ae.ui.componentFactory.add("imageResize",et)}_getOptionLabelValue(K,Ae=!1){const Ue=this.editor.t;return K.label?K.label:Ae?K.value?Ue("Resize image to %0",K.value+this._resizeUnit):Ue("Resize image to the original size"):K.value?K.value+this._resizeUnit:Ue("Original")}_getResizeDropdownListItemDefinitions(K,Ae){const Ue=new l.Collection;return K.map(Be=>{const et=Be.value?Be.value+this._resizeUnit:null,Xe={type:"button",model:new f.Model({commandName:"resizeImage",commandValue:et,label:this._getOptionLabelValue(Be),role:"menuitemradio",withText:!0,icon:null})};Xe.model.bind("isOn").to(Ae,"value",H(et)),Ue.add(Xe)}),Ue}}function H(Ht){return K=>Ht===null&&K===Ht||K!==null&&K.width===Ht}const ee="image_resized";class se extends m.Plugin{static get requires(){return[c.WidgetResize,Y]}static get pluginName(){return"ImageResizeHandles"}init(){const K=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(K),this._setupResizerCreator()}_setupResizerCreator(){const K=this.editor,Ae=K.editing.view,Ue=K.plugins.get("ImageUtils");Ae.addObserver(Ee),this.listenTo(Ae.document,"imageLoaded",(Be,et)=>{if(!et.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const Xe=K.editing.view.domConverter,It=Xe.domToView(et.target),vt=Ue.getImageWidgetFromImageView(It);let St=this.editor.plugins.get(c.WidgetResize).getResizerByViewElement(vt);if(St)return void St.redraw();const zt=K.editing.mapper,Wt=zt.toModelElement(vt);St=K.plugins.get(c.WidgetResize).attachTo({unit:K.config.get("image.resizeUnit"),modelElement:Wt,viewElement:vt,editor:K,getHandleHost:mi=>mi.querySelector("img"),getResizeHost:()=>Xe.mapViewToDom(zt.toViewElement(Wt.parent)),isCentered(){const mi=Wt.getAttribute("imageStyle");return!mi||mi=="block"||mi=="alignCenter"},onCommit(mi){Ae.change(ai=>{ai.removeClass(ee,vt)}),K.execute("resizeImage",{width:mi})}}),St.on("updateSize",()=>{vt.hasClass(ee)||Ae.change(ai=>{ai.addClass(ee,vt)});const mi=Wt.name==="imageInline"?It:vt;mi.getStyle("height")&&Ae.change(ai=>{ai.removeStyle("height",mi)})}),St.bind("isEnabled").to(this)})}}var be=J(968),ht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(be.Z,ht),be.Z.locals;class jt extends m.Plugin{static get requires(){return[$t,se,Ne]}static get pluginName(){return"ImageResize"}}class Qt extends m.Command{constructor(K,Ae){super(K),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(Ae.map(Ue=>{if(Ue.isDefault)for(const Be of Ue.modelElements)this._defaultStyles[Be]=Ue.name;return[Ue.name,Ue]}))}refresh(){const K=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!K,this.isEnabled?K.hasAttribute("imageStyle")?this.value=K.getAttribute("imageStyle"):this.value=this._defaultStyles[K.name]:this.value=!1}execute(K={}){const Ae=this.editor,Ue=Ae.model,Be=Ae.plugins.get("ImageUtils");Ue.change(et=>{const Xe=K.value,{setImageSizes:It=!0}=K;let vt=Be.getClosestSelectedImageElement(Ue.document.selection);Xe&&this.shouldConvertImageType(Xe,vt)&&(this.editor.execute(Be.isBlockImage(vt)?"imageTypeInline":"imageTypeBlock",{setImageSizes:It}),vt=Be.getClosestSelectedImageElement(Ue.document.selection)),!Xe||this._styles.get(Xe).isDefault?et.removeAttribute("imageStyle",vt):et.setAttribute("imageStyle",Xe,vt),It&&Be.setImageNaturalSizeAttributes(vt)})}shouldConvertImageType(K,Ae){return!this._styles.get(K).modelElements.includes(Ae.name)}}const{objectFullWidth:yt,objectInline:Ce,objectLeft:ze,objectRight:nt,objectCenter:Ke,objectBlockLeft:xt,objectBlockRight:si}=m.icons,ni={get inline(){return{name:"inline",title:"In line",icon:Ce,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:ze,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:xt,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Ke,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:nt,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:si,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Ke,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:nt,modelElements:["imageBlock"],className:"image-style-side"}}},ki={full:yt,left:xt,right:si,center:Ke,inlineLeft:ze,inlineRight:nt,inline:Ce},di=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function Ti(Ht){(0,l.logWarning)("image-style-configuration-definition-invalid",Ht)}const Ni={normalizeStyles:function(Ht){return(Ht.configuredStyles.options||[]).map(K=>function(Ae){return Ae=typeof Ae=="string"?ni[Ae]?{...ni[Ae]}:{name:Ae}:function(Ue,Be){const et={...Be};for(const Xe in Ue)Object.prototype.hasOwnProperty.call(Be,Xe)||(et[Xe]=Ue[Xe]);return et}(ni[Ae.name],Ae),typeof Ae.icon=="string"&&(Ae.icon=ki[Ae.icon]||Ae.icon),Ae}(K)).filter(K=>function(Ae,{isBlockPluginLoaded:Ue,isInlinePluginLoaded:Be}){const{modelElements:et,name:Xe}=Ae;if(!(et&&et.length&&Xe))return Ti({style:Ae}),!1;{const It=[Ue?"imageBlock":null,Be?"imageInline":null];if(!et.some(vt=>It.includes(vt)))return(0,l.logWarning)("image-style-missing-dependency",{style:Ae,missingPlugins:et.map(vt=>vt==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(K,Ht))},getDefaultStylesConfiguration:function(Ht,K){return Ht&&K?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:Ht?{options:["block","side"]}:K?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(Ht){return Ht.has("ImageBlockEditing")&&Ht.has("ImageInlineEditing")?[...di]:[]},warnInvalidStyle:Ti,DEFAULT_OPTIONS:ni,DEFAULT_ICONS:ki,DEFAULT_DROPDOWN_DEFINITIONS:di};function Gi(Ht,K){for(const Ae of K)if(Ae.name===Ht)return Ae}class on extends m.Plugin{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Y]}init(){const{normalizeStyles:K,getDefaultStylesConfiguration:Ae}=Ni,Ue=this.editor,Be=Ue.plugins.has("ImageBlockEditing"),et=Ue.plugins.has("ImageInlineEditing");Ue.config.define("image.styles",Ae(Be,et)),this.normalizedStyles=K({configuredStyles:Ue.config.get("image.styles"),isBlockPluginLoaded:Be,isInlinePluginLoaded:et}),this._setupConversion(Be,et),this._setupPostFixer(),Ue.commands.add("imageStyle",new Qt(Ue,this.normalizedStyles))}_setupConversion(K,Ae){const Ue=this.editor,Be=Ue.model.schema,et=(Xe=this.normalizedStyles,(vt,St,zt)=>{if(!zt.consumable.consume(St.item,vt.name))return;const Wt=Gi(St.attributeNewValue,Xe),mi=Gi(St.attributeOldValue,Xe),ai=zt.mapper.toViewElement(St.item),gi=zt.writer;mi&&gi.removeClass(mi.className,ai),Wt&&gi.addClass(Wt.className,ai)});var Xe;const It=function(vt){const St={imageInline:vt.filter(zt=>!zt.isDefault&&zt.modelElements.includes("imageInline")),imageBlock:vt.filter(zt=>!zt.isDefault&&zt.modelElements.includes("imageBlock"))};return(zt,Wt,mi)=>{if(!Wt.modelRange)return;const ai=Wt.viewItem,gi=(0,l.first)(Wt.modelRange.getItems());if(gi&&mi.schema.checkAttribute(gi,"imageStyle"))for(const Ri of St[gi.name])mi.consumable.consume(ai,{classes:Ri.className})&&mi.writer.setAttribute("imageStyle",Ri.name,gi)}}(this.normalizedStyles);Ue.editing.downcastDispatcher.on("attribute:imageStyle",et),Ue.data.downcastDispatcher.on("attribute:imageStyle",et),K&&(Be.extend("imageBlock",{allowAttributes:"imageStyle"}),Ue.data.upcastDispatcher.on("element:figure",It,{priority:"low"})),Ae&&(Be.extend("imageInline",{allowAttributes:"imageStyle"}),Ue.data.upcastDispatcher.on("element:img",It,{priority:"low"}))}_setupPostFixer(){const K=this.editor,Ae=K.model.document,Ue=K.plugins.get(Y),Be=new Map(this.normalizedStyles.map(et=>[et.name,et]));Ae.registerPostFixer(et=>{let Xe=!1;for(const It of Ae.differ.getChanges())if(It.type=="insert"||It.type=="attribute"&&It.attributeKey=="imageStyle"){let vt=It.type=="insert"?It.position.nodeAfter:It.range.start.nodeAfter;if(vt&&vt.is("element","paragraph")&&vt.childCount>0&&(vt=vt.getChild(0)),!Ue.isImage(vt))continue;const St=vt.getAttribute("imageStyle");if(!St)continue;const zt=Be.get(St);zt&&zt.modelElements.includes(vt.name)||(et.removeAttribute("imageStyle",vt),Xe=!0)}return Xe})}}const Zi=function(Ht){var K=typeof Ht;return Ht!=null&&(K=="object"||K=="function")},hn=function(Ht){return Ht};var kn=J(151),qn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(kn.Z,qn),kn.Z.locals;class rn extends m.Plugin{static get requires(){return[on]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const K=this.editor.t;return{"Wrap text":K("Wrap text"),"Break text":K("Break text"),"In line":K("In line"),"Full size image":K("Full size image"),"Side image":K("Side image"),"Left aligned image":K("Left aligned image"),"Centered image":K("Centered image"),"Right aligned image":K("Right aligned image")}}init(){const K=this.editor.plugins,Ae=this.editor.config.get("image.toolbar")||[],Ue=Sn(K.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const et of Ue)this._createButton(et);const Be=Sn([...Ae.filter(Zi),...Ni.getDefaultDropdownDefinitions(K)],this.localizedDefaultStylesTitles);for(const et of Be)this._createDropdown(et,Ue)}_createDropdown(K,Ae){const Ue=this.editor.ui.componentFactory;Ue.add(K.name,Be=>{let et;const{defaultItem:Xe,items:It,title:vt}=K,St=It.filter(ai=>Ae.find(({name:gi})=>In(gi)===ai)).map(ai=>{const gi=Ue.create(ai);return ai===Xe&&(et=gi),gi});It.length!==St.length&&Ni.warnInvalidStyle({dropdown:K});const zt=(0,f.createDropdown)(Be,f.SplitButtonView),Wt=zt.buttonView,mi=Wt.arrowView;return(0,f.addToolbarToDropdown)(zt,St,{enableActiveItemFocusOnDropdownOpen:!0}),Wt.set({label:Yn(vt,et.label),class:null,tooltip:!0}),mi.unbind("label"),mi.set({label:vt}),Wt.bind("icon").toMany(St,"isOn",(...ai)=>{const gi=ai.findIndex(hn);return gi<0?et.icon:St[gi].icon}),Wt.bind("label").toMany(St,"isOn",(...ai)=>{const gi=ai.findIndex(hn);return Yn(vt,gi<0?et.label:St[gi].label)}),Wt.bind("isOn").toMany(St,"isOn",(...ai)=>ai.some(hn)),Wt.bind("class").toMany(St,"isOn",(...ai)=>ai.some(hn)?"ck-splitbutton_flatten":void 0),Wt.on("execute",()=>{St.some(({isOn:ai})=>ai)?zt.isOpen=!zt.isOpen:et.fire("execute")}),zt.bind("isEnabled").toMany(St,"isEnabled",(...ai)=>ai.some(hn)),this.listenTo(zt,"execute",()=>{this.editor.editing.view.focus()}),zt})}_createButton(K){const Ae=K.name;this.editor.ui.componentFactory.add(In(Ae),Ue=>{const Be=this.editor.commands.get("imageStyle"),et=new f.ButtonView(Ue);return et.set({label:K.title,icon:K.icon,tooltip:!0,isToggleable:!0}),et.bind("isEnabled").to(Be,"isEnabled"),et.bind("isOn").to(Be,"value",Xe=>Xe===Ae),et.on("execute",this._executeCommand.bind(this,Ae)),et})}_executeCommand(K){this.editor.execute("imageStyle",{value:K}),this.editor.editing.view.focus()}}function Sn(Ht,K){for(const Ae of Ht)K[Ae.title]&&(Ae.title=K[Ae.title]);return Ht}function In(Ht){return`imageStyle:${Ht}`}function Yn(Ht,K){return(Ht?Ht+": ":"")+K}class ho extends m.Plugin{static get requires(){return[on,rn]}static get pluginName(){return"ImageStyle"}}class oo extends m.Plugin{static get requires(){return[c.WidgetToolbarRepository,Y]}static get pluginName(){return"ImageToolbar"}afterInit(){const K=this.editor,Ae=K.t,Ue=K.plugins.get(c.WidgetToolbarRepository),Be=K.plugins.get("ImageUtils");var et;Ue.register("image",{ariaLabel:Ae("Image toolbar"),items:(et=K.config.get("image.toolbar")||[],et.map(Xe=>Zi(Xe)?Xe.name:Xe)),getRelatedElement:Xe=>Be.getClosestSelectedImageWidget(Xe)})}}class ro extends m.Plugin{static get requires(){return[De,Y]}static get pluginName(){return"PictureEditing"}afterInit(){const K=this.editor;K.plugins.has("ImageBlockEditing")&&K.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),K.plugins.has("ImageInlineEditing")&&K.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const K=this.editor,Ae=K.conversion,Ue=K.plugins.get("ImageUtils");Ae.for("upcast").add(function(Be){const et=["srcset","media","type","sizes"],Xe=(It,vt,St)=>{const zt=vt.viewItem;if(!St.consumable.test(zt,{name:!0}))return;const Wt=new Map;for(const gi of zt.getChildren())if(gi.is("element","source")){const Ri={};for(const Qi of et)gi.hasAttribute(Qi)&&St.consumable.test(gi,{attributes:Qi})&&(Ri[Qi]=gi.getAttribute(Qi));Object.keys(Ri).length&&Wt.set(gi,Ri)}const mi=Be.findViewImgElement(zt);if(!mi)return;let ai=vt.modelCursor.parent;if(!ai.is("element","imageBlock")){const gi=St.convertItem(mi,vt.modelCursor);vt.modelRange=gi.modelRange,vt.modelCursor=gi.modelCursor,ai=(0,l.first)(gi.modelRange.getItems())}St.consumable.consume(zt,{name:!0});for(const[gi,Ri]of Wt)St.consumable.consume(gi,{attributes:Object.keys(Ri)});Wt.size&&St.writer.setAttribute("sources",Array.from(Wt.values()),ai),St.convertChildren(zt,ai)};return It=>{It.on("element:picture",Xe)}}(Ue)),Ae.for("downcast").add(function(Be){const et=(Xe,It,vt)=>{if(!vt.consumable.consume(It.item,Xe.name))return;const St=vt.writer,zt=vt.mapper.toViewElement(It.item),Wt=Be.findViewImgElement(zt),mi=It.attributeNewValue;if(mi&&mi.length){const ai=St.createContainerElement("picture",null,mi.map(Qi=>St.createEmptyElement("source",Qi))),gi=[];let Ri=Wt.parent;for(;Ri&&Ri.is("attributeElement");){const Qi=Ri.parent;St.unwrap(St.createRangeOn(Wt),Ri),gi.unshift(Ri),Ri=Qi}St.insert(St.createPositionBefore(Wt),ai),St.move(St.createRangeOn(Wt),St.createPositionAt(ai,"end"));for(const Qi of gi)St.wrap(St.createRangeOn(ai),Qi)}else if(Wt.parent.is("element","picture")){const ai=Wt.parent;St.move(St.createRangeOn(Wt),St.createPositionBefore(ai)),St.remove(ai)}};return Xe=>{Xe.on("attribute:sources:imageBlock",et),Xe.on("attribute:sources:imageInline",et)}}(Ue))}_setupImageUploadEditingIntegration(){const K=this.editor;if(!K.plugins.has("ImageUploadEditing"))return;const Ae=K.plugins.get("ImageUploadEditing");this.listenTo(Ae,"uploadComplete",(Ue,{imageElement:Be,data:et})=>{const Xe=et.sources;Xe&&K.model.change(It=>{It.setAttributes({sources:Xe},Be)})})}}})(),(window.CKEditor5=window.CKEditor5||{}).image=Et})()},54769:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{"Decrease indent":"Decrease indent","Increase indent":"Increase indent"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},492:(m,M,S)=>{m.exports=S(79)("./src/engine.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},209:(m,M,S)=>{m.exports=S(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={exports:{}};return Gt[m](S,S.exports,J),S.exports}J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{Indent:()=>c,IndentBlock:()=>Y,IndentEditing:()=>M,IndentUI:()=>l});var m=J(704);class M extends m.Plugin{static get pluginName(){return"IndentEditing"}init(){const oe=this.editor;oe.commands.add("indent",new m.MultiCommand(oe)),oe.commands.add("outdent",new m.MultiCommand(oe))}}var S=J(273);const p='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class l extends m.Plugin{static get pluginName(){return"IndentUI"}init(){const oe=this.editor,ie=oe.locale,u=oe.t,y=ie.uiLanguageDirection=="ltr"?p:_,f=ie.uiLanguageDirection=="ltr"?_:p;this._defineButton("indent",u("Increase indent"),y),this._defineButton("outdent",u("Decrease indent"),f)}_defineButton(oe,ie,u){const y=this.editor;y.ui.componentFactory.add(oe,f=>{const v=y.commands.get(oe),A=new S.ButtonView(f);return A.set({label:ie,icon:u,tooltip:!0}),A.bind("isEnabled").to(v,"isEnabled"),this.listenTo(A,"execute",()=>{y.execute(oe),y.editing.view.focus()}),A})}}class c extends m.Plugin{static get pluginName(){return"Indent"}static get requires(){return[M,l]}}var P=J(492),B=J(209);class x extends m.Command{constructor(oe,ie){super(oe),this._indentBehavior=ie}refresh(){const oe=this.editor.model,ie=(0,B.first)(oe.document.selection.getSelectedBlocks());ie&&this._isIndentationChangeAllowed(ie)?this.isEnabled=this._indentBehavior.checkEnabled(ie.getAttribute("blockIndent")):this.isEnabled=!1}execute(){const oe=this.editor.model,ie=this._getBlocksToChange();oe.change(u=>{for(const y of ie){const f=y.getAttribute("blockIndent"),v=this._indentBehavior.getNextIndent(f);v?u.setAttribute("blockIndent",v,y):u.removeAttribute("blockIndent",y)}})}_getBlocksToChange(){const oe=this.editor.model.document.selection;return Array.from(oe.getSelectedBlocks()).filter(ie=>this._isIndentationChangeAllowed(ie))}_isIndentationChangeAllowed(oe){const ie=this.editor;return ie.model.schema.checkAttribute(oe,"blockIndent")?!ie.plugins.has("DocumentListUtils")||!this._indentBehavior.isForward?!0:!ie.plugins.get("DocumentListUtils").isListItemBlock(oe):!1}}class h{constructor(oe){this.isForward=oe.direction==="forward",this.offset=oe.offset,this.unit=oe.unit}checkEnabled(oe){const ie=parseFloat(oe||"0");return this.isForward||ie>0}getNextIndent(oe){const ie=parseFloat(oe||"0");if(!(!oe||oe.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const u=ie+(this.isForward?this.offset:-this.offset);return u>0?u+this.unit:void 0}}class j{constructor(oe){this.isForward=oe.direction==="forward",this.classes=oe.classes}checkEnabled(oe){const ie=this.classes.indexOf(oe);return this.isForward?ie<this.classes.length-1:ie>=0}getNextIndent(oe){const ie=this.classes.indexOf(oe),u=this.isForward?1:-1;return this.classes[ie+u]}}const Z=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class Y extends m.Plugin{constructor(oe){super(oe),oe.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const oe=this.editor,ie=oe.config.get("indentBlock");ie.classes&&ie.classes.length?(this._setupConversionUsingClasses(ie.classes),oe.commands.add("indentBlock",new x(oe,new j({direction:"forward",classes:ie.classes}))),oe.commands.add("outdentBlock",new x(oe,new j({direction:"backward",classes:ie.classes})))):(oe.data.addStyleProcessorRules(P.addMarginRules),this._setupConversionUsingOffset(),oe.commands.add("indentBlock",new x(oe,new h({direction:"forward",offset:ie.offset,unit:ie.unit}))),oe.commands.add("outdentBlock",new x(oe,new h({direction:"backward",offset:ie.offset,unit:ie.unit}))))}afterInit(){const oe=this.editor,ie=oe.model.schema,u=oe.commands.get("indent"),y=oe.commands.get("outdent"),f=oe.config.get("heading.options");(f&&f.map(v=>v.model)||Z).forEach(v=>{ie.isRegistered(v)&&ie.extend(v,{allowAttributes:"blockIndent"})}),ie.setAttributeProperties("blockIndent",{isFormatting:!0}),u.registerChildCommand(oe.commands.get("indentBlock")),y.registerChildCommand(oe.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const oe=this.editor.conversion,ie=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";oe.for("upcast").attributeToAttribute({view:{styles:{[ie]:/[\s\S]+/}},model:{key:"blockIndent",value:u=>{if(!u.is("element","li"))return u.getStyle(ie)}}}),oe.for("downcast").attributeToAttribute({model:"blockIndent",view:u=>({key:"style",value:{[ie]:u}})})}_setupConversionUsingClasses(oe){const ie={model:{key:"blockIndent",values:[]},view:{}};for(const u of oe)ie.model.values.push(u),ie.view[u]={key:"class",value:[u]};this.editor.conversion.attributeToAttribute(ie)}}})(),(window.CKEditor5=window.CKEditor5||{}).indent=Et})()},30047:(Gt,wt,J)=>{(function(Et){const m=Et.en=Et.en||{};m.dictionary=Object.assign(m.dictionary||{},{Downloadable:"Downloadable","Edit link":"Edit link",Link:"Link","Link image":"Link image","Link URL":"Link URL","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","This link has no URL":"This link has no URL",Unlink:"Unlink"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Et={487:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const B=P},713:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}",""]);const B=P},321:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}",""]);const B=P},626:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}",""]);const B=P},883:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',""]);const B=P},609:p=>{"use strict";p.exports=function(_){var l=[];return l.toString=function(){return this.map(function(c){var P=_(c);return c[2]?"@media ".concat(c[2]," {").concat(P,"}"):P}).join("")},l.i=function(c,P,B){typeof c=="string"&&(c=[[null,c,""]]);var x={};if(B)for(var h=0;h<this.length;h++){var j=this[h][0];j!=null&&(x[j]=!0)}for(var Z=0;Z<c.length;Z++){var Y=[].concat(c[Z]);B&&x[Y[0]]||(P&&(Y[2]?Y[2]="".concat(P," and ").concat(Y[2]):Y[2]=P),l.push(Y))}},l}},62:(p,_,l)=>{"use strict";var c,P=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},B=function(){var v={};return function(A){if(v[A]===void 0){var T=document.querySelector(A);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}v[A]=T}return v[A]}}(),x=[];function h(v){for(var A=-1,T=0;T<x.length;T++)if(x[T].identifier===v){A=T;break}return A}function j(v,A){for(var T={},E=[],ae=0;ae<v.length;ae++){var q=v[ae],z=A.base?q[0]+A.base:q[0],b=T[z]||0,V="".concat(z," ").concat(b);T[z]=b+1;var $=h(V),D={css:q[1],media:q[2],sourceMap:q[3]};$!==-1?(x[$].references++,x[$].updater(D)):x.push({identifier:V,updater:f(D,A),references:1}),E.push(V)}return E}function Z(v){var A=document.createElement("style"),T=v.attributes||{};if(T.nonce===void 0){var E=l.nc;E&&(T.nonce=E)}if(Object.keys(T).forEach(function(q){A.setAttribute(q,T[q])}),typeof v.insert=="function")v.insert(A);else{var ae=B(v.insert||"head");if(!ae)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ae.appendChild(A)}return A}var Y,te=(Y=[],function(v,A){return Y[v]=A,Y.filter(Boolean).join(`
`)});function oe(v,A,T,E){var ae=T?"":E.media?"@media ".concat(E.media," {").concat(E.css,"}"):E.css;if(v.styleSheet)v.styleSheet.cssText=te(A,ae);else{var q=document.createTextNode(ae),z=v.childNodes;z[A]&&v.removeChild(z[A]),z.length?v.insertBefore(q,z[A]):v.appendChild(q)}}function ie(v,A,T){var E=T.css,ae=T.media,q=T.sourceMap;if(ae?v.setAttribute("media",ae):v.removeAttribute("media"),q&&typeof btoa<"u"&&(E+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(q))))," */")),v.styleSheet)v.styleSheet.cssText=E;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(E))}}var u=null,y=0;function f(v,A){var T,E,ae;if(A.singleton){var q=y++;T=u||(u=Z(A)),E=oe.bind(null,T,q,!1),ae=oe.bind(null,T,q,!0)}else T=Z(A),E=ie.bind(null,T,A),ae=function(){(function(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z)})(T)};return E(v),function(z){if(z){if(z.css===v.css&&z.media===v.media&&z.sourceMap===v.sourceMap)return;E(v=z)}else ae()}}p.exports=function(v,A){(A=A||{}).singleton||typeof A.singleton=="boolean"||(A.singleton=P());var T=j(v=v||[],A);return function(E){if(E=E||[],Object.prototype.toString.call(E)==="[object Array]"){for(var ae=0;ae<T.length;ae++){var q=h(T[ae]);x[q].references--}for(var z=j(E,A),b=0;b<T.length;b++){var V=h(T[b]);x[V].references===0&&(x[V].updater(),x.splice(V,1))}T=z}}}},945:(p,_,l)=>{p.exports=l(79)("./src/clipboard.js")},704:(p,_,l)=>{p.exports=l(79)("./src/core.js")},492:(p,_,l)=>{p.exports=l(79)("./src/engine.js")},181:(p,_,l)=>{p.exports=l(79)("./src/typing.js")},273:(p,_,l)=>{p.exports=l(79)("./src/ui.js")},209:(p,_,l)=>{p.exports=l(79)("./src/utils.js")},995:(p,_,l)=>{p.exports=l(79)("./src/widget.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},m={};function M(p){var _=m[p];if(_!==void 0)return _.exports;var l=m[p]={id:p,exports:{}};return Et[p](l,l.exports,M),l.exports}M.n=p=>{var _=p&&p.__esModule?()=>p.default:()=>p;return M.d(_,{a:_}),_},M.d=(p,_)=>{for(var l in _)M.o(_,l)&&!M.o(p,l)&&Object.defineProperty(p,l,{enumerable:!0,get:_[l]})},M.o=(p,_)=>Object.prototype.hasOwnProperty.call(p,_),M.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},M.nc=void 0;var S={};(()=>{"use strict";M.r(S),M.d(S,{AutoLink:()=>$t,Link:()=>Ne,LinkCommand:()=>hi,LinkEditing:()=>Le,LinkImage:()=>Qt,LinkImageEditing:()=>H,LinkImageUI:()=>be,LinkUI:()=>Ki,UnlinkCommand:()=>Oi});var p=M(704),_=M(181),l=M(945),c=M(209);class P{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(Ce){Array.isArray(Ce)?Ce.forEach(ze=>this._definitions.add(ze)):this._definitions.add(Ce)}getDispatcher(){return Ce=>{Ce.on("attribute:linkHref",(ze,nt,Ke)=>{if(!Ke.consumable.test(nt.item,"attribute:linkHref")||!nt.item.is("selection")&&!Ke.schema.isInline(nt.item))return;const xt=Ke.writer,si=xt.document.selection;for(const ni of this._definitions){const ki=xt.createAttributeElement("a",ni.attributes,{priority:5});ni.classes&&xt.addClass(ni.classes,ki);for(const di in ni.styles)xt.setStyle(di,ni.styles[di],ki);xt.setCustomProperty("link",!0,ki),ni.callback(nt.attributeNewValue)?nt.item.is("selection")?xt.wrap(si.getFirstRange(),ki):xt.wrap(Ke.mapper.toViewRange(nt.range),ki):xt.unwrap(Ke.mapper.toViewRange(nt.range),ki)}},{priority:"high"})}}getDispatcherForLinkedImage(){return Ce=>{Ce.on("attribute:linkHref:imageBlock",(ze,nt,{writer:Ke,mapper:xt})=>{const si=xt.toViewElement(nt.item),ni=Array.from(si.getChildren()).find(ki=>ki.is("element","a"));for(const ki of this._definitions){const di=(0,c.toMap)(ki.attributes);if(ki.callback(nt.attributeNewValue)){for(const[Ti,Ni]of di)Ti==="class"?Ke.addClass(Ni,ni):Ke.setAttribute(Ti,Ni,ni);ki.classes&&Ke.addClass(ki.classes,ni);for(const Ti in ki.styles)Ke.setStyle(Ti,ki.styles[Ti],ni)}else{for(const[Ti,Ni]of di)Ti==="class"?Ke.removeClass(Ni,ni):Ke.removeAttribute(Ti,ni);ki.classes&&Ke.removeClass(ki.classes,ni);for(const Ti in ki.styles)Ke.removeStyle(Ti,ni)}}})}}}const B=function(yt,Ce,ze){var nt=-1,Ke=yt.length;Ce<0&&(Ce=-Ce>Ke?0:Ke+Ce),(ze=ze>Ke?Ke:ze)<0&&(ze+=Ke),Ke=Ce>ze?0:ze-Ce>>>0,Ce>>>=0;for(var xt=Array(Ke);++nt<Ke;)xt[nt]=yt[nt+Ce];return xt},x=function(yt,Ce,ze){var nt=yt.length;return ze=ze===void 0?nt:ze,!Ce&&ze>=nt?yt:B(yt,Ce,ze)};var h=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const j=function(yt){return h.test(yt)},Z=function(yt){return yt.split("")};var Y="\\ud800-\\udfff",te="["+Y+"]",oe="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ie="\\ud83c[\\udffb-\\udfff]",u="[^"+Y+"]",y="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",v="(?:"+oe+"|"+ie+")?",A="[\\ufe0e\\ufe0f]?",T=A+v+("(?:\\u200d(?:"+[u,y,f].join("|")+")"+A+v+")*"),E="(?:"+[u+oe+"?",oe,y,f,te].join("|")+")",ae=RegExp(ie+"(?="+ie+")|"+E+T,"g");const q=function(yt){return yt.match(ae)||[]},z=function(yt){return j(yt)?q(yt):Z(yt)},b=typeof J.g=="object"&&J.g&&J.g.Object===Object&&J.g;var V=typeof self=="object"&&self&&self.Object===Object&&self;const $=(b||V||Function("return this")()).Symbol,D=function(yt,Ce){for(var ze=-1,nt=yt==null?0:yt.length,Ke=Array(nt);++ze<nt;)Ke[ze]=Ce(yt[ze],ze,yt);return Ke},re=Array.isArray;var Ee=Object.prototype,je=Ee.hasOwnProperty,Ie=Ee.toString,De=$?$.toStringTag:void 0;const mt=function(yt){var Ce=je.call(yt,De),ze=yt[De];try{yt[De]=void 0;var nt=!0}catch{}var Ke=Ie.call(yt);return nt&&(Ce?yt[De]=ze:delete yt[De]),Ke};var lt=Object.prototype.toString;const ut=function(yt){return lt.call(yt)};var dt=$?$.toStringTag:void 0;const _t=function(yt){return yt==null?yt===void 0?"[object Undefined]":"[object Null]":dt&&dt in Object(yt)?mt(yt):ut(yt)},bt=function(yt){return yt!=null&&typeof yt=="object"},Qe=function(yt){return typeof yt=="symbol"||bt(yt)&&_t(yt)=="[object Symbol]"};var ft=$?$.prototype:void 0,Ve=ft?ft.toString:void 0;const Te=function yt(Ce){if(typeof Ce=="string")return Ce;if(re(Ce))return D(Ce,yt)+"";if(Qe(Ce))return Ve?Ve.call(Ce):"";var ze=Ce+"";return ze=="0"&&1/Ce==-1/0?"-0":ze},Q=function(yt){return yt==null?"":Te(yt)},xe=function(yt){return function(Ce){Ce=Q(Ce);var ze=j(Ce)?z(Ce):void 0,nt=ze?ze[0]:Ce.charAt(0),Ke=ze?x(ze,1).join(""):Ce.slice(1);return nt[yt]()+Ke}}("toUpperCase"),Oe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Je=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,Ze=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,tt=/^((\w+:(\/{2,})?)|(\W))/i,st="Ctrl+K";function Lt(yt,{writer:Ce}){const ze=Ce.createAttributeElement("a",{href:yt},{priority:5});return Ce.setCustomProperty("link",!0,ze),ze}function Ft(yt){const Ce=String(yt);return function(ze){return!!ze.replace(Oe,"").match(Je)}(Ce)?Ce:"#"}function Yt(yt,Ce){return!!yt&&Ce.checkAttribute(yt.name,"linkHref")}function ui(yt,Ce){const ze=(nt=yt,Ze.test(nt)?"mailto:":Ce);var nt;const Ke=!!ze&&!Nt(yt);return yt&&Ke?ze+yt:yt}function Nt(yt){return tt.test(yt)}function ti(yt){window.open(yt,"_blank","noopener")}class hi extends p.Command{constructor(){super(...arguments),this.manualDecorators=new c.Collection,this.automaticDecorators=new P}restoreManualDecoratorStates(){for(const Ce of this.manualDecorators)Ce.value=this._getDecoratorStateFromModel(Ce.id)}refresh(){const Ce=this.editor.model,ze=Ce.document.selection,nt=ze.getSelectedElement()||(0,c.first)(ze.getSelectedBlocks());Yt(nt,Ce.schema)?(this.value=nt.getAttribute("linkHref"),this.isEnabled=Ce.schema.checkAttribute(nt,"linkHref")):(this.value=ze.getAttribute("linkHref"),this.isEnabled=Ce.schema.checkAttributeInSelection(ze,"linkHref"));for(const Ke of this.manualDecorators)Ke.value=this._getDecoratorStateFromModel(Ke.id)}execute(Ce,ze={}){const nt=this.editor.model,Ke=nt.document.selection,xt=[],si=[];for(const ni in ze)ze[ni]?xt.push(ni):si.push(ni);nt.change(ni=>{if(Ke.isCollapsed){const ki=Ke.getFirstPosition();if(Ke.hasAttribute("linkHref")){const di=Ci(Ke);let Ti=(0,_.findAttributeRange)(ki,"linkHref",Ke.getAttribute("linkHref"),nt);Ke.getAttribute("linkHref")===di&&(Ti=this._updateLinkContent(nt,ni,Ti,Ce)),ni.setAttribute("linkHref",Ce,Ti),xt.forEach(Ni=>{ni.setAttribute(Ni,!0,Ti)}),si.forEach(Ni=>{ni.removeAttribute(Ni,Ti)}),ni.setSelection(ni.createPositionAfter(Ti.end.nodeBefore))}else if(Ce!==""){const di=(0,c.toMap)(Ke.getAttributes());di.set("linkHref",Ce),xt.forEach(Ni=>{di.set(Ni,!0)});const{end:Ti}=nt.insertContent(ni.createText(Ce,di),ki);ni.setSelection(Ti)}["linkHref",...xt,...si].forEach(di=>{ni.removeSelectionAttribute(di)})}else{const ki=nt.schema.getValidRanges(Ke.getRanges(),"linkHref"),di=[];for(const Ni of Ke.getSelectedBlocks())nt.schema.checkAttribute(Ni,"linkHref")&&di.push(ni.createRangeOn(Ni));const Ti=di.slice();for(const Ni of ki)this._isRangeToUpdate(Ni,di)&&Ti.push(Ni);for(const Ni of Ti){let Gi=Ni;if(Ti.length===1){const on=Ci(Ke);Ke.getAttribute("linkHref")===on&&(Gi=this._updateLinkContent(nt,ni,Ni,Ce),ni.setSelection(ni.createSelection(Gi)))}ni.setAttribute("linkHref",Ce,Gi),xt.forEach(on=>{ni.setAttribute(on,!0,Gi)}),si.forEach(on=>{ni.removeAttribute(on,Gi)})}}})}_getDecoratorStateFromModel(Ce){const ze=this.editor.model,nt=ze.document.selection,Ke=nt.getSelectedElement();return Yt(Ke,ze.schema)?Ke.getAttribute(Ce):nt.getAttribute(Ce)}_isRangeToUpdate(Ce,ze){for(const nt of ze)if(nt.containsRange(Ce))return!1;return!0}_updateLinkContent(Ce,ze,nt,Ke){const xt=ze.createText(Ke,{linkHref:Ke});return Ce.insertContent(xt,nt)}}function Ci(yt){if(yt.isCollapsed){const Ce=yt.getFirstPosition();return Ce.textNode&&Ce.textNode.data}{const Ce=Array.from(yt.getFirstRange().getItems());if(Ce.length>1)return null;const ze=Ce[0];return ze.is("$text")||ze.is("$textProxy")?ze.data:null}}class Oi extends p.Command{refresh(){const Ce=this.editor.model,ze=Ce.document.selection,nt=ze.getSelectedElement();Yt(nt,Ce.schema)?this.isEnabled=Ce.schema.checkAttribute(nt,"linkHref"):this.isEnabled=Ce.schema.checkAttributeInSelection(ze,"linkHref")}execute(){const Ce=this.editor,ze=this.editor.model,nt=ze.document.selection,Ke=Ce.commands.get("link");ze.change(xt=>{const si=nt.isCollapsed?[(0,_.findAttributeRange)(nt.getFirstPosition(),"linkHref",nt.getAttribute("linkHref"),ze)]:ze.schema.getValidRanges(nt.getRanges(),"linkHref");for(const ni of si)if(xt.removeAttribute("linkHref",ni),Ke)for(const ki of Ke.manualDecorators)xt.removeAttribute(ki.id,ni)})}}class Di extends(0,c.ObservableMixin)(){constructor({id:Ce,label:ze,attributes:nt,classes:Ke,styles:xt,defaultValue:si}){super(),this.id=Ce,this.set("value",void 0),this.defaultValue=si,this.label=ze,this.attributes=nt,this.classes=Ke,this.styles=xt}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var Vi=M(62),Pi=M.n(Vi),$i=M(713),at={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Pi()($i.Z,at),$i.Z.locals;const ue="automatic",ye=/^(https?:)?\/\//;class Le extends p.Plugin{static get pluginName(){return"LinkEditing"}static get requires(){return[_.TwoStepCaretMovement,_.Input,l.ClipboardPipeline]}constructor(Ce){super(Ce),Ce.config.define("link",{addTargetToExternalLinks:!1})}init(){const Ce=this.editor;Ce.model.schema.extend("$text",{allowAttributes:"linkHref"}),Ce.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Lt}),Ce.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(nt,Ke)=>Lt(Ft(nt),Ke)}),Ce.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:nt=>nt.getAttribute("href")}}),Ce.commands.add("link",new hi(Ce)),Ce.commands.add("unlink",new Oi(Ce));const ze=function(nt,Ke){const xt={"Open in a new tab":nt("Open in a new tab"),Downloadable:nt("Downloadable")};return Ke.forEach(si=>("label"in si&&xt[si.label]&&(si.label=xt[si.label]),si)),Ke}(Ce.t,function(nt){const Ke=[];if(nt)for(const[xt,si]of Object.entries(nt)){const ni=Object.assign({},si,{id:`link${xe(xt)}`});Ke.push(ni)}return Ke}(Ce.config.get("link.decorators")));this._enableAutomaticDecorators(ze.filter(nt=>nt.mode===ue)),this._enableManualDecorators(ze.filter(nt=>nt.mode==="manual")),Ce.plugins.get(_.TwoStepCaretMovement).registerAttribute("linkHref"),(0,_.inlineHighlight)(Ce,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(Ce){const ze=this.editor,nt=ze.commands.get("link").automaticDecorators;ze.config.get("link.addTargetToExternalLinks")&&nt.add({id:"linkIsExternal",mode:ue,callback:Ke=>!!Ke&&ye.test(Ke),attributes:{target:"_blank",rel:"noopener noreferrer"}}),nt.add(Ce),nt.length&&ze.conversion.for("downcast").add(nt.getDispatcher())}_enableManualDecorators(Ce){if(!Ce.length)return;const ze=this.editor,nt=ze.commands.get("link").manualDecorators;Ce.forEach(Ke=>{ze.model.schema.extend("$text",{allowAttributes:Ke.id});const xt=new Di(Ke);nt.add(xt),ze.conversion.for("downcast").attributeToElement({model:xt.id,view:(si,{writer:ni,schema:ki},{item:di})=>{if((di.is("selection")||ki.isInline(di))&&si){const Ti=ni.createAttributeElement("a",xt.attributes,{priority:5});xt.classes&&ni.addClass(xt.classes,Ti);for(const Ni in xt.styles)ni.setStyle(Ni,xt.styles[Ni],Ti);return ni.setCustomProperty("link",!0,Ti),Ti}}}),ze.conversion.for("upcast").elementToAttribute({view:{name:"a",...xt._createPattern()},model:{key:xt.id}})})}_enableLinkOpen(){const Ce=this.editor,ze=Ce.editing.view.document;this.listenTo(ze,"click",(nt,Ke)=>{if(!(c.env.isMac?Ke.domEvent.metaKey:Ke.domEvent.ctrlKey))return;let xt=Ke.domTarget;if(xt.tagName.toLowerCase()!="a"&&(xt=xt.closest("a")),!xt)return;const si=xt.getAttribute("href");si&&(nt.stop(),Ke.preventDefault(),ti(si))},{context:"$capture"}),this.listenTo(ze,"keydown",(nt,Ke)=>{const xt=Ce.commands.get("link").value;xt&&Ke.keyCode===c.keyCodes.enter&&Ke.altKey&&(nt.stop(),ti(xt))})}_enableSelectionAttributesFixer(){const Ce=this.editor.model,ze=Ce.document.selection;this.listenTo(ze,"change:attribute",(nt,{attributeKeys:Ke})=>{Ke.includes("linkHref")&&!ze.hasAttribute("linkHref")&&Ce.change(xt=>{var si;(function(ni,ki){ni.removeSelectionAttribute("linkHref");for(const di of ki)ni.removeSelectionAttribute(di)})(xt,(si=Ce.schema,si.getDefinition("$text").allowAttributes.filter(ni=>ni.startsWith("link"))))})})}_enableClipboardIntegration(){const Ce=this.editor,ze=Ce.model,nt=this.editor.config.get("link.defaultProtocol");nt&&this.listenTo(Ce.plugins.get("ClipboardPipeline"),"contentInsertion",(Ke,xt)=>{ze.change(si=>{const ni=si.createRangeIn(xt.content);for(const ki of ni.getItems())if(ki.hasAttribute("linkHref")){const di=ui(ki.getAttribute("linkHref"),nt);si.setAttribute("linkHref",di,ki)}})})}}var Ge=M(492),rt=M(273),gt=M(995),Ot=M(487),Mt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Pi()(Ot.Z,Mt),Ot.Z.locals;var Ut=M(626),ri={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Pi()(Ut.Z,ri),Ut.Z.locals;class oi extends rt.View{constructor(Ce,ze){super(Ce),this.focusTracker=new c.FocusTracker,this.keystrokes=new c.KeystrokeHandler,this._focusables=new rt.ViewCollection;const nt=Ce.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(nt("Save"),p.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(nt("Cancel"),p.icons.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(ze),this.children=this._createFormChildren(ze.manualDecorators),this._focusCycler=new rt.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const Ke=["ck","ck-link-form","ck-responsive-form"];ze.manualDecorators.length&&Ke.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:Ke,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((Ce,ze)=>(Ce[ze.name]=ze.isOn,Ce),{})}render(){super.render(),(0,rt.submitHandler)({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(Ce=>{this._focusables.add(Ce),this.focusTracker.add(Ce.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const Ce=this.locale.t,ze=new rt.LabeledFieldView(this.locale,rt.createLabeledInputText);return ze.label=Ce("Link URL"),ze}_createButton(Ce,ze,nt,Ke){const xt=new rt.ButtonView(this.locale);return xt.set({label:Ce,icon:ze,tooltip:!0}),xt.extendTemplate({attributes:{class:nt}}),Ke&&xt.delegate("execute").to(this,Ke),xt}_createManualDecoratorSwitches(Ce){const ze=this.createCollection();for(const nt of Ce.manualDecorators){const Ke=new rt.SwitchButtonView(this.locale);Ke.set({name:nt.id,label:nt.label,withText:!0}),Ke.bind("isOn").toMany([nt,Ce],"value",(xt,si)=>si===void 0&&xt===void 0?!!nt.defaultValue:!!xt),Ke.on("execute",()=>{nt.set("value",!Ke.isOn)}),ze.add(Ke)}return ze}_createFormChildren(Ce){const ze=this.createCollection();if(ze.add(this.urlInputView),Ce.length){const nt=new rt.View;nt.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(Ke=>({tag:"li",children:[Ke],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),ze.add(nt)}return ze.add(this.saveButtonView),ze.add(this.cancelButtonView),ze}}var wi=M(321),Ii={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Pi()(wi.Z,Ii),wi.Z.locals;class Li extends rt.View{constructor(Ce){super(Ce),this.focusTracker=new c.FocusTracker,this.keystrokes=new c.KeystrokeHandler,this._focusables=new rt.ViewCollection;const ze=Ce.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(ze("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(ze("Edit link"),p.icons.pencil,"edit"),this.set("href",void 0),this._focusCycler=new rt.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(Ce=>{this._focusables.add(Ce),this.focusTracker.add(Ce.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(Ce,ze,nt){const Ke=new rt.ButtonView(this.locale);return Ke.set({label:Ce,icon:ze,tooltip:!0}),Ke.delegate("execute").to(this,nt),Ke}_createPreviewButton(){const Ce=new rt.ButtonView(this.locale),ze=this.bindTemplate,nt=this.t;return Ce.set({withText:!0,tooltip:nt("Open link in new tab")}),Ce.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:ze.to("href",Ke=>Ke&&Ft(Ke)),target:"_blank",rel:"noopener noreferrer"}}),Ce.bind("label").to(this,"href",Ke=>Ke||nt("This link has no URL")),Ce.bind("isEnabled").to(this,"href",Ke=>!!Ke),Ce.template.tag="a",Ce.template.eventListeners={},Ce}}const yi='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',ji="link-ui";class Ki extends p.Plugin{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[rt.ContextualBalloon]}static get pluginName(){return"LinkUI"}init(){const Ce=this.editor;Ce.editing.view.addObserver(Ge.ClickObserver),this._balloon=Ce.plugins.get(rt.ContextualBalloon),this._createToolbarLinkButton(),this._enableBalloonActivators(),Ce.conversion.for("editingDowncast").markerToHighlight({model:ji,view:{classes:["ck-fake-link-selection"]}}),Ce.conversion.for("editingDowncast").markerToElement({model:ji,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const Ce=this.editor,ze=new Li(Ce.locale),nt=Ce.commands.get("link"),Ke=Ce.commands.get("unlink");return ze.bind("href").to(nt,"value"),ze.editButtonView.bind("isEnabled").to(nt),ze.unlinkButtonView.bind("isEnabled").to(Ke),this.listenTo(ze,"edit",()=>{this._addFormView()}),this.listenTo(ze,"unlink",()=>{Ce.execute("unlink"),this._hideUI()}),ze.keystrokes.set("Esc",(xt,si)=>{this._hideUI(),si()}),ze.keystrokes.set(st,(xt,si)=>{this._addFormView(),si()}),ze}_createFormView(){const Ce=this.editor,ze=Ce.commands.get("link"),nt=Ce.config.get("link.defaultProtocol"),Ke=new((0,rt.CssTransitionDisablerMixin)(oi))(Ce.locale,ze);return Ke.urlInputView.fieldView.bind("value").to(ze,"value"),Ke.urlInputView.bind("isEnabled").to(ze,"isEnabled"),Ke.saveButtonView.bind("isEnabled").to(ze),this.listenTo(Ke,"submit",()=>{const{value:xt}=Ke.urlInputView.fieldView.element,si=ui(xt,nt);Ce.execute("link",si,Ke.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(Ke,"cancel",()=>{this._closeFormView()}),Ke.keystrokes.set("Esc",(xt,si)=>{this._closeFormView(),si()}),Ke}_createToolbarLinkButton(){const Ce=this.editor,ze=Ce.commands.get("link"),nt=Ce.t;Ce.ui.componentFactory.add("link",Ke=>{const xt=new rt.ButtonView(Ke);return xt.isEnabled=!0,xt.label=nt("Link"),xt.icon=yi,xt.keystroke=st,xt.tooltip=!0,xt.isToggleable=!0,xt.bind("isEnabled").to(ze,"isEnabled"),xt.bind("isOn").to(ze,"value",si=>!!si),this.listenTo(xt,"execute",()=>this._showUI(!0)),xt})}_enableBalloonActivators(){const Ce=this.editor,ze=Ce.editing.view.document;this.listenTo(ze,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),Ce.keystrokes.set(st,(nt,Ke)=>{Ke(),Ce.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(Ce,ze)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),ze())},{priority:"high"}),this.editor.keystrokes.set("Esc",(Ce,ze)=>{this._isUIVisible&&(this._hideUI(),ze())}),(0,rt.clickOutsideHandler)({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const Ce=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=Ce.value||""}_closeFormView(){const Ce=this.editor.commands.get("link");Ce.restoreManualDecoratorStates(),Ce.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(Ce=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),Ce&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),Ce&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const Ce=this.editor;this.stopListening(Ce.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),Ce.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const Ce=this.editor,ze=Ce.editing.view.document;let nt=this._getSelectedLinkElement(),Ke=si();const xt=()=>{const ni=this._getSelectedLinkElement(),ki=si();nt&&!ni||!nt&&ki!==Ke?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),nt=ni,Ke=ki};function si(){return ze.selection.focus.getAncestors().reverse().find(ni=>ni.is("element"))}this.listenTo(Ce.ui,"update",xt),this.listenTo(this._balloon,"change:visibleView",xt)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const Ce=this._balloon.visibleView;return!!this.formView&&Ce==this.formView||this._areActionsVisible}_getBalloonPositionData(){const Ce=this.editor.editing.view,ze=this.editor.model,nt=Ce.document;let Ke;if(ze.markers.has(ji)){const xt=Array.from(this.editor.editing.mapper.markerNameToElements(ji)),si=Ce.createRange(Ce.createPositionBefore(xt[0]),Ce.createPositionAfter(xt[xt.length-1]));Ke=Ce.domConverter.viewRangeToDom(si)}else Ke=()=>{const xt=this._getSelectedLinkElement();return xt?Ce.domConverter.mapViewToDom(xt):Ce.domConverter.viewRangeToDom(nt.selection.getFirstRange())};return{target:Ke}}_getSelectedLinkElement(){const Ce=this.editor.editing.view,ze=Ce.document.selection,nt=ze.getSelectedElement();if(ze.isCollapsed||nt&&(0,gt.isWidget)(nt))return Mi(ze.getFirstPosition());{const Ke=ze.getFirstRange().getTrimmed(),xt=Mi(Ke.start),si=Mi(Ke.end);return xt&&xt==si&&Ce.createRangeIn(xt).getTrimmed().isEqual(Ke)?xt:null}}_showFakeVisualSelection(){const Ce=this.editor.model;Ce.change(ze=>{const nt=Ce.document.selection.getFirstRange();if(Ce.markers.has(ji))ze.updateMarker(ji,{range:nt});else if(nt.start.isAtEnd){const Ke=nt.start.getLastMatchingPosition(({item:xt})=>!Ce.schema.isContent(xt),{boundaries:nt});ze.addMarker(ji,{usingOperation:!1,affectsData:!1,range:ze.createRange(Ke,nt.end)})}else ze.addMarker(ji,{usingOperation:!1,affectsData:!1,range:nt})})}_hideFakeVisualSelection(){const Ce=this.editor.model;Ce.markers.has(ji)&&Ce.change(ze=>{ze.removeMarker(ji)})}}function Mi(yt){return yt.getAncestors().find(Ce=>{return(ze=Ce).is("attributeElement")&&!!ze.getCustomProperty("link");var ze})||null}const tn=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class $t extends p.Plugin{static get requires(){return[_.Delete,Le]}static get pluginName(){return"AutoLink"}init(){const Ce=this.editor.model.document.selection;Ce.on("change:range",()=>{this.isEnabled=!Ce.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(Ce,ze){return ze.textNode&&ze.textNode.hasAttribute("linkHref")?(0,_.findAttributeRange)(ze,"linkHref",ze.textNode.getAttribute("linkHref"),Ce):null}_selectEntireLinks(Ce,ze){const nt=this.editor.model,Ke=nt.document.selection,xt=Ke.getFirstPosition(),si=Ke.getLastPosition();let ni=ze.getJoined(this._expandLinkRange(nt,xt)||ze);ni&&(ni=ni.getJoined(this._expandLinkRange(nt,si)||ze)),ni&&(ni.start.isBefore(xt)||ni.end.isAfter(si))&&Ce.setSelection(ni)}_enablePasteLinking(){const Ce=this.editor,ze=Ce.model,nt=ze.document.selection,Ke=Ce.plugins.get("ClipboardPipeline"),xt=Ce.commands.get("link");Ke.on("inputTransformation",(si,ni)=>{if(!this.isEnabled||!xt.isEnabled||nt.isCollapsed||nt.rangeCount>1)return;const ki=nt.getFirstRange(),di=ni.dataTransfer.getData("text/plain");if(!di)return;const Ti=di.match(tn);Ti&&Ti[2]===di&&(ze.change(Ni=>{this._selectEntireLinks(Ni,ki),xt.execute(di)}),si.stop())},{priority:"high"})}_enableTypingHandling(){const Ce=this.editor,ze=new _.TextWatcher(Ce.model,nt=>{if(!function(xt){return xt.length>4&&xt[xt.length-1]===" "&&xt[xt.length-2]!==" "}(nt))return;const Ke=wn(nt.substr(0,nt.length-1));return Ke?{url:Ke}:void 0});ze.on("matched:data",(nt,Ke)=>{const{batch:xt,range:si,url:ni}=Ke;if(!xt.isTyping)return;const ki=si.end.getShiftedBy(-1),di=ki.getShiftedBy(-ni.length),Ti=Ce.model.createRange(di,ki);this._applyAutoLink(ni,Ti)}),ze.bind("isEnabled").to(this)}_enableEnterHandling(){const Ce=this.editor,ze=Ce.model,nt=Ce.commands.get("enter");nt&&nt.on("execute",()=>{const Ke=ze.document.selection.getFirstPosition();if(!Ke.parent.previousSibling)return;const xt=ze.createRangeIn(Ke.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(xt)})}_enableShiftEnterHandling(){const Ce=this.editor,ze=Ce.model,nt=Ce.commands.get("shiftEnter");nt&&nt.on("execute",()=>{const Ke=ze.document.selection.getFirstPosition(),xt=ze.createRange(ze.createPositionAt(Ke.parent,0),Ke.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(xt)})}_checkAndApplyAutoLinkOnRange(Ce){const ze=this.editor.model,{text:nt,range:Ke}=(0,_.getLastTextLine)(Ce,ze),xt=wn(nt);if(xt){const si=ze.createRange(Ke.end.getShiftedBy(-xt.length),Ke.end);this._applyAutoLink(xt,si)}}_applyAutoLink(Ce,ze){const nt=this.editor.model,Ke=ui(Ce,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(xt,si){return si.schema.checkAttributeInSelection(si.createSelection(xt),"linkHref")}(ze,nt)&&Nt(Ke)&&!function(xt){const si=xt.start.nodeAfter;return!!si&&si.hasAttribute("linkHref")}(ze)&&this._persistAutoLink(Ke,ze)}_persistAutoLink(Ce,ze){const nt=this.editor.model,Ke=this.editor.plugins.get("Delete");nt.enqueueChange(xt=>{xt.setAttribute("linkHref",Ce,ze),nt.enqueueChange(()=>{Ke.requestUndoOnBackspace()})})}}function wn(yt){const Ce=tn.exec(yt);return Ce?Ce[2]:null}class Ne extends p.Plugin{static get requires(){return[Le,Ki,$t]}static get pluginName(){return"Link"}}class H extends p.Plugin{static get requires(){return["ImageEditing","ImageUtils",Le]}static get pluginName(){return"LinkImageEditing"}init(){const Ce=this.editor,ze=Ce.model.schema;Ce.plugins.has("ImageBlockEditing")&&ze.extend("imageBlock",{allowAttributes:["linkHref"]}),Ce.conversion.for("upcast").add(function(nt){const Ke=nt.plugins.has("ImageInlineEditing"),xt=nt.plugins.get("ImageUtils");return si=>{si.on("element:a",(ni,ki,di)=>{const Ti=ki.viewItem,Ni=xt.findViewImgElement(Ti);if(!Ni)return;const Gi=Ni.findAncestor(kn=>xt.isBlockImageView(kn));if(Ke&&!Gi)return;const on={attributes:["href"]};if(!di.consumable.consume(Ti,on))return;const Zi=Ti.getAttribute("href");if(!Zi)return;let hn=ki.modelCursor.parent;if(!hn.is("element","imageBlock")){const kn=di.convertItem(Ni,ki.modelCursor);ki.modelRange=kn.modelRange,ki.modelCursor=kn.modelCursor,hn=ki.modelCursor.nodeBefore}hn&&hn.is("element","imageBlock")&&di.writer.setAttribute("linkHref",Zi,hn)},{priority:"high"})}}(Ce)),Ce.conversion.for("downcast").add(function(nt){const Ke=nt.plugins.get("ImageUtils");return xt=>{xt.on("attribute:linkHref:imageBlock",(si,ni,ki)=>{if(!ki.consumable.consume(ni.item,si.name))return;const di=ki.mapper.toViewElement(ni.item),Ti=ki.writer,Ni=Array.from(di.getChildren()).find(Zi=>Zi.is("element","a")),Gi=Ke.findViewImgElement(di),on=Gi.parent.is("element","picture")?Gi.parent:Gi;if(Ni)ni.attributeNewValue?Ti.setAttribute("href",ni.attributeNewValue,Ni):(Ti.move(Ti.createRangeOn(on),Ti.createPositionAt(di,0)),Ti.remove(Ni));else{const Zi=Ti.createContainerElement("a",{href:ni.attributeNewValue});Ti.insert(Ti.createPositionAt(di,0),Zi),Ti.move(Ti.createRangeOn(on),Ti.createPositionAt(Zi,0))}},{priority:"high"})}}(Ce)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const Ce=this.editor,ze=Ce.commands.get("link").automaticDecorators;ze.length&&Ce.conversion.for("downcast").add(ze.getDispatcherForLinkedImage())}_enableManualDecorators(){const Ce=this.editor,ze=Ce.commands.get("link");for(const nt of ze.manualDecorators)Ce.plugins.has("ImageBlockEditing")&&Ce.model.schema.extend("imageBlock",{allowAttributes:nt.id}),Ce.plugins.has("ImageInlineEditing")&&Ce.model.schema.extend("imageInline",{allowAttributes:nt.id}),Ce.conversion.for("downcast").add(ee(nt)),Ce.conversion.for("upcast").add(se(Ce,nt))}}function ee(yt){return Ce=>{Ce.on(`attribute:${yt.id}:imageBlock`,(ze,nt,Ke)=>{const xt=Ke.mapper.toViewElement(nt.item),si=Array.from(xt.getChildren()).find(ni=>ni.is("element","a"));if(si){for(const[ni,ki]of(0,c.toMap)(yt.attributes))Ke.writer.setAttribute(ni,ki,si);yt.classes&&Ke.writer.addClass(yt.classes,si);for(const ni in yt.styles)Ke.writer.setStyle(ni,yt.styles[ni],si)}})}}function se(yt,Ce){const ze=yt.plugins.has("ImageInlineEditing"),nt=yt.plugins.get("ImageUtils");return Ke=>{Ke.on("element:a",(xt,si,ni)=>{const ki=si.viewItem,di=nt.findViewImgElement(ki);if(!di)return;const Ti=di.findAncestor(on=>nt.isBlockImageView(on));if(ze&&!Ti)return;const Ni=new Ge.Matcher(Ce._createPattern()).match(ki);if(!Ni||!ni.consumable.consume(ki,Ni.match))return;const Gi=si.modelCursor.nodeBefore||si.modelCursor.parent;ni.writer.setAttribute(Ce.id,!0,Gi)},{priority:"high"})}}class be extends p.Plugin{static get requires(){return[Le,Ki,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const Ce=this.editor,ze=Ce.editing.view.document;this.listenTo(ze,"click",(nt,Ke)=>{this._isSelectedLinkedImage(Ce.model.document.selection)&&(Ke.preventDefault(),nt.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const Ce=this.editor,ze=Ce.t;Ce.ui.componentFactory.add("linkImage",nt=>{const Ke=new rt.ButtonView(nt),xt=Ce.plugins.get("LinkUI"),si=Ce.commands.get("link");return Ke.set({isEnabled:!0,label:ze("Link image"),icon:yi,keystroke:st,tooltip:!0,isToggleable:!0}),Ke.bind("isEnabled").to(si,"isEnabled"),Ke.bind("isOn").to(si,"value",ni=>!!ni),this.listenTo(Ke,"execute",()=>{this._isSelectedLinkedImage(Ce.model.document.selection)?xt._addActionsView():xt._showUI(!0)}),Ke})}_isSelectedLinkedImage(Ce){const ze=Ce.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(ze)&&ze.hasAttribute("linkHref")}}var ht=M(883),jt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Pi()(ht.Z,jt),ht.Z.locals;class Qt extends p.Plugin{static get requires(){return[H,be]}static get pluginName(){return"LinkImage"}}})(),(window.CKEditor5=window.CKEditor5||{}).link=S})()},84690:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{"Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Circle:"Circle",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero",Disc:"Disc","List properties":"List properties","Lower-latin":"Lower-latin","Lower\u2013roman":"Lower\u2013roman","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Reversed order":"Reversed order",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.","To-do List":"To-do List","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower\u2013latin list style":"Toggle the lower\u2013latin list style","Toggle the lower\u2013roman list style":"Toggle the lower\u2013roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper\u2013latin list style":"Toggle the upper\u2013latin list style","Toggle the upper\u2013roman list style":"Toggle the upper\u2013roman list style","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={118:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}",""]);const l=_},479:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}",""]);const l=_},463:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}",""]);const l=_},989:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}",""]);const l=_},528:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',""]);const l=_},609:m=>{"use strict";m.exports=function(M){var S=[];return S.toString=function(){return this.map(function(p){var _=M(p);return p[2]?"@media ".concat(p[2]," {").concat(_,"}"):_}).join("")},S.i=function(p,_,l){typeof p=="string"&&(p=[[null,p,""]]);var c={};if(l)for(var P=0;P<this.length;P++){var B=this[P][0];B!=null&&(c[B]=!0)}for(var x=0;x<p.length;x++){var h=[].concat(p[x]);l&&c[h[0]]||(_&&(h[2]?h[2]="".concat(_," and ").concat(h[2]):h[2]=_),S.push(h))}},S}},62:(m,M,S)=>{"use strict";var p,_=function(){return p===void 0&&(p=Boolean(window&&document&&document.all&&!window.atob)),p},l=function(){var u={};return function(y){if(u[y]===void 0){var f=document.querySelector(y);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}u[y]=f}return u[y]}}(),c=[];function P(u){for(var y=-1,f=0;f<c.length;f++)if(c[f].identifier===u){y=f;break}return y}function B(u,y){for(var f={},v=[],A=0;A<u.length;A++){var T=u[A],E=y.base?T[0]+y.base:T[0],ae=f[E]||0,q="".concat(E," ").concat(ae);f[E]=ae+1;var z=P(q),b={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(b)):c.push({identifier:q,updater:ie(b,y),references:1}),v.push(q)}return v}function x(u){var y=document.createElement("style"),f=u.attributes||{};if(f.nonce===void 0){var v=S.nc;v&&(f.nonce=v)}if(Object.keys(f).forEach(function(T){y.setAttribute(T,f[T])}),typeof u.insert=="function")u.insert(y);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(y)}return y}var h,j=(h=[],function(u,y){return h[u]=y,h.filter(Boolean).join(`
`)});function Z(u,y,f,v){var A=f?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=j(y,A);else{var T=document.createTextNode(A),E=u.childNodes;E[y]&&u.removeChild(E[y]),E.length?u.insertBefore(T,E[y]):u.appendChild(T)}}function Y(u,y,f){var v=f.css,A=f.media,T=f.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var te=null,oe=0;function ie(u,y){var f,v,A;if(y.singleton){var T=oe++;f=te||(te=x(y)),v=Z.bind(null,f,T,!1),A=Z.bind(null,f,T,!0)}else f=x(y),v=Y.bind(null,f,y),A=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(f)};return v(u),function(E){if(E){if(E.css===u.css&&E.media===u.media&&E.sourceMap===u.sourceMap)return;v(u=E)}else A()}}m.exports=function(u,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=_());var f=B(u=u||[],y);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<f.length;A++){var T=P(f[A]);c[T].references--}for(var E=B(v,y),ae=0;ae<f.length;ae++){var q=P(f[ae]);c[q].references===0&&(c[q].updater(),c.splice(q,1))}f=E}}}},945:(m,M,S)=>{m.exports=S(79)("./src/clipboard.js")},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},492:(m,M,S)=>{m.exports=S(79)("./src/engine.js")},331:(m,M,S)=>{m.exports=S(79)("./src/enter.js")},181:(m,M,S)=>{m.exports=S(79)("./src/typing.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},209:(m,M,S)=>{m.exports=S(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={id:m,exports:{}};return Gt[m](S,S.exports,J),S.exports}J.n=m=>{var M=m&&m.__esModule?()=>m.default:()=>m;return J.d(M,{a:M}),M},J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},J.nc=void 0;var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{AdjacentListsSupport:()=>gt,DocumentList:()=>rt,DocumentListEditing:()=>st,DocumentListIndentCommand:()=>q,DocumentListProperties:()=>yt,DocumentListPropertiesEditing:()=>Ne,DocumentListPropertiesUtils:()=>$t,DocumentListUtils:()=>D,IndentCommand:()=>Ce,List:()=>Yn,ListEditing:()=>Sn,ListProperties:()=>It,ListPropertiesEditing:()=>K,ListPropertiesUI:()=>jt,ListUI:()=>Ge,ListUtils:()=>xt,TodoDocumentList:()=>_e,TodoDocumentListEditing:()=>xo,TodoList:()=>Qn,TodoListEditing:()=>Ri,TodoListUI:()=>Qi});var m=J(704),M=J(181),S=J(331),p=J(209);class _{constructor(d,I){this._startElement=d,this._referenceIndent=d.getAttribute("listIndent"),this._isForward=I.direction=="forward",this._includeSelf=!!I.includeSelf,this._sameAttributes=(0,p.toArray)(I.sameAttributes||[]),this._sameIndent=!!I.sameIndent,this._lowerIndent=!!I.lowerIndent,this._higherIndent=!!I.higherIndent}static first(d,I){const N=new this(d,I)[Symbol.iterator]();return(0,p.first)(N)}*[Symbol.iterator](){const d=[];for(const{node:I}of l(this._getStartNode(),this._isForward?"forward":"backward")){const N=I.getAttribute("listIndent");if(N<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=N}else if(N>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){d.push(I);continue}}else{if(!this._sameIndent){if(this._higherIndent){d.length&&(yield*d,d.length=0);break}continue}if(this._sameAttributes.some(X=>I.getAttribute(X)!==this._startElement.getAttribute(X)))break}d.length&&(yield*d,d.length=0),yield I}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*l(k,d="forward"){const I=d=="forward",N=[];let X=null;for(;B(k);){let ce=null;if(X){const pe=k.getAttribute("listIndent"),he=X.getAttribute("listIndent");pe>he?N[he]=X:pe<he?(ce=N[pe],N.length=pe):ce=X}yield{node:k,previous:X,previousNodeInList:ce},X=k,k=I?k.nextSibling:k.previousSibling}}class c{constructor(d){this._listHead=d}[Symbol.iterator](){return l(this._listHead,"forward")}}class P{static next(){return(0,p.uid)()}}function B(k){return!!k&&k.is("element")&&k.hasAttribute("listItemId")}function x(k,d={}){return[...h(k,{...d,direction:"backward"}),...h(k,{...d,direction:"forward"})]}function h(k,d={}){const I=d.direction=="forward",N=Array.from(new _(k,{...d,includeSelf:I,sameIndent:!0,sameAttributes:"listItemId"}));return I?N:N.reverse()}function j(k){const d=new _(k,{sameIndent:!0,sameAttributes:"listType"}),I=new _(k,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"});return[...Array.from(d).reverse(),...I]}function Z(k){return!_.first(k,{sameIndent:!0,sameAttributes:"listItemId"})}function Y(k){return!_.first(k,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function te(k,d={}){k=(0,p.toArray)(k);const I=d.withNested!==!1,N=new Set;for(const X of k)for(const ce of x(X,{higherIndent:I}))N.add(ce);return A(N)}function oe(k){k=(0,p.toArray)(k);const d=new Set;for(const I of k)for(const N of j(I))d.add(N);return A(d)}function ie(k,d){const I=h(k,{direction:"forward"}),N=P.next();for(const X of I)d.setAttribute("listItemId",N,X);return I}function u(k,d,I){const N={};for(const[ce,pe]of d.getAttributes())ce.startsWith("list")&&(N[ce]=pe);const X=h(k,{direction:"forward"});for(const ce of X)I.setAttributes(N,ce);return X}function y(k,d,{expand:I,indentBy:N=1}={}){k=(0,p.toArray)(k);const X=I?te(k):k;for(const ce of X){const pe=ce.getAttribute("listIndent")+N;pe<0?f(ce,d):d.setAttribute("listIndent",pe,ce)}return X}function f(k,d){k=(0,p.toArray)(k);for(const I of k)I.is("element","listItem")&&d.rename(I,"paragraph");for(const I of k)for(const N of I.getAttributeKeys())N.startsWith("list")&&d.removeAttribute(N,I);return k}function v(k){if(!k.length)return!1;const d=k[0].getAttribute("listItemId");return!!d&&!k.some(I=>I.getAttribute("listItemId")!=d)}function A(k){return Array.from(k).filter(d=>d.root.rootName!=="$graveyard").sort((d,I)=>d.index-I.index)}function T(k){const d=k.document.selection.getSelectedElement();return d&&k.schema.isObject(d)&&k.schema.isBlock(d)?d:null}function E(k,d){return d.checkChild(k.parent,"listItem")&&d.checkChild(k,"$text")&&!d.isObject(k)}function ae(k,d,I){return h(d,{direction:"forward"}).pop().index>k.index?u(k,d,I):[]}class q extends m.Command{constructor(d,I){super(d),this._direction=I}refresh(){this.isEnabled=this._checkEnabled()}execute(){const d=this.editor.model,I=z(d.document.selection);d.change(N=>{const X=[];v(I)&&!Z(I[0])?(this._direction=="forward"&&X.push(...y(I,N)),X.push(...ie(I[0],N))):this._direction=="forward"?X.push(...y(I,N,{expand:!0})):X.push(...function(ce,pe){const he=te(ce=(0,p.toArray)(ce)),ve=new Set,Re=Math.min(...he.map(Ye=>Ye.getAttribute("listIndent"))),We=new Map;for(const Ye of he)We.set(Ye,_.first(Ye,{lowerIndent:!0}));for(const Ye of he){if(ve.has(Ye))continue;ve.add(Ye);const pt=Ye.getAttribute("listIndent")-1;if(pt<0)f(Ye,pe);else{if(Ye.getAttribute("listIndent")==Re){const Tt=ae(Ye,We.get(Ye),pe);for(const Pt of Tt)ve.add(Pt);if(Tt.length)continue}pe.setAttribute("listIndent",pt,Ye)}}return A(ve)}(I,N));for(const ce of X){if(!ce.hasAttribute("listType"))continue;const pe=_.first(ce,{sameIndent:!0});pe&&N.setAttribute("listType",pe.getAttribute("listType"),ce)}this._fireAfterExecute(X)})}_fireAfterExecute(d){this.fire("afterExecute",A(new Set(d)))}_checkEnabled(){let d=z(this.editor.model.document.selection),I=d[0];if(!I)return!1;if(this._direction=="backward"||v(d)&&!Z(d[0]))return!0;d=te(d),I=d[0];const N=_.first(I,{sameIndent:!0});return!!N&&N.getAttribute("listType")==I.getAttribute("listType")}}function z(k){const d=Array.from(k.getSelectedBlocks()),I=d.findIndex(N=>!B(N));return I!=-1&&(d.length=I),d}class b extends m.Command{constructor(d,I){super(d),this.type=I}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(d={}){const I=this.editor.model,N=I.document,X=T(I),ce=Array.from(N.selection.getSelectedBlocks()).filter(he=>I.schema.checkAttribute(he,"listType")||E(he,I.schema)),pe=d.forceValue!==void 0?!d.forceValue:this.value;I.change(he=>{if(pe){const ve=ce[ce.length-1],Re=h(ve,{direction:"forward"}),We=[];Re.length>1&&We.push(...ie(Re[1],he)),We.push(...f(ce,he)),We.push(...function(Ye,pt){const Tt=[];let Pt=Number.POSITIVE_INFINITY;for(const{node:Ct}of l(Ye.nextSibling,"forward")){const ii=Ct.getAttribute("listIndent");if(ii==0)break;ii<Pt&&(Pt=ii);const Jt=ii-Pt;pt.setAttribute("listIndent",Jt,Ct),Tt.push(Ct)}return Tt}(ve,he)),this._fireAfterExecute(We)}else if((X||N.selection.isCollapsed)&&B(ce[0])){const ve=j(X||ce[0]);for(const Re of ve)he.setAttribute("listType",this.type,Re);this._fireAfterExecute(ve)}else{const ve=[];for(const Re of ce)if(Re.hasAttribute("listType"))for(const We of te(Re,{withNested:!1}))We.getAttribute("listType")!=this.type&&(he.setAttribute("listType",this.type,We),ve.push(We));else!Re.is("element","listItem")&&E(Re,I.schema)&&he.rename(Re,"listItem"),he.setAttributes({listIndent:0,listItemId:P.next(),listType:this.type},Re),ve.push(Re);this._fireAfterExecute(ve)}})}_fireAfterExecute(d){this.fire("afterExecute",A(new Set(d)))}_getValue(){const d=this.editor.model.document.selection,I=Array.from(d.getSelectedBlocks());if(!I.length)return!1;for(const N of I)if(N.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const d=this.editor.model,I=d.schema,N=d.document.selection,X=Array.from(N.getSelectedBlocks());if(!X.length)return!1;if(this.value)return!0;for(const ce of X)if(I.checkAttribute(ce,"listType")||E(ce,I))return!0;return!1}}class V extends m.Command{constructor(d,I){super(d),this._direction=I}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:d=!1}={}){const I=this.editor.model,N=I.document.selection,X=[];I.change(ce=>{const{firstElement:pe,lastElement:he}=this._getMergeSubjectElements(N,d),ve=pe.getAttribute("listIndent")||0,Re=he.getAttribute("listIndent"),We=he.getAttribute("listItemId");if(ve!=Re){const pt=(Ye=he,Array.from(new _(Ye,{direction:"forward",higherIndent:!0})));X.push(...y([he,...pt],ce,{indentBy:ve-Re,expand:ve<Re}))}var Ye;if(d){let pt=N;N.isCollapsed&&(pt=ce.createSelection(ce.createRange(ce.createPositionAt(pe,"end"),ce.createPositionAt(he,0)))),I.deleteContent(pt,{doNotResetEntireContent:N.isCollapsed});const Tt=pt.getLastPosition().parent,Pt=Tt.nextSibling;X.push(Tt),Pt&&Pt!==he&&Pt.getAttribute("listItemId")==We&&X.push(...u(Pt,Tt,ce))}else X.push(...u(he,pe,ce));this._fireAfterExecute(X)})}_fireAfterExecute(d){this.fire("afterExecute",A(new Set(d)))}_checkEnabled(){const d=this.editor.model,I=d.document.selection,N=T(d);if(I.isCollapsed||N){const X=N||I.getFirstPosition().parent;if(!B(X))return!1;const ce=this._direction=="backward"?X.previousSibling:X.nextSibling;if(!ce||v([X,ce]))return!1}else{const X=I.getLastPosition(),ce=I.getFirstPosition();if(X.parent===ce.parent||!B(X.parent))return!1}return!0}_getMergeSubjectElements(d,I){const N=T(this.editor.model);let X,ce;if(d.isCollapsed||N){const pe=N||d.getFirstPosition().parent,he=Z(pe);this._direction=="backward"?(ce=pe,X=he&&!I?_.first(pe,{sameIndent:!0,lowerIndent:!0}):pe.previousSibling):(X=pe,ce=pe.nextSibling)}else X=d.getFirstPosition().parent,ce=d.getLastPosition().parent;return{firstElement:X,lastElement:ce}}}class $ extends m.Command{constructor(d,I){super(d),this._direction=I}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(d=>{const I=ie(this._getStartBlock(),d);this._fireAfterExecute(I)})}_fireAfterExecute(d){this.fire("afterExecute",A(new Set(d)))}_checkEnabled(){const d=this.editor.model.document.selection,I=this._getStartBlock();return d.isCollapsed&&B(I)&&!Z(I)}_getStartBlock(){const d=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?d:d.nextSibling}}class D extends m.Plugin{static get pluginName(){return"DocumentListUtils"}expandListBlocksToCompleteList(d){return oe(d)}isFirstBlockOfListItem(d){return Z(d)}isListItemBlock(d){return B(d)}expandListBlocksToCompleteItems(d,I={}){return te(d,I)}}var re=J(492);function Ee(k){return k.is("element","ol")||k.is("element","ul")}function je(k){return k.is("element","li")}function Ie(k,d,I,N=lt(I,d)){return k.createAttributeElement(mt(I),null,{priority:2*d/100-100,id:N})}function De(k,d,I){return k.createAttributeElement("li",null,{priority:(2*d+1)/100-100,id:I})}function mt(k){return k=="numbered"?"ol":"ul"}function lt(k,d){return`list-${k}-${d}`}function ut(k,d){const I=k.nodeBefore;if(B(I)){let N=I;for(const{node:X}of l(N,"backward"))if(N=X,d.has(N))return;d.set(I,N)}else{const N=k.nodeAfter;B(N)&&d.set(N,N)}}function dt(){return(k,d,I)=>{const{writer:N,schema:X}=I;if(!d.modelRange)return;const ce=Array.from(d.modelRange.getItems({shallow:!0})).filter(Ye=>X.checkAttribute(Ye,"listItemId"));if(!ce.length)return;const pe=P.next(),he=function(Ye){let pt=0,Tt=Ye.parent;for(;Tt;){if(je(Tt))pt++;else{const Pt=Tt.previousSibling;Pt&&je(Pt)&&pt++}Tt=Tt.parent}return pt}(d.viewItem);let ve=d.viewItem.parent&&d.viewItem.parent.is("element","ol")?"numbered":"bulleted";const Re=ce[0].getAttribute("listType");Re&&(ve=Re);const We={listItemId:pe,listIndent:he,listType:ve};for(const Ye of ce)Ye.hasAttribute("listItemId")||N.setAttributes(We,Ye);ce.length>1&&ce[1].getAttribute("listItemId")!=We.listItemId&&I.keepEmptyElement(ce[0])}}function _t(){return(k,d,I)=>{if(!I.consumable.test(d.viewItem,{name:!0}))return;const N=new re.UpcastWriter(d.viewItem.document);for(const X of Array.from(d.viewItem.getChildren()))je(X)||Ee(X)||N.remove(X)}}function bt(k,d,I,{dataPipeline:N}={}){const X=function(ce){return(pe,he)=>{const ve=[];for(const Re of ce)pe.hasAttribute(Re)&&ve.push(`attribute:${Re}`);return!!ve.every(Re=>he.test(pe,Re)!==!1)&&(ve.forEach(Re=>he.consume(pe,Re)),!0)}}(k);return(ce,pe,he)=>{const{writer:ve,mapper:Re,consumable:We}=he,Ye=pe.item;if(!k.includes(pe.attributeKey)||!X(Ye,We))return;const pt=function(Pt,Ct,ii){const Jt=ii.createRangeOn(Pt);return Ct.toViewRange(Jt).getTrimmed().end.nodeBefore}(Ye,Re,I);(function(Pt,Ct,ii){for(;Pt.parent.is("attributeElement")&&Pt.parent.getCustomProperty("listItemWrapper");)Ct.unwrap(Ct.createRangeIn(Pt.parent),Pt.parent);const Jt=Ct.createPositionBefore(Pt).getWalker({direction:"backward"}),bi=[];for(const{item:Ei}of Jt){if(Ei.is("element")&&ii.toModelElement(Ei))break;Ei.is("element")&&Ei.getCustomProperty("listItemMarker")&&bi.push(Ei)}for(const Ei of bi)Ct.remove(Ei)})(pt,ve,Re),function(Pt,Ct){let ii=Pt.parent;for(;ii.is("attributeElement")&&["ul","ol","li"].includes(ii.name);){const Jt=ii.parent;Ct.unwrap(Ct.createRangeOn(Pt),ii),ii=Jt}}(pt,ve);const Tt=function(Pt,Ct,ii,Jt,{dataPipeline:bi}){let Ei=Jt.createRangeOn(Ct);if(!Z(Pt))return Ei;for(const Hi of ii){if(Hi.scope!="itemMarker")continue;const sn=Hi.createElement(Jt,Pt,{dataPipeline:bi});if(!sn||(Jt.setCustomProperty("listItemMarker",!0,sn),Jt.insert(Ei.start,sn),Ei=Jt.createRange(Jt.createPositionBefore(sn),Jt.createPositionAfter(Ct)),!Hi.createWrapperElement||!Hi.canWrapElement))continue;const mn=Hi.createWrapperElement(Jt,Pt,{dataPipeline:bi});Jt.setCustomProperty("listItemWrapper",!0,mn),Hi.canWrapElement(Pt)?Ei=Jt.wrap(Ei,mn):(Ei=Jt.wrap(Jt.createRangeOn(sn),mn),Ei=Jt.createRange(Ei.start,Jt.createPositionAfter(Ct)))}return Ei}(Ye,pt,d,ve,{dataPipeline:N});(function(Pt,Ct,ii,Jt){if(!Pt.hasAttribute("listIndent"))return;const bi=Pt.getAttribute("listIndent");let Ei=Pt;for(let Hi=bi;Hi>=0;Hi--){const sn=De(Jt,Hi,Ei.getAttribute("listItemId")),mn=Ie(Jt,Hi,Ei.getAttribute("listType"));for(const Cn of ii)Cn.scope!="list"&&Cn.scope!="item"||!Ei.hasAttribute(Cn.attributeName)||Cn.setAttributeOnDowncast(Jt,Ei.getAttribute(Cn.attributeName),Cn.scope=="list"?mn:sn);if(Ct=Jt.wrap(Ct,sn),Ct=Jt.wrap(Ct,mn),Hi==0||(Ei=_.first(Ei,{lowerIndent:!0}),!Ei))break}})(Ye,Tt,d,ve)}}function Qe(k,{dataPipeline:d}={}){return(I,{writer:N})=>{if(!ft(I,k))return null;if(!d)return N.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const X=N.createContainerElement("p");return N.setCustomProperty("dataPipeline:transparentRendering",!0,X),X}}function ft(k,d,I=x(k)){if(!B(k))return!1;for(const N of k.getAttributeKeys())if(!N.startsWith("selection:")&&!d.includes(N))return!1;return I.length<2}var Ve=J(945),Te=J(62),Q=J.n(Te),xe=J(118),Oe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Q()(xe.Z,Oe),xe.Z.locals;var Je=J(479),Ze={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Q()(Je.Z,Ze),Je.Z.locals;const tt=["listType","listIndent","listItemId"];class st extends m.Plugin{static get pluginName(){return"DocumentListEditing"}static get requires(){return[S.Enter,M.Delete,D,Ve.ClipboardPipeline]}constructor(d){super(d),this._downcastStrategies=[],d.config.define("list.multiBlock",!0)}init(){const d=this.editor,I=d.model,N=d.config.get("list.multiBlock");if(d.plugins.has("ListEditing"))throw new p.CKEditorError("document-list-feature-conflict",this,{conflictPlugin:"ListEditing"});I.schema.register("$listItem",{allowAttributes:tt}),N?(I.schema.extend("$container",{allowAttributesOf:"$listItem"}),I.schema.extend("$block",{allowAttributesOf:"$listItem"}),I.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):I.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const X of tt)I.schema.setAttributeProperties(X,{copyOnReplace:!0});d.commands.add("numberedList",new b(d,"numbered")),d.commands.add("bulletedList",new b(d,"bulleted")),d.commands.add("indentList",new q(d,"forward")),d.commands.add("outdentList",new q(d,"backward")),d.commands.add("splitListItemBefore",new $(d,"before")),d.commands.add("splitListItemAfter",new $(d,"after")),N&&(d.commands.add("mergeListItemBackward",new V(d,"backward")),d.commands.add("mergeListItemForward",new V(d,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration()}afterInit(){const d=this.editor.commands,I=d.get("indent"),N=d.get("outdent");I&&I.registerChildCommand(d.get("indentList"),{priority:"high"}),N&&N.registerChildCommand(d.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(d){this._downcastStrategies.push(d)}getListAttributeNames(){return[...tt,...this._downcastStrategies.map(d=>d.attributeName)]}_setupDeleteIntegration(){const d=this.editor,I=d.commands.get("mergeListItemBackward"),N=d.commands.get("mergeListItemForward");this.listenTo(d.editing.view.document,"delete",(X,ce)=>{const pe=d.model.document.selection;T(d.model)||d.model.change(()=>{const he=pe.getFirstPosition();if(pe.isCollapsed&&ce.direction=="backward"){if(!he.isAtStart)return;const ve=he.parent;if(!B(ve))return;if(_.first(ve,{sameAttributes:"listType",sameIndent:!0})||ve.getAttribute("listIndent")!==0){if(!I||!I.isEnabled)return;I.execute({shouldMergeOnBlocksContentLevel:Lt(d.model,"backward")})}else Y(ve)||d.execute("splitListItemAfter"),d.execute("outdentList");ce.preventDefault(),X.stop()}else{if(pe.isCollapsed&&!pe.getLastPosition().isAtEnd||!N||!N.isEnabled)return;N.execute({shouldMergeOnBlocksContentLevel:Lt(d.model,"forward")}),ce.preventDefault(),X.stop()}})},{context:"li"})}_setupEnterIntegration(){const d=this.editor,I=d.model,N=d.commands,X=N.get("enter");this.listenTo(d.editing.view.document,"enter",(ce,pe)=>{const he=I.document,ve=he.selection.getFirstPosition().parent;if(he.selection.isCollapsed&&B(ve)&&ve.isEmpty&&!pe.isSoft){const Re=Z(ve),We=Y(ve);Re&&We?(d.execute("outdentList"),pe.preventDefault(),ce.stop()):Re&&!We?(d.execute("splitListItemAfter"),pe.preventDefault(),ce.stop()):We&&(d.execute("splitListItemBefore"),pe.preventDefault(),ce.stop())}},{context:"li"}),this.listenTo(X,"afterExecute",()=>{const ce=N.get("splitListItemBefore");ce.refresh(),ce.isEnabled&&x(d.model.document.selection.getLastPosition().parent).length===2&&ce.execute()})}_setupTabIntegration(){const d=this.editor;this.listenTo(d.editing.view.document,"tab",(I,N)=>{const X=N.shiftKey?"outdentList":"indentList";this.editor.commands.get(X).isEnabled&&(d.execute(X),N.stopPropagation(),N.preventDefault(),I.stop())},{context:"li"})}_setupConversion(){const d=this.editor,I=d.model,N=this.getListAttributeNames(),X=d.config.get("list.multiBlock"),ce=X?"paragraph":"listItem";d.conversion.for("upcast").elementToElement({view:"li",model:(pe,{writer:he})=>he.createElement(ce,{listType:""})}).elementToElement({view:"p",model:(pe,{writer:he})=>pe.parent&&pe.parent.is("element","li")?he.createElement(ce,{listType:""}):null,converterPriority:"high"}).add(pe=>{pe.on("element:li",dt()),pe.on("element:ul",_t(),{priority:"high"}),pe.on("element:ol",_t(),{priority:"high"})}),X||d.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),d.conversion.for("editingDowncast").elementToElement({model:ce,view:Qe(N),converterPriority:"high"}).add(pe=>{pe.on("attribute",bt(N,this._downcastStrategies,I))}),d.conversion.for("dataDowncast").elementToElement({model:ce,view:Qe(N,{dataPipeline:!0}),converterPriority:"high"}).add(pe=>{pe.on("attribute",bt(N,this._downcastStrategies,I,{dataPipeline:!0}))}),this.listenTo(I.document,"change:data",function(pe,he,ve,Re){return()=>{const Tt=pe.document.differ.getChanges(),Pt=[],Ct=new Map,ii=new Set;for(const Jt of Tt)if(Jt.type=="insert"&&Jt.name!="$text")ut(Jt.position,Ct),Jt.attributes.has("listItemId")?ii.add(Jt.position.nodeAfter):ut(Jt.position.getShiftedBy(Jt.length),Ct);else if(Jt.type=="remove"&&Jt.attributes.has("listItemId"))ut(Jt.position,Ct);else if(Jt.type=="attribute"){const bi=Jt.range.start.nodeAfter;ve.includes(Jt.attributeKey)?(ut(Jt.range.start,Ct),Jt.attributeNewValue===null?(ut(Jt.range.start.getShiftedBy(1),Ct),Ye(bi)&&Pt.push(bi)):ii.add(bi)):B(bi)&&Ye(bi)&&Pt.push(bi)}for(const Jt of Ct.values())Pt.push(...We(Jt,ii));for(const Jt of new Set(Pt))he.reconvertItem(Jt)};function We(Tt,Pt){const Ct=[],ii=new Set,Jt=[];for(const{node:bi,previous:Ei}of l(Tt,"forward")){if(ii.has(bi))continue;const Hi=bi.getAttribute("listIndent");Ei&&Hi<Ei.getAttribute("listIndent")&&(Jt.length=Hi+1),Jt[Hi]=Object.fromEntries(Array.from(bi.getAttributes()).filter(([mn])=>ve.includes(mn)));const sn=h(bi,{direction:"forward"});for(const mn of sn)ii.add(mn),(Ye(mn,sn)||pt(mn,Jt,Pt))&&Ct.push(mn)}return Ct}function Ye(Tt,Pt){const Ct=he.mapper.toViewElement(Tt);if(!Ct)return!1;if(Re.fire("checkElement",{modelElement:Tt,viewElement:Ct}))return!0;if(!Tt.is("element","paragraph")&&!Tt.is("element","listItem"))return!1;const ii=ft(Tt,ve,Pt);return!(!ii||!Ct.is("element","p"))||!(ii||!Ct.is("element","span"))}function pt(Tt,Pt,Ct){if(Ct.has(Tt))return!1;const ii=he.mapper.toViewElement(Tt);let Jt=Pt.length-1;for(let bi=ii.parent;!bi.is("editableElement");bi=bi.parent){const Ei=je(bi),Hi=Ee(bi);if(!Hi&&!Ei)continue;const sn="checkAttributes:"+(Ei?"item":"list");if(Re.fire(sn,{viewElement:bi,modelAttributes:Pt[Jt]}))break;if(Hi&&(Jt--,Jt<0))return!1}return!0}}(I,d.editing,N,this),{priority:"high"}),this.on("checkAttributes:item",(pe,{viewElement:he,modelAttributes:ve})=>{he.id!=ve.listItemId&&(pe.return=!0,pe.stop())}),this.on("checkAttributes:list",(pe,{viewElement:he,modelAttributes:ve})=>{he.name==mt(ve.listType)&&he.id==lt(ve.listType,ve.listIndent)||(pe.return=!0,pe.stop())})}_setupModelPostFixing(){const d=this.editor.model,I=this.getListAttributeNames();d.document.registerPostFixer(N=>function(X,ce,pe,he){const ve=X.document.differ.getChanges(),Re=new Map,We=he.editor.config.get("list.multiBlock");let Ye=!1;for(const Tt of ve){if(Tt.type=="insert"&&Tt.name!="$text"){const Pt=Tt.position.nodeAfter;if(!X.schema.checkAttribute(Pt,"listItemId"))for(const Ct of Array.from(Pt.getAttributeKeys()))pe.includes(Ct)&&(ce.removeAttribute(Ct,Pt),Ye=!0);ut(Tt.position,Re),Tt.attributes.has("listItemId")||ut(Tt.position.getShiftedBy(Tt.length),Re);for(const{item:Ct,previousPosition:ii}of X.createRangeIn(Pt))B(Ct)&&ut(ii,Re)}else Tt.type=="remove"?ut(Tt.position,Re):Tt.type=="attribute"&&pe.includes(Tt.attributeKey)&&(ut(Tt.range.start,Re),Tt.attributeNewValue===null&&ut(Tt.range.start.getShiftedBy(1),Re));if(!We&&Tt.type=="attribute"&&tt.includes(Tt.attributeKey)){const Pt=Tt.range.start.nodeAfter;Tt.attributeNewValue===null&&Pt&&Pt.is("element","listItem")?(ce.rename(Pt,"paragraph"),Ye=!0):Tt.attributeOldValue===null&&Pt&&Pt.is("element")&&Pt.name!="listItem"&&(ce.rename(Pt,"listItem"),Ye=!0)}}const pt=new Set;for(const Tt of Re.values())Ye=he.fire("postFixer",{listNodes:new c(Tt),listHead:Tt,writer:ce,seenIds:pt})||Ye;return Ye}(d,N,I,this)),this.on("postFixer",(N,{listNodes:X,writer:ce})=>{N.return=function(pe,he){let ve=0,Re=-1,We=null,Ye=!1;for(const{node:pt}of pe){const Tt=pt.getAttribute("listIndent");if(Tt>ve){let Pt;We===null?(We=Tt-ve,Pt=ve):(We>Tt&&(We=Tt),Pt=Tt-We),Pt>Re+1&&(Pt=Re+1),he.setAttribute("listIndent",Pt,pt),Ye=!0,Re=Pt}else We=null,ve=Tt+1,Re=Tt}return Ye}(X,ce)||N.return},{priority:"high"}),this.on("postFixer",(N,{listNodes:X,writer:ce,seenIds:pe})=>{N.return=function(he,ve,Re){const We=new Set;let Ye=!1;for(const{node:pt}of he){if(We.has(pt))continue;let Tt=pt.getAttribute("listType"),Pt=pt.getAttribute("listItemId");if(ve.has(Pt)&&(Pt=P.next()),ve.add(Pt),pt.is("element","listItem"))pt.getAttribute("listItemId")!=Pt&&(Re.setAttribute("listItemId",Pt,pt),Ye=!0);else for(const Ct of h(pt,{direction:"forward"}))We.add(Ct),Ct.getAttribute("listType")!=Tt&&(Pt=P.next(),Tt=Ct.getAttribute("listType")),Ct.getAttribute("listItemId")!=Pt&&(Re.setAttribute("listItemId",Pt,Ct),Ye=!0)}return Ye}(X,pe,ce)||N.return},{priority:"high"})}_setupClipboardIntegration(){const d=this.editor.model,I=this.editor.plugins.get("ClipboardPipeline");this.listenTo(d,"insertContent",function(N){return(X,[ce,pe])=>{const he=ce.is("documentFragment")?Array.from(ce.getChildren()):[ce];if(!he.length)return;const ve=(pe?N.createSelection(pe):N.document.selection).getFirstPosition();let Re;if(B(ve.parent))Re=ve.parent;else{if(!B(ve.nodeBefore))return;Re=ve.nodeBefore}N.change(We=>{const Ye=Re.getAttribute("listType"),pt=Re.getAttribute("listIndent"),Tt=he[0].getAttribute("listIndent")||0,Pt=Math.max(pt-Tt,0);for(const Ct of he){const ii=B(Ct);Re.is("element","listItem")&&Ct.is("element","paragraph")&&We.rename(Ct,"listItem"),We.setAttributes({listIndent:(ii?Ct.getAttribute("listIndent"):0)+Pt,listItemId:ii?Ct.getAttribute("listItemId"):P.next(),listType:Ye},Ct)}})}}(d),{priority:"high"}),this.listenTo(I,"outputTransformation",(N,X)=>{d.change(ce=>{const pe=Array.from(X.content.getChildren()),he=pe[pe.length-1];if(pe.length>1&&he.is("element")&&he.isEmpty&&pe.slice(0,-1).every(B)&&ce.remove(he),X.method=="copy"||X.method=="cut"){const ve=Array.from(X.content.getChildren());v(ve)&&f(ve,ce)}})})}}function Lt(k,d){const I=k.document.selection;if(!I.isCollapsed)return!T(k);if(d==="forward")return!0;const N=I.getFirstPosition().parent,X=N.previousSibling;return!k.schema.isObject(X)&&(!!X.isEmpty||v([N,X]))}var Ft=J(273);function Yt(k,d){const I=d.mapper,N=d.writer,X=k.getAttribute("listType")=="numbered"?"ol":"ul",ce=function(he){const ve=he.createContainerElement("li");return ve.getFillerOffset=ue,ve}(N),pe=N.createContainerElement(X,null);return N.insert(N.createPositionAt(pe,0),ce),I.bindElements(k,ce),ce}function ui(k,d,I,N){const X=d.parent,ce=I.mapper,pe=I.writer;let he=ce.toViewPosition(N.createPositionBefore(k));const ve=hi(k.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:k.getAttribute("listIndent")}),Re=k.previousSibling;if(ve&&ve.getAttribute("listIndent")==k.getAttribute("listIndent")){const We=ce.toViewElement(ve);he=pe.breakContainer(pe.createPositionAfter(We))}else if(Re&&Re.name=="listItem"){he=ce.toViewPosition(N.createPositionAt(Re,"end"));const We=ce.findMappedViewAncestor(he),Ye=Oi(We);he=Ye?pe.createPositionBefore(Ye):pe.createPositionAt(We,"end")}else he=ce.toViewPosition(N.createPositionBefore(k));if(he=ti(he),pe.insert(he,X),Re&&Re.name=="listItem"){const We=ce.toViewElement(Re),Ye=pe.createRange(pe.createPositionAt(We,0),he).getWalker({ignoreElementEnd:!0});for(const pt of Ye)if(pt.item.is("element","li")){const Tt=pe.breakContainer(pe.createPositionBefore(pt.item)),Pt=pt.item.parent,Ct=pe.createPositionAt(d,"end");Nt(pe,Ct.nodeBefore,Ct.nodeAfter),pe.move(pe.createRangeOn(Pt),Ct),Ye._position=Tt}}else{const We=X.nextSibling;if(We&&(We.is("element","ul")||We.is("element","ol"))){let Ye=null;for(const pt of We.getChildren()){const Tt=ce.toModelElement(pt);if(!(Tt&&Tt.getAttribute("listIndent")>k.getAttribute("listIndent")))break;Ye=pt}Ye&&(pe.breakContainer(pe.createPositionAfter(Ye)),pe.move(pe.createRangeOn(Ye.parent),pe.createPositionAt(d,"end")))}}Nt(pe,X,X.nextSibling),Nt(pe,X.previousSibling,X)}function Nt(k,d,I){return!d||!I||d.name!="ul"&&d.name!="ol"||d.name!=I.name||d.getAttribute("class")!==I.getAttribute("class")?null:k.mergeContainers(k.createPositionAfter(d))}function ti(k){return k.getLastMatchingPosition(d=>d.item.is("uiElement"))}function hi(k,d){const I=!!d.sameIndent,N=!!d.smallerIndent,X=d.listIndent;let ce=k;for(;ce&&ce.name=="listItem";){const pe=ce.getAttribute("listIndent");if(I&&X==pe||N&&X>pe)return ce;ce=d.direction==="forward"?ce.nextSibling:ce.previousSibling}return null}function Ci(k,d,I,N){k.ui.componentFactory.add(d,X=>{const ce=k.commands.get(d),pe=new Ft.ButtonView(X);return pe.set({label:I,icon:N,tooltip:!0,isToggleable:!0}),pe.bind("isOn","isEnabled").to(ce,"value","isEnabled"),pe.on("execute",()=>{k.execute(d),k.editing.view.focus()}),pe})}function Oi(k){for(const d of k.getChildren())if(d.name=="ul"||d.name=="ol")return d;return null}function Di(k,d){const I=[],N=k.parent,X={ignoreElementEnd:!1,startPosition:k,shallow:!0,direction:d},ce=N.getAttribute("listIndent"),pe=[...new re.TreeWalker(X)].filter(he=>he.item.is("element")).map(he=>he.item);for(const he of pe){if(!he.is("element","listItem")||he.getAttribute("listIndent")<ce)break;if(!(he.getAttribute("listIndent")>ce)){if(he.getAttribute("listType")!==N.getAttribute("listType")||he.getAttribute("listStyle")!==N.getAttribute("listStyle")||he.getAttribute("listReversed")!==N.getAttribute("listReversed")||he.getAttribute("listStart")!==N.getAttribute("listStart"))break;d==="backward"?I.unshift(he):I.push(he)}}return I}function Vi(k){let d=[...k.document.selection.getSelectedBlocks()].filter(I=>I.is("element","listItem")).map(I=>{const N=k.change(X=>X.createPositionAt(I,0));return[...Di(N,"backward"),...Di(N,"forward")]}).flat();return d=[...new Set(d)],d}const Pi=["disc","circle","square"],$i=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function at(k){return Pi.includes(k)?"bulleted":$i.includes(k)?"numbered":null}function ue(){const k=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||k?0:re.getFillerOffset.call(this)}const ye='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',Le='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class Ge extends m.Plugin{static get pluginName(){return"ListUI"}init(){const d=this.editor.t;Ci(this.editor,"numberedList",d("Numbered List"),ye),Ci(this.editor,"bulletedList",d("Bulleted List"),Le)}}class rt extends m.Plugin{static get requires(){return[st,Ge]}static get pluginName(){return"DocumentList"}}class gt extends m.Plugin{static get pluginName(){return"AdjacentListsSupport"}init(){const d=this.editor;d.model.schema.register("listSeparator",{allowWhere:"$block",isBlock:!0}),d.conversion.for("upcast").add(I=>{I.on("element:ol",Ot()),I.on("element:ul",Ot())}).elementToElement({model:"listSeparator",view:"ck-list-separator"}),d.conversion.for("editingDowncast").elementToElement({model:"listSeparator",view:{name:"div",classes:["ck-list-separator","ck-hidden"]}}),d.conversion.for("dataDowncast").elementToElement({model:"listSeparator",view:(I,N)=>{const X=N.writer.createContainerElement("ck-list-separator");return N.writer.setCustomProperty("dataPipeline:transparentRendering",!0,X),X.getFillerOffset=()=>null,X}})}}function Ot(){return(k,d,I)=>{const N=d.viewItem,X=N.nextSibling;if(!X||N.name!==X.name)return;d.modelRange||Object.assign(d,I.convertChildren(d.viewItem,d.modelCursor));const ce=I.writer,pe=ce.createElement("listSeparator");if(!I.safeInsert(pe,d.modelCursor))return;const he=I.getSplitParts(pe);d.modelRange=ce.createRange(d.modelRange.start,ce.createPositionAfter(he[he.length-1])),I.updateConversionResult(pe,d)}}class Mt extends m.Command{refresh(){const d=this._getValue();this.value=d,this.isEnabled=d!=null}execute({startIndex:d=1}={}){const I=this.editor.model,N=I.document;let X=Array.from(N.selection.getSelectedBlocks()).filter(ce=>B(ce)&&ce.getAttribute("listType")=="numbered");X=oe(X),I.change(ce=>{for(const pe of X)ce.setAttribute("listStart",d>=0?d:1,pe)})}_getValue(){const d=this.editor.model.document,I=(0,p.first)(d.selection.getSelectedBlocks());return I&&B(I)&&I.getAttribute("listType")=="numbered"?I.getAttribute("listStart"):null}}const Ut={},ri={},oi={},wi=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:k,typeAttribute:d,listType:I}of wi)Ut[k]=I,ri[k]=d,d&&(oi[d]=k);function Ii(){return wi.map(k=>k.listStyle)}function Li(k){return Ut[k]||null}function yi(k){return oi[k]||null}function ji(k){return ri[k]||null}class Ki extends m.Command{constructor(d,I,N){super(d),this.defaultType=I,this._supportedTypes=N}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(d={}){const I=this.editor.model,N=I.document;I.change(X=>{this._tryToConvertItemsToList(d);let ce=Array.from(N.selection.getSelectedBlocks()).filter(pe=>pe.hasAttribute("listType"));if(ce.length){ce=oe(ce);for(const pe of ce)X.setAttribute("listStyle",d.type||this.defaultType,pe)}})}isStyleTypeSupported(d){return!this._supportedTypes||this._supportedTypes.includes(d)}_getValue(){const d=(0,p.first)(this.editor.model.document.selection.getSelectedBlocks());return B(d)?d.getAttribute("listStyle"):null}_checkEnabled(){const d=this.editor,I=d.commands.get("numberedList"),N=d.commands.get("bulletedList");return I.isEnabled||N.isEnabled}_tryToConvertItemsToList(d){if(!d.type)return;const I=Li(d.type);if(!I)return;const N=this.editor,X=`${I}List`;N.commands.get(X).value||N.execute(X)}}class Mi extends m.Command{refresh(){const d=this._getValue();this.value=d,this.isEnabled=d!=null}execute(d={}){const I=this.editor.model,N=I.document;let X=Array.from(N.selection.getSelectedBlocks()).filter(ce=>B(ce)&&ce.getAttribute("listType")=="numbered");X=oe(X),I.change(ce=>{for(const pe of X)ce.setAttribute("listReversed",!!d.reversed,pe)})}_getValue(){const d=this.editor.model.document,I=(0,p.first)(d.selection.getSelectedBlocks());return B(I)&&I.getAttribute("listType")=="numbered"?I.getAttribute("listReversed"):null}}function tn(k){return(d,I,N)=>{const{writer:X,schema:ce,consumable:pe}=N;if(pe.test(I.viewItem,k.viewConsumables)===!1)return;I.modelRange||Object.assign(I,N.convertChildren(I.viewItem,I.modelCursor));let he=!1;for(const ve of I.modelRange.getItems({shallow:!0}))ce.checkAttribute(ve,k.attributeName)&&k.appliesToListItem(ve)&&(ve.hasAttribute(k.attributeName)||(X.setAttribute(k.attributeName,k.getAttributeOnUpcast(I.viewItem),ve),he=!0));he&&pe.consume(I.viewItem,k.viewConsumables)}}class $t extends m.Plugin{static get pluginName(){return"DocumentListPropertiesUtils"}getAllSupportedStyleTypes(){return Ii()}getListTypeFromListStyleType(d){return Li(d)}getListStyleTypeFromTypeAttribute(d){return yi(d)}getTypeAttributeFromListStyleType(d){return ji(d)}}const wn="default";class Ne extends m.Plugin{static get requires(){return[st,$t]}static get pluginName(){return"DocumentListPropertiesEditing"}constructor(d){super(d),d.config.define("list.properties",{styles:!0,startIndex:!1,reversed:!1})}init(){const d=this.editor,I=d.model,N=d.plugins.get(st),X=function(ce){const pe=[];if(ce.styles){const he=typeof ce.styles=="object"&&ce.styles.useAttribute;pe.push({attributeName:"listStyle",defaultValue:wn,viewConsumables:{styles:"list-style-type"},addCommand(ve){let Re=Ii();he&&(Re=Re.filter(We=>!!ji(We))),ve.commands.add("listStyle",new Ki(ve,wn,Re))},appliesToListItem:ve=>ve.getAttribute("listType")=="numbered"||ve.getAttribute("listType")=="bulleted",hasValidAttribute(ve){if(!this.appliesToListItem(ve))return!ve.hasAttribute("listStyle");if(!ve.hasAttribute("listStyle"))return!1;const Re=ve.getAttribute("listStyle");return Re==wn||Li(Re)==ve.getAttribute("listType")},setAttributeOnDowncast(ve,Re,We){if(Re&&Re!==wn){if(!he)return void ve.setStyle("list-style-type",Re,We);{const Ye=ji(Re);if(Ye)return void ve.setAttribute("type",Ye,We)}}ve.removeStyle("list-style-type",We),ve.removeAttribute("type",We)},getAttributeOnUpcast(ve){const Re=ve.getStyle("list-style-type");if(Re)return Re;const We=ve.getAttribute("type");return We?yi(We):wn}})}return ce.reversed&&pe.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(he){he.commands.add("listReversed",new Mi(he))},appliesToListItem:he=>he.getAttribute("listType")=="numbered",hasValidAttribute(he){return this.appliesToListItem(he)==he.hasAttribute("listReversed")},setAttributeOnDowncast(he,ve,Re){ve?he.setAttribute("reversed","reversed",Re):he.removeAttribute("reversed",Re)},getAttributeOnUpcast:he=>he.hasAttribute("reversed")}),ce.startIndex&&pe.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(he){he.commands.add("listStart",new Mt(he))},appliesToListItem:he=>he.getAttribute("listType")=="numbered",hasValidAttribute(he){return this.appliesToListItem(he)==he.hasAttribute("listStart")},setAttributeOnDowncast(he,ve,Re){ve==0||ve>1?he.setAttribute("start",ve,Re):he.removeAttribute("start",Re)},getAttributeOnUpcast(he){const ve=he.getAttribute("start");return ve>=0?ve:1}}),pe}(d.config.get("list.properties"));for(const ce of X)ce.addCommand(d),I.schema.extend("$listItem",{allowAttributes:ce.attributeName}),N.registerDowncastStrategy({scope:"list",attributeName:ce.attributeName,setAttributeOnDowncast(pe,he,ve){ce.setAttributeOnDowncast(pe,he,ve)}});d.conversion.for("upcast").add(ce=>{for(const pe of X)ce.on("element:ol",tn(pe)),ce.on("element:ul",tn(pe))}),N.on("checkAttributes:list",(ce,{viewElement:pe,modelAttributes:he})=>{for(const ve of X)ve.getAttributeOnUpcast(pe)!=he[ve.attributeName]&&(ce.return=!0,ce.stop())}),this.listenTo(d.commands.get("indentList"),"afterExecute",(ce,pe)=>{I.change(he=>{for(const ve of pe)for(const Re of X)Re.appliesToListItem(ve)&&he.setAttribute(Re.attributeName,Re.defaultValue,ve)})}),N.on("postFixer",(ce,{listNodes:pe,writer:he})=>{for(const{node:ve}of pe)for(const Re of X)Re.hasValidAttribute(ve)||(Re.appliesToListItem(ve)?he.setAttribute(Re.attributeName,Re.defaultValue,ve):he.removeAttribute(Re.attributeName,ve),ce.return=!0)}),N.on("postFixer",(ce,{listNodes:pe,writer:he})=>{for(const{node:ve,previousNodeInList:Re}of pe)if(Re&&Re.getAttribute("listType")==ve.getAttribute("listType"))for(const We of X){const{attributeName:Ye}=We;if(!We.appliesToListItem(ve))continue;const pt=Re.getAttribute(Ye);ve.getAttribute(Ye)!=pt&&(he.setAttribute(Ye,pt,ve),ce.return=!0)}})}}var H=J(463),ee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Q()(H.Z,ee),H.Z.locals;class se extends Ft.View{constructor(d,{enabledProperties:I,styleButtonViews:N,styleGridAriaLabel:X}){super(d),this.stylesView=null,this.additionalPropertiesCollapsibleView=null,this.startIndexFieldView=null,this.reversedSwitchButtonView=null,this.focusTracker=new p.FocusTracker,this.keystrokes=new p.KeystrokeHandler,this.focusables=new Ft.ViewCollection;const ce=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new Ft.FocusCycler({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),I.styles?(this.stylesView=this._createStylesView(N,X),this.children.add(this.stylesView)):ce.push("ck-list-properties_without-styles"),(I.startIndex||I.reversed)&&(this._addNumberedListPropertyViews(I),ce.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:ce},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const d of this.stylesView.children)this.stylesView.focusTracker.add(d.element);(0,Ft.addKeyboardHandlingForGrid)({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>p.global.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const d=I=>I.stopPropagation();this.keystrokes.set("arrowright",d),this.keystrokes.set("arrowleft",d),this.keystrokes.set("arrowup",d),this.keystrokes.set("arrowdown",d)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(d,I){const N=new Ft.View(this.locale);return N.children=N.createCollection(),N.children.addMany(d),N.setTemplate({tag:"div",attributes:{"aria-label":I,class:["ck","ck-list-styles-list"]},children:N.children}),N.children.delegate("execute").to(this),N.focus=function(){this.children.first.focus()},N.focusTracker=new p.FocusTracker,N.keystrokes=new p.KeystrokeHandler,N.render(),N.keystrokes.listenTo(N.element),N}_addNumberedListPropertyViews(d){const I=this.locale.t,N=[];d.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),N.push(this.startIndexFieldView)),d.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),N.push(this.reversedSwitchButtonView)),d.styles?(this.additionalPropertiesCollapsibleView=new Ft.CollapsibleView(this.locale,N),this.additionalPropertiesCollapsibleView.set({label:I("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(N,"isEnabled",(...X)=>X.some(ce=>ce)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(X,ce,pe)=>{pe||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(N)}_createStartIndexField(){const d=this.locale.t,I=new Ft.LabeledFieldView(this.locale,Ft.createLabeledInputNumber);return I.set({label:d("Start at"),class:"ck-numbered-list-properties__start-index"}),I.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),I.fieldView.on("input",()=>{const N=I.fieldView.element,X=N.valueAsNumber;Number.isNaN(X)||(N.checkValidity()?this.fire("listStart",{startIndex:X}):I.errorText=d("Start index must be greater than 0."))}),I}_createReversedSwitchButton(){const d=this.locale.t,I=new Ft.SwitchButtonView(this.locale);return I.set({withText:!0,label:d("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),I.delegate("execute").to(this,"listReversed"),I}}var be=J(989),ht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Q()(be.Z,ht),be.Z.locals;class jt extends m.Plugin{static get pluginName(){return"ListPropertiesUI"}init(){const d=this.editor,I=d.locale.t,N=d.config.get("list.properties");N.styles&&d.ui.componentFactory.add("bulletedList",Qt({editor:d,parentCommandName:"bulletedList",buttonLabel:I("Bulleted List"),buttonIcon:Le,styleGridAriaLabel:I("Bulleted list styles toolbar"),styleDefinitions:[{label:I("Toggle the disc list style"),tooltip:I("Disc"),type:"disc",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>'},{label:I("Toggle the circle list style"),tooltip:I("Circle"),type:"circle",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>'},{label:I("Toggle the square list style"),tooltip:I("Square"),type:"square",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>'}]})),(N.styles||N.startIndex||N.reversed)&&d.ui.componentFactory.add("numberedList",Qt({editor:d,parentCommandName:"numberedList",buttonLabel:I("Numbered List"),buttonIcon:ye,styleGridAriaLabel:I("Numbered list styles toolbar"),styleDefinitions:[{label:I("Toggle the decimal list style"),tooltip:I("Decimal"),type:"decimal",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>'},{label:I("Toggle the decimal with leading zero list style"),tooltip:I("Decimal with leading zero"),type:"decimal-leading-zero",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>'},{label:I("Toggle the lower\u2013roman list style"),tooltip:I("Lower\u2013roman"),type:"lower-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:I("Toggle the upper\u2013roman list style"),tooltip:I("Upper-roman"),type:"upper-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:I("Toggle the lower\u2013latin list style"),tooltip:I("Lower-latin"),type:"lower-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>'},{label:I("Toggle the upper\u2013latin list style"),tooltip:I("Upper-latin"),type:"upper-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>'}]}))}}function Qt({editor:k,parentCommandName:d,buttonLabel:I,buttonIcon:N,styleGridAriaLabel:X,styleDefinitions:ce}){const pe=k.commands.get(d);return he=>{const ve=(0,Ft.createDropdown)(he,Ft.SplitButtonView),Re=ve.buttonView;return ve.bind("isEnabled").to(pe),ve.class="ck-list-styles-dropdown",Re.on("execute",()=>{k.execute(d),k.editing.view.focus()}),Re.set({label:I,icon:N,tooltip:!0,isToggleable:!0}),Re.bind("isOn").to(pe,"value",We=>!!We),ve.once("change:isOpen",()=>{const We=function({editor:Ye,dropdownView:pt,parentCommandName:Tt,styleDefinitions:Pt,styleGridAriaLabel:Ct}){const ii=Ye.locale,Jt=Ye.config.get("list.properties");let bi=null;if(Tt!="numberedList"&&(Jt.startIndex=!1,Jt.reversed=!1),Jt.styles){const Hi=Ye.commands.get("listStyle"),sn=function({editor:Cn,listStyleCommand:fo,parentCommandName:qo}){const zo=Cn.locale,er=Cn.commands.get(qo);return({label:bo,type:Jn,icon:Po,tooltip:Fo})=>{const Fn=new Ft.ButtonView(zo);return Fn.set({label:bo,icon:Po,tooltip:Fo}),fo.on("change:value",()=>{Fn.isOn=fo.value===Jn}),Fn.on("execute",()=>{er.value?fo.value!==Jn?Cn.execute("listStyle",{type:Jn}):Cn.execute("listStyle",{type:fo.defaultType}):Cn.model.change(()=>{Cn.execute("listStyle",{type:Jn})})}),Fn}}({editor:Ye,parentCommandName:Tt,listStyleCommand:Hi}),mn=typeof Hi.isStyleTypeSupported=="function"?Cn=>Hi.isStyleTypeSupported(Cn.type):()=>!0;bi=Pt.filter(mn).map(sn)}const Ei=new se(ii,{styleGridAriaLabel:Ct,enabledProperties:Jt,styleButtonViews:bi});if(Jt.styles&&(0,Ft.focusChildOnDropdownOpen)(pt,()=>Ei.stylesView.children.find(Hi=>Hi.isOn)),Jt.startIndex){const Hi=Ye.commands.get("listStart");Ei.startIndexFieldView.bind("isEnabled").to(Hi),Ei.startIndexFieldView.fieldView.bind("value").to(Hi),Ei.on("listStart",(sn,mn)=>Ye.execute("listStart",mn))}if(Jt.reversed){const Hi=Ye.commands.get("listReversed");Ei.reversedSwitchButtonView.bind("isEnabled").to(Hi),Ei.reversedSwitchButtonView.bind("isOn").to(Hi,"value",sn=>!!sn),Ei.on("listReversed",()=>{const sn=Hi.value;Ye.execute("listReversed",{reversed:!sn})})}return Ei.delegate("execute").to(pt),Ei}({editor:k,dropdownView:ve,parentCommandName:d,styleGridAriaLabel:X,styleDefinitions:ce});ve.panelView.children.add(We)}),ve.on("execute",()=>{k.editing.view.focus()}),ve}}class yt extends m.Plugin{static get requires(){return[Ne,jt]}static get pluginName(){return"DocumentListProperties"}}class Ce extends m.Command{constructor(d,I){super(d),this._indentBy=I=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const d=this.editor.model,I=d.document;let N=Array.from(I.selection.getSelectedBlocks());d.change(X=>{const ce=N[N.length-1];let pe=ce.nextSibling;for(;pe&&pe.name=="listItem"&&pe.getAttribute("listIndent")>ce.getAttribute("listIndent");)N.push(pe),pe=pe.nextSibling;this._indentBy<0&&(N=N.reverse());for(const he of N){const ve=he.getAttribute("listIndent")+this._indentBy;ve<0?X.rename(he,"paragraph"):X.setAttribute("listIndent",ve,he)}this.fire("_executeCleanup",N)})}_checkEnabled(){const d=(0,p.first)(this.editor.model.document.selection.getSelectedBlocks());if(!d||!d.is("element","listItem"))return!1;if(this._indentBy>0){const I=d.getAttribute("listIndent"),N=d.getAttribute("listType");let X=d.previousSibling;for(;X&&X.is("element","listItem")&&X.getAttribute("listIndent")>=I;){if(X.getAttribute("listIndent")==I)return X.getAttribute("listType")==N;X=X.previousSibling}return!1}return!0}}class ze extends m.Command{constructor(d,I){super(d),this.type=I}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(d={}){const I=this.editor.model,N=I.document,X=Array.from(N.selection.getSelectedBlocks()).filter(pe=>Ke(pe,I.schema)),ce=d.forceValue!==void 0?!d.forceValue:this.value;I.change(pe=>{if(ce){let he=X[X.length-1].nextSibling,ve=Number.POSITIVE_INFINITY,Re=[];for(;he&&he.name=="listItem"&&he.getAttribute("listIndent")!==0;){const We=he.getAttribute("listIndent");We<ve&&(ve=We);const Ye=We-ve;Re.push({element:he,listIndent:Ye}),he=he.nextSibling}Re=Re.reverse();for(const We of Re)pe.setAttribute("listIndent",We.listIndent,We.element)}if(!ce){let he=Number.POSITIVE_INFINITY;for(const ve of X)ve.is("element","listItem")&&ve.getAttribute("listIndent")<he&&(he=ve.getAttribute("listIndent"));he=he===0?1:he,nt(X,!0,he),nt(X,!1,he)}for(const he of X.reverse())ce&&he.name=="listItem"?pe.rename(he,"paragraph"):ce||he.name=="listItem"?ce||he.name!="listItem"||he.getAttribute("listType")==this.type||pe.setAttribute("listType",this.type,he):(pe.setAttributes({listType:this.type,listIndent:0},he),pe.rename(he,"listItem"));this.fire("_executeCleanup",X)})}_getValue(){const d=(0,p.first)(this.editor.model.document.selection.getSelectedBlocks());return!!d&&d.is("element","listItem")&&d.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const d=this.editor.model.document.selection,I=this.editor.model.schema,N=(0,p.first)(d.getSelectedBlocks());return!!N&&Ke(N,I)}}function nt(k,d,I){const N=d?k[0]:k[k.length-1];if(N.is("element","listItem")){let X=N[d?"previousSibling":"nextSibling"],ce=N.getAttribute("listIndent");for(;X&&X.is("element","listItem")&&X.getAttribute("listIndent")>=I;)ce>X.getAttribute("listIndent")&&(ce=X.getAttribute("listIndent")),X.getAttribute("listIndent")==ce&&k[d?"unshift":"push"](X),X=X[d?"previousSibling":"nextSibling"]}}function Ke(k,d){return d.checkChild(k.parent,"listItem")&&!d.isObject(k)}class xt extends m.Plugin{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(d){return at(d)}getSelectedListItems(d){return Vi(d)}getSiblingNodes(d,I){return Di(d,I)}}function si(k){return(d,I,N)=>{const X=N.consumable;if(!X.test(I.item,"insert")||!X.test(I.item,"attribute:listType")||!X.test(I.item,"attribute:listIndent"))return;X.consume(I.item,"insert"),X.consume(I.item,"attribute:listType"),X.consume(I.item,"attribute:listIndent");const ce=I.item;ui(ce,Yt(ce,N),N,k)}}const ni=(k,d,I)=>{if(!I.consumable.test(d.item,k.name))return;const N=I.mapper.toViewElement(d.item),X=I.writer;X.breakContainer(X.createPositionBefore(N)),X.breakContainer(X.createPositionAfter(N));const ce=N.parent,pe=d.attributeNewValue=="numbered"?"ol":"ul";X.rename(pe,ce)},ki=(k,d,I)=>{I.consumable.consume(d.item,k.name);const N=I.mapper.toViewElement(d.item).parent,X=I.writer;Nt(X,N,N.nextSibling),Nt(X,N.previousSibling,N)},di=(k,d,I)=>{if(I.consumable.test(d.item,k.name)&&d.item.name!="listItem"){let N=I.mapper.toViewPosition(d.range.start);const X=I.writer,ce=[];for(;(N.parent.name=="ul"||N.parent.name=="ol")&&(N=X.breakContainer(N),N.parent.name=="li");){const pe=N,he=X.createPositionAt(N.parent,"end");if(!pe.isEqual(he)){const ve=X.remove(X.createRange(pe,he));ce.push(ve)}N=X.createPositionAfter(N.parent)}if(ce.length>0){for(let pe=0;pe<ce.length;pe++){const he=N.nodeBefore;if(N=X.insert(N,ce[pe]).end,pe>0){const ve=Nt(X,he,he.nextSibling);ve&&ve.parent==he&&N.offset--}}Nt(X,N.nodeBefore,N.nodeAfter)}}},Ti=(k,d,I)=>{const N=I.mapper.toViewPosition(d.position),X=N.nodeBefore,ce=N.nodeAfter;Nt(I.writer,X,ce)},Ni=(k,d,I)=>{if(I.consumable.consume(d.viewItem,{name:!0})){const N=I.writer,X=N.createElement("listItem"),ce=function(ve){let Re=0,We=ve.parent;for(;We;){if(We.is("element","li"))Re++;else{const Ye=We.previousSibling;Ye&&Ye.is("element","li")&&Re++}We=We.parent}return Re}(d.viewItem);N.setAttribute("listIndent",ce,X);const pe=d.viewItem.parent&&d.viewItem.parent.name=="ol"?"numbered":"bulleted";if(N.setAttribute("listType",pe,X),!I.safeInsert(X,d.modelCursor))return;const he=function(ve,Re,We){const{writer:Ye,schema:pt}=We;let Tt=Ye.createPositionAfter(ve);for(const Pt of Re)if(Pt.name=="ul"||Pt.name=="ol")Tt=We.convertItem(Pt,Tt).modelCursor;else{const Ct=We.convertItem(Pt,Ye.createPositionAt(ve,"end")),ii=Ct.modelRange.start.nodeAfter;ii&&ii.is("element")&&!pt.checkChild(ve,ii.name)&&(ve=Ct.modelCursor.parent.is("element","listItem")?Ct.modelCursor.parent:kn(Ct.modelCursor),Tt=Ye.createPositionAfter(ve))}return Tt}(X,d.viewItem.getChildren(),I);d.modelRange=N.createRange(d.modelCursor,he),I.updateConversionResult(X,d)}},Gi=(k,d,I)=>{if(I.consumable.test(d.viewItem,{name:!0})){const N=Array.from(d.viewItem.getChildren());for(const X of N)!(X.is("element","li")||rn(X))&&X._remove()}},on=(k,d,I)=>{if(I.consumable.test(d.viewItem,{name:!0})){if(d.viewItem.childCount===0)return;const N=[...d.viewItem.getChildren()];let X=!1;for(const ce of N)X&&!rn(ce)&&ce._remove(),rn(ce)&&(X=!0)}};function Zi(k){return(d,I)=>{if(I.isPhantom)return;const N=I.modelPosition.nodeBefore;if(N&&N.is("element","listItem")){const X=I.mapper.toViewElement(N),ce=X.getAncestors().find(rn),pe=k.createPositionAt(X,0).getWalker();for(const he of pe){if(he.type=="elementStart"&&he.item.is("element","li")){I.viewPosition=he.previousPosition;break}if(he.type=="elementEnd"&&he.item==ce){I.viewPosition=he.nextPosition;break}}}}}const hn=function(k,[d,I]){const N=this;let X,ce=d.is("documentFragment")?d.getChild(0):d;if(X=I?N.createSelection(I):N.document.selection,ce&&ce.is("element","listItem")){const pe=X.getFirstPosition();let he=null;if(pe.parent.is("element","listItem")?he=pe.parent:pe.nodeBefore&&pe.nodeBefore.is("element","listItem")&&(he=pe.nodeBefore),he){const ve=he.getAttribute("listIndent");if(ve>0)for(;ce&&ce.is("element","listItem");)ce._setAttribute("listIndent",ce.getAttribute("listIndent")+ve),ce=ce.nextSibling}}};function kn(k){const d=new re.TreeWalker({startPosition:k});let I;do I=d.next();while(!I.value.item.is("element","listItem"));return I.value.item}function qn(k,d,I,N,X,ce){const pe=hi(d.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:k}),he=X.mapper,ve=X.writer,Re=pe?pe.getAttribute("listIndent"):null;let We;if(pe)if(Re==k){const Ye=he.toViewElement(pe).parent;We=ve.createPositionAfter(Ye)}else{const Ye=ce.createPositionAt(pe,"end");We=he.toViewPosition(Ye)}else We=I;We=ti(We);for(const Ye of[...N.getChildren()])rn(Ye)&&(We=ve.move(ve.createRangeOn(Ye),We).end,Nt(ve,Ye,Ye.nextSibling),Nt(ve,Ye.previousSibling,Ye))}function rn(k){return k.is("element","ol")||k.is("element","ul")}class Sn extends m.Plugin{static get pluginName(){return"ListEditing"}static get requires(){return[S.Enter,M.Delete,xt]}init(){const d=this.editor;d.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const I=d.data,N=d.editing;var X;d.model.document.registerPostFixer(pe=>function(he,ve){const Re=he.document.differ.getChanges(),We=new Map;let Ye=!1;for(const Ct of Re)if(Ct.type=="insert"&&Ct.name=="listItem")pt(Ct.position);else if(Ct.type=="insert"&&Ct.name!="listItem"){if(Ct.name!="$text"){const ii=Ct.position.nodeAfter;ii.hasAttribute("listIndent")&&(ve.removeAttribute("listIndent",ii),Ye=!0),ii.hasAttribute("listType")&&(ve.removeAttribute("listType",ii),Ye=!0),ii.hasAttribute("listStyle")&&(ve.removeAttribute("listStyle",ii),Ye=!0),ii.hasAttribute("listReversed")&&(ve.removeAttribute("listReversed",ii),Ye=!0),ii.hasAttribute("listStart")&&(ve.removeAttribute("listStart",ii),Ye=!0);for(const Jt of Array.from(he.createRangeIn(ii)).filter(bi=>bi.item.is("element","listItem")))pt(Jt.previousPosition)}pt(Ct.position.getShiftedBy(Ct.length))}else Ct.type=="remove"&&Ct.name=="listItem"?pt(Ct.position):(Ct.type=="attribute"&&Ct.attributeKey=="listIndent"||Ct.type=="attribute"&&Ct.attributeKey=="listType")&&pt(Ct.range.start);for(const Ct of We.values())Tt(Ct),Pt(Ct);return Ye;function pt(Ct){const ii=Ct.nodeBefore;if(ii&&ii.is("element","listItem")){let Jt=ii;if(We.has(Jt))return;for(let bi=Jt.previousSibling;bi&&bi.is("element","listItem");bi=Jt.previousSibling)if(Jt=bi,We.has(Jt))return;We.set(ii,Jt)}else{const Jt=Ct.nodeAfter;Jt&&Jt.is("element","listItem")&&We.set(Jt,Jt)}}function Tt(Ct){let ii=0,Jt=null;for(;Ct&&Ct.is("element","listItem");){const bi=Ct.getAttribute("listIndent");if(bi>ii){let Ei;Jt===null?(Jt=bi-ii,Ei=ii):(Jt>bi&&(Jt=bi),Ei=bi-Jt),ve.setAttribute("listIndent",Ei,Ct),Ye=!0}else Jt=null,ii=Ct.getAttribute("listIndent")+1;Ct=Ct.nextSibling}}function Pt(Ct){let ii=[],Jt=null;for(;Ct&&Ct.is("element","listItem");){const bi=Ct.getAttribute("listIndent");if(Jt&&Jt.getAttribute("listIndent")>bi&&(ii=ii.slice(0,bi+1)),bi!=0)if(ii[bi]){const Ei=ii[bi];Ct.getAttribute("listType")!=Ei&&(ve.setAttribute("listType",Ei,Ct),Ye=!0)}else ii[bi]=Ct.getAttribute("listType");Jt=Ct,Ct=Ct.nextSibling}}}(d.model,pe)),N.mapper.registerViewToModelLength("li",In),I.mapper.registerViewToModelLength("li",In),N.mapper.on("modelToViewPosition",Zi(N.view)),N.mapper.on("viewToModelPosition",(X=d.model,(pe,he)=>{const ve=he.viewPosition,Re=ve.parent,We=he.mapper;if(Re.name=="ul"||Re.name=="ol"){if(ve.isAtEnd){const Ye=We.toModelElement(ve.nodeBefore),pt=We.getModelLength(ve.nodeBefore);he.modelPosition=X.createPositionBefore(Ye).getShiftedBy(pt)}else{const Ye=We.toModelElement(ve.nodeAfter);he.modelPosition=X.createPositionBefore(Ye)}pe.stop()}else if(Re.name=="li"&&ve.nodeBefore&&(ve.nodeBefore.name=="ul"||ve.nodeBefore.name=="ol")){const Ye=We.toModelElement(Re);let pt=1,Tt=ve.nodeBefore;for(;Tt&&rn(Tt);)pt+=We.getModelLength(Tt),Tt=Tt.previousSibling;he.modelPosition=X.createPositionBefore(Ye).getShiftedBy(pt),pe.stop()}})),I.mapper.on("modelToViewPosition",Zi(N.view)),d.conversion.for("editingDowncast").add(pe=>{pe.on("insert",di,{priority:"high"}),pe.on("insert:listItem",si(d.model)),pe.on("attribute:listType:listItem",ni,{priority:"high"}),pe.on("attribute:listType:listItem",ki,{priority:"low"}),pe.on("attribute:listIndent:listItem",function(he){return(ve,Re,We)=>{if(!We.consumable.consume(Re.item,"attribute:listIndent"))return;const Ye=We.mapper.toViewElement(Re.item),pt=We.writer;pt.breakContainer(pt.createPositionBefore(Ye)),pt.breakContainer(pt.createPositionAfter(Ye));const Tt=Ye.parent,Pt=Tt.previousSibling,Ct=pt.createRangeOn(Tt);pt.remove(Ct),Pt&&Pt.nextSibling&&Nt(pt,Pt,Pt.nextSibling),qn(Re.attributeOldValue+1,Re.range.start,Ct.start,Ye,We,he),ui(Re.item,Ye,We,he);for(const ii of Re.item.getChildren())We.consumable.consume(ii,"insert")}}(d.model)),pe.on("remove:listItem",function(he){return(ve,Re,We)=>{const Ye=We.mapper.toViewPosition(Re.position).getLastMatchingPosition(Jt=>!Jt.item.is("element","li")).nodeAfter,pt=We.writer;pt.breakContainer(pt.createPositionBefore(Ye)),pt.breakContainer(pt.createPositionAfter(Ye));const Tt=Ye.parent,Pt=Tt.previousSibling,Ct=pt.createRangeOn(Tt),ii=pt.remove(Ct);Pt&&Pt.nextSibling&&Nt(pt,Pt,Pt.nextSibling),qn(We.mapper.toModelElement(Ye).getAttribute("listIndent")+1,Re.position,Ct.start,Ye,We,he);for(const Jt of pt.createRangeIn(ii).getItems())We.mapper.unbindViewElement(Jt);ve.stop()}}(d.model)),pe.on("remove",Ti,{priority:"low"})}),d.conversion.for("dataDowncast").add(pe=>{pe.on("insert",di,{priority:"high"}),pe.on("insert:listItem",si(d.model))}),d.conversion.for("upcast").add(pe=>{pe.on("element:ul",Gi,{priority:"high"}),pe.on("element:ol",Gi,{priority:"high"}),pe.on("element:li",on,{priority:"high"}),pe.on("element:li",Ni)}),d.model.on("insertContent",hn,{priority:"high"}),d.commands.add("numberedList",new ze(d,"numbered")),d.commands.add("bulletedList",new ze(d,"bulleted")),d.commands.add("indentList",new Ce(d,"forward")),d.commands.add("outdentList",new Ce(d,"backward"));const ce=N.view.document;this.listenTo(ce,"enter",(pe,he)=>{const ve=this.editor.model.document,Re=ve.selection.getLastPosition().parent;ve.selection.isCollapsed&&Re.name=="listItem"&&Re.isEmpty&&(this.editor.execute("outdentList"),he.preventDefault(),pe.stop())},{context:"li"}),this.listenTo(ce,"delete",(pe,he)=>{if(he.direction!=="backward")return;const ve=this.editor.model.document.selection;if(!ve.isCollapsed)return;const Re=ve.getFirstPosition();if(!Re.isAtStart)return;const We=Re.parent;We.name==="listItem"&&(We.previousSibling&&We.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),he.preventDefault(),pe.stop()))},{context:"li"}),this.listenTo(d.editing.view.document,"tab",(pe,he)=>{const ve=he.shiftKey?"outdentList":"indentList";this.editor.commands.get(ve).isEnabled&&(d.execute(ve),he.stopPropagation(),he.preventDefault(),pe.stop())},{context:"li"})}afterInit(){const d=this.editor.commands,I=d.get("indent"),N=d.get("outdent");I&&I.registerChildCommand(d.get("indentList")),N&&N.registerChildCommand(d.get("outdentList"))}}function In(k){let d=1;for(const I of k.getChildren())if(I.name=="ul"||I.name=="ol")for(const N of I.getChildren())d+=In(N);return d}class Yn extends m.Plugin{static get requires(){return[Sn,Ge]}static get pluginName(){return"List"}}class ho extends m.Command{constructor(d,I){super(d),this.defaultType=I}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(d={}){this._tryToConvertItemsToList(d);const I=this.editor.model,N=Vi(I);N.length&&I.change(X=>{for(const ce of N)X.setAttribute("listStyle",d.type||this.defaultType,ce)})}_getValue(){const d=this.editor.model.document.selection.getFirstPosition().parent;return d&&d.is("element","listItem")?d.getAttribute("listStyle"):null}_checkEnabled(){const d=this.editor,I=d.commands.get("numberedList"),N=d.commands.get("bulletedList");return I.isEnabled||N.isEnabled}_tryToConvertItemsToList(d){if(!d.type)return;const I=at(d.type);if(!I)return;const N=this.editor,X=`${I}List`;N.commands.get(X).value||N.execute(X)}}class oo extends m.Command{refresh(){const d=this._getValue();this.value=d,this.isEnabled=d!=null}execute(d={}){const I=this.editor.model,N=Vi(I).filter(X=>X.getAttribute("listType")=="numbered");I.change(X=>{for(const ce of N)X.setAttribute("listReversed",!!d.reversed,ce)})}_getValue(){const d=this.editor.model.document.selection.getFirstPosition().parent;return d&&d.is("element","listItem")&&d.getAttribute("listType")=="numbered"?d.getAttribute("listReversed"):null}}class ro extends m.Command{refresh(){const d=this._getValue();this.value=d,this.isEnabled=d!=null}execute({startIndex:d=1}={}){const I=this.editor.model,N=Vi(I).filter(X=>X.getAttribute("listType")=="numbered");I.change(X=>{for(const ce of N)X.setAttribute("listStart",d>=0?d:1,ce)})}_getValue(){const d=this.editor.model.document.selection.getFirstPosition().parent;return d&&d.is("element","listItem")&&d.getAttribute("listType")=="numbered"?d.getAttribute("listStart"):null}}const Ht="default";class K extends m.Plugin{static get requires(){return[Sn]}static get pluginName(){return"ListPropertiesEditing"}constructor(d){super(d),d.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const d=this.editor,I=d.model,N=function(ce){const pe=[];return ce.styles&&pe.push({attributeName:"listStyle",defaultValue:Ht,addCommand(he){he.commands.add("listStyle",new ho(he,Ht))},appliesToListItem:()=>!0,setAttributeOnDowncast(he,ve,Re){ve&&ve!==Ht?he.setStyle("list-style-type",ve,Re):he.removeStyle("list-style-type",Re)},getAttributeOnUpcast:he=>he.getStyle("list-style-type")||Ht}),ce.reversed&&pe.push({attributeName:"listReversed",defaultValue:!1,addCommand(he){he.commands.add("listReversed",new oo(he))},appliesToListItem:he=>he.getAttribute("listType")=="numbered",setAttributeOnDowncast(he,ve,Re){ve?he.setAttribute("reversed","reversed",Re):he.removeAttribute("reversed",Re)},getAttributeOnUpcast:he=>he.hasAttribute("reversed")}),ce.startIndex&&pe.push({attributeName:"listStart",defaultValue:1,addCommand(he){he.commands.add("listStart",new ro(he))},appliesToListItem:he=>he.getAttribute("listType")=="numbered",setAttributeOnDowncast(he,ve,Re){ve==0||ve>1?he.setAttribute("start",ve,Re):he.removeAttribute("start",Re)},getAttributeOnUpcast(he){const ve=he.getAttribute("start");return ve>=0?ve:1}}),pe}(d.config.get("list.properties"));I.schema.extend("listItem",{allowAttributes:N.map(ce=>ce.attributeName)});for(const ce of N)ce.addCommand(d);var X;this.listenTo(d.commands.get("indentList"),"_executeCleanup",function(ce,pe){return(he,ve)=>{const Re=ve[0],We=Re.getAttribute("listIndent"),Ye=ve.filter(Tt=>Tt.getAttribute("listIndent")===We);let pt=null;Re.previousSibling.getAttribute("listIndent")+1!==We&&(pt=hi(Re.previousSibling,{sameIndent:!0,direction:"backward",listIndent:We})),ce.model.change(Tt=>{for(const Pt of Ye)for(const Ct of pe)if(Ct.appliesToListItem(Pt)){const ii=pt==null?Ct.defaultValue:pt.getAttribute(Ct.attributeName);Tt.setAttribute(Ct.attributeName,ii,Pt)}})}}(d,N)),this.listenTo(d.commands.get("outdentList"),"_executeCleanup",function(ce,pe){return(he,ve)=>{if(!(ve=ve.reverse().filter(pt=>pt.is("element","listItem"))).length)return;const Re=ve[0].getAttribute("listIndent"),We=ve[0].getAttribute("listType");let Ye=ve[0].previousSibling;if(Ye.is("element","listItem"))for(;Ye.getAttribute("listIndent")!==Re;)Ye=Ye.previousSibling;else Ye=null;Ye||(Ye=ve[ve.length-1].nextSibling),Ye&&Ye.is("element","listItem")&&Ye.getAttribute("listType")===We&&ce.model.change(pt=>{const Tt=ve.filter(Pt=>Pt.getAttribute("listIndent")===Re);for(const Pt of Tt)for(const Ct of pe)if(Ct.appliesToListItem(Pt)){const ii=Ct.attributeName,Jt=Ye.getAttribute(ii);pt.setAttribute(ii,Jt,Pt)}})}}(d,N)),this.listenTo(d.commands.get("bulletedList"),"_executeCleanup",Be(d)),this.listenTo(d.commands.get("numberedList"),"_executeCleanup",Be(d)),I.document.registerPostFixer(function(ce,pe){return he=>{let ve=!1;const Re=et(ce.model.document.differ.getChanges()).filter(Ye=>Ye.getAttribute("listType")!=="todo");if(!Re.length)return ve;let We=Re[Re.length-1].nextSibling;if((!We||!We.is("element","listItem"))&&(We=Re[0].previousSibling,We)){const Ye=Re[0].getAttribute("listIndent");for(;We.is("element","listItem")&&We.getAttribute("listIndent")!==Ye&&(We=We.previousSibling,We););}for(const Ye of pe){const pt=Ye.attributeName;for(const Tt of Re)if(Ye.appliesToListItem(Tt))if(Tt.hasAttribute(pt)){const Pt=Tt.previousSibling;Ue(Pt,Tt,Ye.attributeName)&&(he.setAttribute(pt,Pt.getAttribute(pt),Tt),ve=!0)}else Ae(We,Tt,Ye)?he.setAttribute(pt,We.getAttribute(pt),Tt):he.setAttribute(pt,Ye.defaultValue,Tt),ve=!0;else he.removeAttribute(pt,Tt)}return ve}}(d,N)),d.conversion.for("upcast").add((X=N,ce=>{ce.on("element:li",(pe,he,ve)=>{if(!he.modelRange)return;const Re=he.viewItem.parent,We=he.modelRange.start.nodeAfter||he.modelRange.end.nodeBefore;for(const Ye of X)if(Ye.appliesToListItem(We)){const pt=Ye.getAttributeOnUpcast(Re);ve.writer.setAttribute(Ye.attributeName,pt,We)}},{priority:"low"})})),d.conversion.for("downcast").add(function(ce){return he=>{for(const ve of ce)he.on(`attribute:${ve.attributeName}:listItem`,(Re,We,Ye)=>{const pt=Ye.writer,Tt=We.item,Pt=hi(Tt.previousSibling,{sameIndent:!0,listIndent:Tt.getAttribute("listIndent"),direction:"backward"}),Ct=Ye.mapper.toViewElement(Tt);pe(Tt,Pt)||pt.breakContainer(pt.createPositionBefore(Ct)),ve.setAttributeOnDowncast(pt,We.attributeNewValue,Ct.parent)},{priority:"low"})};function pe(he,ve){return ve&&he.getAttribute("listType")===ve.getAttribute("listType")&&he.getAttribute("listIndent")===ve.getAttribute("listIndent")&&he.getAttribute("listStyle")===ve.getAttribute("listStyle")&&he.getAttribute("listReversed")===ve.getAttribute("listReversed")&&he.getAttribute("listStart")===ve.getAttribute("listStart")}}(N)),this._mergeListAttributesWhileMergingLists(N)}afterInit(){const d=this.editor;d.commands.get("todoList")&&d.model.document.registerPostFixer(function(I){return N=>{const X=et(I.model.document.differ.getChanges()).filter(ce=>ce.getAttribute("listType")==="todo"&&(ce.hasAttribute("listStyle")||ce.hasAttribute("listReversed")||ce.hasAttribute("listStart")));if(!X.length)return!1;for(const ce of X)N.removeAttribute("listStyle",ce),N.removeAttribute("listReversed",ce),N.removeAttribute("listStart",ce);return!0}}(d))}_mergeListAttributesWhileMergingLists(d){const I=this.editor.model;let N;this.listenTo(I,"deleteContent",(X,[ce])=>{const pe=ce.getFirstPosition(),he=ce.getLastPosition();if(pe.parent===he.parent||!pe.parent.is("element","listItem"))return;const ve=he.parent.nextSibling;if(!ve||!ve.is("element","listItem"))return;const Re=hi(pe.parent,{sameIndent:!0,listIndent:ve.getAttribute("listIndent")});Re&&Re.getAttribute("listType")===ve.getAttribute("listType")&&(N=Re)},{priority:"high"}),this.listenTo(I,"deleteContent",()=>{N&&(I.change(X=>{const ce=hi(N.nextSibling,{sameIndent:!0,listIndent:N.getAttribute("listIndent"),direction:"forward"});if(!ce)return void(N=null);const pe=[ce,...Di(X.createPositionAt(ce,0),"forward")];for(const he of pe)for(const ve of d)if(ve.appliesToListItem(he)){const Re=ve.attributeName,We=N.getAttribute(Re);X.setAttribute(Re,We,he)}}),N=null)},{priority:"low"})}}function Ae(k,d,I){if(!k)return!1;const N=k.getAttribute(I.attributeName);return!!N&&N!=I.defaultValue&&k.getAttribute("listType")===d.getAttribute("listType")}function Ue(k,d,I){if(!k||!k.is("element","listItem")||d.getAttribute("listType")!==k.getAttribute("listType"))return!1;const N=k.getAttribute("listIndent");if(N<1||N!==d.getAttribute("listIndent"))return!1;const X=k.getAttribute(I);return!(!X||X===d.getAttribute(I))}function Be(k){return(d,I)=>{I=I.filter(N=>N.is("element","listItem")),k.model.change(N=>{for(const X of I)N.removeAttribute("listStyle",X)})}}function et(k){const d=[];for(const I of k){const N=Xe(I);N&&N.is("element","listItem")&&d.push(N)}return d}function Xe(k){return k.type==="attribute"?k.range.start.nodeAfter:k.type==="insert"?k.position.nodeAfter:null}class It extends m.Plugin{static get requires(){return[K,jt]}static get pluginName(){return"ListProperties"}}const vt="todoListChecked";class St extends m.Command{constructor(d){super(d),this._selectedElements=[],this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){this._selectedElements=this._getSelectedItems(),this.value=this._selectedElements.every(d=>!!d.getAttribute(vt)),this.isEnabled=!!this._selectedElements.length}_getSelectedItems(){const d=this.editor.model,I=d.schema,N=d.document.selection.getFirstRange(),X=N.start.parent,ce=[];I.checkAttribute(X,vt)&&ce.push(X);for(const pe of N.getItems())I.checkAttribute(pe,vt)&&!ce.includes(pe)&&ce.push(pe);return ce}execute(d={}){this.editor.model.change(I=>{for(const N of this._selectedElements)(d.forceValue===void 0?!this.value:d.forceValue)?I.setAttribute(vt,!0,N):I.removeAttribute(vt,N)})}}const zt=(k,d,I)=>{const N=d.modelCursor,X=N.parent,ce=d.viewItem;if(ce.getAttribute("type")!="checkbox"||X.name!="listItem"||!N.isAtStart||!I.consumable.consume(ce,{name:!0}))return;const pe=I.writer;pe.setAttribute("listType","todo",X),d.viewItem.hasAttribute("checked")&&pe.setAttribute("todoListChecked",!0,X),d.modelRange=pe.createRange(N)};function Wt(k){return(d,I)=>{const N=I.modelPosition,X=N.parent;if(!X.is("element","listItem")||X.getAttribute("listType")!="todo")return;const ce=ai(I.mapper.toViewElement(X),k);ce&&(I.viewPosition=I.mapper.findPositionIn(ce,N.offset))}}function mi(k,d,I,N){return d.createUIElement("label",{class:"todo-list__label",contenteditable:!1},function(X){const ce=(0,p.createElement)(document,"input",{type:"checkbox",tabindex:"-1"});I&&ce.setAttribute("checked","checked"),ce.addEventListener("change",()=>N(k));const pe=this.toDomElement(X);return pe.appendChild(ce),pe})}function ai(k,d){const I=d.createRangeIn(k);for(const N of I)if(N.item.is("containerElement","span")&&N.item.hasClass("todo-list__label__description"))return N.item}const gi=(0,p.parseKeystroke)("Ctrl+Enter");class Ri extends m.Plugin{static get pluginName(){return"TodoListEditing"}static get requires(){return[Sn]}init(){const d=this.editor,{editing:I,data:N,model:X}=d;X.schema.extend("listItem",{allowAttributes:["todoListChecked"]}),X.schema.addAttributeCheck((Re,We)=>{const Ye=Re.last;if(We=="todoListChecked"&&Ye.name=="listItem"&&Ye.getAttribute("listType")!="todo")return!1}),d.commands.add("todoList",new ze(d,"todo"));const ce=new St(d);var pe,he;d.commands.add("checkTodoList",ce),d.commands.add("todoListCheck",ce),N.downcastDispatcher.on("insert:listItem",function(Re){return(We,Ye,pt)=>{const Tt=pt.consumable;if(!Tt.test(Ye.item,"insert")||!Tt.test(Ye.item,"attribute:listType")||!Tt.test(Ye.item,"attribute:listIndent")||Ye.item.getAttribute("listType")!="todo")return;const Pt=Ye.item;Tt.consume(Pt,"insert"),Tt.consume(Pt,"attribute:listType"),Tt.consume(Pt,"attribute:listIndent"),Tt.consume(Pt,"attribute:todoListChecked");const Ct=pt.writer,ii=Yt(Pt,pt);Ct.addClass("todo-list",ii.parent);const Jt=Ct.createContainerElement("label",{class:"todo-list__label"}),bi=Ct.createEmptyElement("input",{type:"checkbox",disabled:"disabled"}),Ei=Ct.createContainerElement("span",{class:"todo-list__label__description"});Pt.getAttribute("todoListChecked")&&Ct.setAttribute("checked","checked",bi),Ct.insert(Ct.createPositionAt(ii,0),Jt),Ct.insert(Ct.createPositionAt(Jt,0),bi),Ct.insert(Ct.createPositionAfter(bi),Ei),ui(Pt,ii,pt,Re)}}(X),{priority:"high"}),N.upcastDispatcher.on("element:input",zt,{priority:"high"}),I.downcastDispatcher.on("insert:listItem",function(Re,We){return(Ye,pt,Tt)=>{const Pt=Tt.consumable;if(!Pt.test(pt.item,"insert")||!Pt.test(pt.item,"attribute:listType")||!Pt.test(pt.item,"attribute:listIndent")||pt.item.getAttribute("listType")!="todo")return;const Ct=pt.item;Pt.consume(Ct,"insert"),Pt.consume(Ct,"attribute:listType"),Pt.consume(Ct,"attribute:listIndent"),Pt.consume(Ct,"attribute:todoListChecked");const ii=Tt.writer,Jt=Yt(Ct,Tt),bi=!!Ct.getAttribute("todoListChecked"),Ei=mi(Ct,ii,bi,We),Hi=ii.createContainerElement("span",{class:"todo-list__label__description"});ii.addClass("todo-list",Jt.parent),ii.insert(ii.createPositionAt(Jt,0),Ei),ii.insert(ii.createPositionAfter(Ei),Hi),ui(Ct,Jt,Tt,Re)}}(X,Re=>this._handleCheckmarkChange(Re)),{priority:"high"}),I.downcastDispatcher.on("attribute:listType:listItem",(pe=Re=>this._handleCheckmarkChange(Re),he=I.view,(Re,We,Ye)=>{if(!Ye.consumable.consume(We.item,Re.name))return;const pt=Ye.mapper.toViewElement(We.item),Tt=Ye.writer,Pt=function(Ct,ii){const Jt=ii.createRangeIn(Ct);for(const bi of Jt)if(bi.item.is("uiElement","label"))return bi.item}(pt,he);if(We.attributeNewValue=="todo"){const Ct=!!We.item.getAttribute("todoListChecked"),ii=mi(We.item,Tt,Ct,pe),Jt=Tt.createContainerElement("span",{class:"todo-list__label__description"}),bi=Tt.createRangeIn(pt),Ei=Oi(pt),Hi=ti(bi.start),sn=Ei?Tt.createPositionBefore(Ei):bi.end,mn=Tt.createRange(Hi,sn);Tt.addClass("todo-list",pt.parent),Tt.move(mn,Tt.createPositionAt(Jt,0)),Tt.insert(Tt.createPositionAt(pt,0),ii),Tt.insert(Tt.createPositionAfter(ii),Jt)}else if(We.attributeOldValue=="todo"){const Ct=ai(pt,he);Tt.removeClass("todo-list",pt.parent),Tt.remove(Pt),Tt.move(Tt.createRangeIn(Ct),Tt.createPositionBefore(Ct)),Tt.remove(Ct)}})),I.downcastDispatcher.on("attribute:todoListChecked:listItem",function(Re){return(We,Ye,pt)=>{if(Ye.item.getAttribute("listType")!="todo"||!pt.consumable.consume(Ye.item,"attribute:todoListChecked"))return;const{mapper:Tt,writer:Pt}=pt,Ct=!!Ye.item.getAttribute("todoListChecked"),ii=Tt.toViewElement(Ye.item).getChild(0),Jt=mi(Ye.item,Pt,Ct,Re);Pt.insert(Pt.createPositionAfter(ii),Jt),Pt.remove(ii)}}(Re=>this._handleCheckmarkChange(Re))),I.mapper.on("modelToViewPosition",Wt(I.view)),N.mapper.on("modelToViewPosition",Wt(I.view)),this.listenTo(I.view.document,"arrowKey",function(Re,We){return(Ye,pt)=>{if((0,p.getLocalizedArrowKeyCodeDirection)(pt.keyCode,We.contentLanguageDirection)!="left")return;const Tt=Re.schema,Pt=Re.document.selection;if(!Pt.isCollapsed)return;const Ct=Pt.getFirstPosition(),ii=Ct.parent;if(ii.name==="listItem"&&ii.getAttribute("listType")=="todo"&&Ct.isAtStart){const Jt=Tt.getNearestSelectionRange(Re.createPositionBefore(ii),"backward");Jt&&Re.change(bi=>bi.setSelection(Jt)),pt.preventDefault(),pt.stopPropagation(),Ye.stop()}}}(X,d.locale),{context:"li"}),this.listenTo(I.view.document,"keydown",(Re,We)=>{(0,p.getCode)(We)===gi&&(d.execute("checkTodoList"),Re.stop())},{priority:"high"});const ve=new Set;this.listenTo(X,"applyOperation",(Re,We)=>{const Ye=We[0];if(Ye.type=="rename"&&Ye.oldName=="listItem"){const pt=Ye.position.nodeAfter;pt.hasAttribute("todoListChecked")&&ve.add(pt)}else if(Ye.type=="changeAttribute"&&Ye.key=="listType"&&Ye.oldValue==="todo")for(const pt of Ye.range.getItems())pt.hasAttribute("todoListChecked")&&pt.getAttribute("listType")!=="todo"&&ve.add(pt)}),X.document.registerPostFixer(Re=>{let We=!1;for(const Ye of ve)Re.removeAttribute("todoListChecked",Ye),We=!0;return ve.clear(),We})}_handleCheckmarkChange(d){const I=this.editor,N=I.model,X=Array.from(N.document.selection.getRanges());N.change(ce=>{ce.setSelection(d,"end"),I.execute("checkTodoList"),ce.setSelection(X)})}}class Qi extends m.Plugin{static get pluginName(){return"TodoListUI"}init(){const d=this.editor.t;Ci(this.editor,"todoList",d("To-do List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>')}}var Pn=J(528),Mn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Q()(Pn.Z,Mn),Pn.Z.locals;class Qn extends m.Plugin{static get requires(){return[Ri,Qi]}static get pluginName(){return"TodoList"}}class Kn extends m.Command{constructor(d){super(d),this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){const d=this._getSelectedItems();this.value=this._getValue(d),this.isEnabled=!!d.length}execute(d={}){this.editor.model.change(I=>{const N=this._getSelectedItems(),X=d.forceValue===void 0?!this._getValue(N):d.forceValue;for(const ce of N)X?I.setAttribute("todoListChecked",!0,ce):I.removeAttribute("todoListChecked",ce)})}_getValue(d){return d.every(I=>I.getAttribute("todoListChecked"))}_getSelectedItems(){const d=this.editor.model,I=d.schema,N=d.document.selection.getFirstRange(),X=N.start.parent,ce=[];I.checkAttribute(X,"todoListChecked")&&ce.push(...x(X));for(const pe of N.getItems({shallow:!0}))I.checkAttribute(pe,"todoListChecked")&&!ce.includes(pe)&&ce.push(...x(pe));return ce}}class Rn extends re.DomEventObserver{constructor(){super(...arguments),this.domEventType=["change"]}onDomEvent(d){if(d.target){const I=this.view.domConverter.mapDomToView(d.target);I&&I.is("element","input")&&I.getAttribute("type")=="checkbox"&&I.findAncestor({classes:"todo-list__label"})&&this.fire("todoCheckboxChange",d)}}}const mo=(0,p.parseKeystroke)("Ctrl+Enter");class xo extends m.Plugin{static get pluginName(){return"TodoDocumentListEditing"}static get requires(){return[st]}init(){const d=this.editor,I=d.model,N=d.editing,X=d.plugins.get(st),ce=d.config.get("list.multiBlock")?"paragraph":"listItem";d.commands.add("todoList",new b(d,"todo")),d.commands.add("checkTodoList",new Kn(d)),N.view.addObserver(Rn),I.schema.extend("$listItem",{allowAttributes:"todoListChecked"}),I.schema.addAttributeCheck((pe,he)=>{const ve=pe.last;if(he=="todoListChecked")return!(!ve.getAttribute("listItemId")||ve.getAttribute("listType")!="todo")&&void 0}),d.conversion.for("upcast").add(pe=>{pe.on("element:input",(he,ve,Re)=>{const We=ve.modelCursor,Ye=We.parent,pt=ve.viewItem;if(!Re.consumable.test(pt,{name:!0})||pt.getAttribute("type")!="checkbox"||!We.isAtStart||!Ye.hasAttribute("listType"))return;Re.consumable.consume(pt,{name:!0});const Tt=Re.writer;Tt.setAttribute("listType","todo",Ye),ve.viewItem.hasAttribute("checked")&&Tt.setAttribute("todoListChecked",!0,Ye),ve.modelRange=Tt.createRange(We)}),pe.on("element:label",Nn({name:"label",classes:"todo-list__label"})),pe.on("element:label",Nn({name:"label",classes:["todo-list__label","todo-list__label_without-description"]})),pe.on("element:span",Nn({name:"span",classes:"todo-list__label__description"})),pe.on("element:ul",function(he){const ve=new re.Matcher(he);return(Re,We,Ye)=>{const pt=ve.match(We.viewItem);if(!pt)return;const Tt=pt.match;Tt.name=!1,Ye.consumable.consume(We.viewItem,Tt)}}({name:"ul",classes:"todo-list"}))}),d.conversion.for("downcast").elementToElement({model:ce,view:(pe,{writer:he})=>{if(so(pe,X.getListAttributeNames()))return he.createContainerElement("span",{class:"todo-list__label__description"})},converterPriority:"highest"}),X.registerDowncastStrategy({scope:"list",attributeName:"listType",setAttributeOnDowncast(pe,he,ve){he=="todo"?pe.addClass("todo-list",ve):pe.removeClass("todo-list",ve)}}),X.registerDowncastStrategy({scope:"itemMarker",attributeName:"todoListChecked",createElement(pe,he,{dataPipeline:ve}){if(he.getAttribute("listType")!="todo")return null;const Re=pe.createEmptyElement("input",{type:"checkbox",...he.getAttribute("todoListChecked")?{checked:"checked"}:null,...ve?{disabled:"disabled"}:{tabindex:"-1"}});return ve?Re:pe.createContainerElement("span",{contenteditable:"false"},Re)},canWrapElement:pe=>so(pe,X.getListAttributeNames()),createWrapperElement(pe,he,{dataPipeline:ve}){const Re=["todo-list__label"];return so(he,X.getListAttributeNames())||Re.push("todo-list__label_without-description"),pe.createAttributeElement(ve?"label":"span",{class:Re.join(" ")})}}),N.mapper.registerViewToModelLength("input",pe=>pe.getAttribute("type")=="checkbox"&&pe.findAncestor({classes:"todo-list__label"})?0:N.mapper.toModelElement(pe)?1:0),X.on("checkElement",(pe,{modelElement:he,viewElement:ve})=>{const Re=so(he,X.getListAttributeNames());ve.hasClass("todo-list__label__description")!=Re&&(pe.return=!0,pe.stop())}),X.on("checkElement",(pe,{modelElement:he,viewElement:ve})=>{const Re=he.getAttribute("listType")=="todo"&&Z(he);let We=!1;const Ye=d.editing.view.createPositionBefore(ve).getWalker({direction:"backward"});for(const{item:pt}of Ye){if(pt.is("element")&&d.editing.mapper.toModelElement(pt))break;pt.is("element","input")&&pt.getAttribute("type")=="checkbox"&&(We=!0)}We!=Re&&(pe.return=!0,pe.stop())}),X.on("postFixer",(pe,{listNodes:he,writer:ve})=>{for(const{node:Re,previousNodeInList:We}of he){if(!We||We.getAttribute("listItemId")!=Re.getAttribute("listItemId"))continue;const Ye=We.hasAttribute("todoListChecked"),pt=Re.hasAttribute("todoListChecked");pt&&!Ye?(ve.removeAttribute("todoListChecked",Re),pe.return=!0):!pt&&Ye&&(ve.setAttribute("todoListChecked",!0,Re),pe.return=!0)}}),I.document.registerPostFixer(pe=>{const he=I.document.differ.getChanges();let ve=!1;for(const Re of he)if(Re.type=="attribute"&&Re.attributeKey=="listType"){const We=Re.range.start.nodeAfter;Re.attributeOldValue=="todo"&&We.hasAttribute("todoListChecked")&&(pe.removeAttribute("todoListChecked",We),ve=!0)}else if(Re.type=="insert"&&Re.name!="$text")for(const{item:We}of pe.createRangeOn(Re.position.nodeAfter))We.is("element")&&We.getAttribute("listType")!="todo"&&We.hasAttribute("todoListChecked")&&(pe.removeAttribute("todoListChecked",We),ve=!0);return ve}),this.listenTo(N.view.document,"keydown",(pe,he)=>{(0,p.getCode)(he)===mo&&(d.execute("checkTodoList"),pe.stop())},{priority:"high"}),this.listenTo(N.view.document,"todoCheckboxChange",(pe,he)=>{const ve=he.target;if(!ve||!ve.is("element","input"))return;const Re=N.view.createPositionAfter(ve),We=N.mapper.toModelPosition(Re).parent;We&&B(We)&&We.getAttribute("listType")=="todo"&&this._handleCheckmarkChange(We)}),this.listenTo(N.view.document,"arrowKey",function(pe,he){return(ve,Re)=>{const We=(0,p.getLocalizedArrowKeyCodeDirection)(Re.keyCode,he.contentLanguageDirection),Ye=pe.schema,pt=pe.document.selection;if(!pt.isCollapsed)return;const Tt=pt.getFirstPosition(),Pt=Tt.parent;if(We=="right"&&Tt.isAtEnd){const Ct=Ye.getNearestSelectionRange(pe.createPositionAfter(Pt),"forward");if(!Ct)return;const ii=Ct.start.parent;ii&&B(ii)&&ii.getAttribute("listType")=="todo"&&(pe.change(Jt=>Jt.setSelection(Ct)),Re.preventDefault(),Re.stopPropagation(),ve.stop())}else if(We=="left"&&Tt.isAtStart&&B(Pt)&&Pt.getAttribute("listType")=="todo"){const Ct=Ye.getNearestSelectionRange(pe.createPositionBefore(Pt),"backward");if(!Ct)return;pe.change(ii=>ii.setSelection(Ct)),Re.preventDefault(),Re.stopPropagation(),ve.stop()}}}(I,d.locale),{context:"$text"}),this.listenTo(N.mapper,"viewToModelPosition",(pe,he)=>{const ve=he.viewPosition.parent,Re=ve.is("attributeElement","li")&&he.viewPosition.offset==0,We=zn(ve)&&he.viewPosition.offset<=1,Ye=ve.is("element","span")&&ve.getAttribute("contenteditable")=="false"&&zn(ve.parent);if(!Re&&!We&&!Ye)return;const pt=he.modelPosition.nodeAfter;pt&&pt.getAttribute("listType")=="todo"&&(he.modelPosition=I.createPositionAt(pt,0))},{priority:"low"})}_handleCheckmarkChange(d){const I=this.editor,N=I.model,X=Array.from(N.document.selection.getRanges());N.change(ce=>{ce.setSelection(d,"end"),I.execute("checkTodoList"),ce.setSelection(X)})}}function Nn(k){const d=new re.Matcher(k);return(I,N,X)=>{const ce=d.match(N.viewItem);ce&&X.consumable.consume(N.viewItem,ce.match)&&Object.assign(N,X.convertChildren(N.viewItem,N.modelCursor))}}function so(k,d){return(k.is("element","paragraph")||k.is("element","listItem"))&&k.getAttribute("listType")=="todo"&&Z(k)&&function(I,N){for(const X of I.getAttributeKeys())if(!X.startsWith("selection:")&&!N.includes(X))return!1;return!0}(k,d)}function zn(k){return!!k&&k.is("attributeElement")&&k.hasClass("todo-list__label")}class _e extends m.Plugin{static get requires(){return[xo,Qi]}static get pluginName(){return"TodoDocumentList"}}})(),(window.CKEditor5=window.CKEditor5||{}).list=Et})()},35646:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Gt={945:(m,M,S)=>{m.exports=S(79)("./src/clipboard.js")},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},492:(m,M,S)=>{m.exports=S(79)("./src/engine.js")},79:m=>{"use strict";m.exports=CKEditor5.dll},915:()=>{}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={exports:{}};return Gt[m](S,S.exports,J),S.exports}J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{Markdown:()=>Mi,PasteFromMarkdownExperimental:()=>wn});var m=J(704),M=J(492);function S(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let p={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const _=/[&<>"']/,l=/[&<>"']/g,c=/[<>"']|&(?!#?\w+;)/,P=/[<>"']|&(?!#?\w+;)/g,B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},x=Ne=>B[Ne];function h(Ne,H){if(H){if(_.test(Ne))return Ne.replace(l,x)}else if(c.test(Ne))return Ne.replace(P,x);return Ne}const j=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Z(Ne){return Ne.replace(j,(H,ee)=>(ee=ee.toLowerCase())==="colon"?":":ee.charAt(0)==="#"?ee.charAt(1)==="x"?String.fromCharCode(parseInt(ee.substring(2),16)):String.fromCharCode(+ee.substring(1)):"")}const Y=/(^|[^\[])\^/g;function te(Ne,H){Ne=Ne.source||Ne,H=H||"";const ee={replace:(se,be)=>(be=(be=be.source||be).replace(Y,"$1"),Ne=Ne.replace(se,be),ee),getRegex:()=>new RegExp(Ne,H)};return ee}const oe=/[^\w:]/g,ie=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function u(Ne,H,ee){if(Ne){let se;try{se=decodeURIComponent(Z(ee)).replace(oe,"").toLowerCase()}catch{return null}if(se.indexOf("javascript:")===0||se.indexOf("vbscript:")===0||se.indexOf("data:")===0)return null}H&&!ie.test(ee)&&(ee=function(se,be){y[" "+se]||(f.test(se)?y[" "+se]=se+"/":y[" "+se]=q(se,"/",!0)),se=y[" "+se];const ht=se.indexOf(":")===-1;return be.substring(0,2)==="//"?ht?be:se.replace(v,"$1")+be:be.charAt(0)==="/"?ht?be:se.replace(A,"$1")+be:se+be}(H,ee));try{ee=encodeURI(ee).replace(/%25/g,"%")}catch{return null}return ee}const y={},f=/^[^:]+:\/*[^/]*$/,v=/^([^:]+:)[\s\S]*$/,A=/^([^:]+:\/*[^/]*)[\s\S]*$/,T={exec:function(){}};function E(Ne){let H,ee,se=1;for(;se<arguments.length;se++)for(ee in H=arguments[se],H)Object.prototype.hasOwnProperty.call(H,ee)&&(Ne[ee]=H[ee]);return Ne}function ae(Ne,H){const ee=Ne.replace(/\|/g,(be,ht,jt)=>{let Qt=!1,yt=ht;for(;--yt>=0&&jt[yt]==="\\";)Qt=!Qt;return Qt?"|":" |"}).split(/ \|/);let se=0;if(ee[0].trim()||ee.shift(),ee.length>0&&!ee[ee.length-1].trim()&&ee.pop(),ee.length>H)ee.splice(H);else for(;ee.length<H;)ee.push("");for(;se<ee.length;se++)ee[se]=ee[se].trim().replace(/\\\|/g,"|");return ee}function q(Ne,H,ee){const se=Ne.length;if(se===0)return"";let be=0;for(;be<se;){const ht=Ne.charAt(se-be-1);if(ht!==H||ee){if(ht===H||!ee)break;be++}else be++}return Ne.substr(0,se-be)}function z(Ne){Ne&&Ne.sanitize&&!Ne.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function b(Ne,H){if(H<1)return"";let ee="";for(;H>1;)1&H&&(ee+=Ne),H>>=1,Ne+=Ne;return ee+Ne}function V(Ne,H,ee,se){const be=H.href,ht=H.title?h(H.title):null,jt=Ne[1].replace(/\\([\[\]])/g,"$1");if(Ne[0].charAt(0)!=="!"){se.state.inLink=!0;const Qt={type:"link",raw:ee,href:be,title:ht,text:jt,tokens:se.inlineTokens(jt,[])};return se.state.inLink=!1,Qt}return{type:"image",raw:ee,href:be,title:ht,text:h(jt)}}class ${constructor(H){this.options=H||p}space(H){const ee=this.rules.block.newline.exec(H);if(ee&&ee[0].length>0)return{type:"space",raw:ee[0]}}code(H){const ee=this.rules.block.code.exec(H);if(ee){const se=ee[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ee[0],codeBlockStyle:"indented",text:this.options.pedantic?se:q(se,`
`)}}}fences(H){const ee=this.rules.block.fences.exec(H);if(ee){const se=ee[0],be=function(ht,jt){const Qt=ht.match(/^(\s+)(?:```)/);if(Qt===null)return jt;const yt=Qt[1];return jt.split(`
`).map(Ce=>{const ze=Ce.match(/^\s+/);if(ze===null)return Ce;const[nt]=ze;return nt.length>=yt.length?Ce.slice(yt.length):Ce}).join(`
`)}(se,ee[3]||"");return{type:"code",raw:se,lang:ee[2]?ee[2].trim():ee[2],text:be}}}heading(H){const ee=this.rules.block.heading.exec(H);if(ee){let se=ee[2].trim();if(/#$/.test(se)){const ht=q(se,"#");this.options.pedantic?se=ht.trim():ht&&!/ $/.test(ht)||(se=ht.trim())}const be={type:"heading",raw:ee[0],depth:ee[1].length,text:se,tokens:[]};return this.lexer.inline(be.text,be.tokens),be}}hr(H){const ee=this.rules.block.hr.exec(H);if(ee)return{type:"hr",raw:ee[0]}}blockquote(H){const ee=this.rules.block.blockquote.exec(H);if(ee){const se=ee[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:ee[0],tokens:this.lexer.blockTokens(se,[]),text:se}}}list(H){let ee=this.rules.block.list.exec(H);if(ee){let se,be,ht,jt,Qt,yt,Ce,ze,nt,Ke,xt,si,ni=ee[1].trim();const ki=ni.length>1,di={type:"list",raw:"",ordered:ki,start:ki?+ni.slice(0,-1):"",loose:!1,items:[]};ni=ki?`\\d{1,9}\\${ni.slice(-1)}`:`\\${ni}`,this.options.pedantic&&(ni=ki?ni:"[*+-]");const Ti=new RegExp(`^( {0,3}${ni})((?: [^\\n]*)?(?:\\n|$))`);for(;H&&(si=!1,ee=Ti.exec(H))&&!this.rules.block.hr.test(H);){if(se=ee[0],H=H.substring(se.length),ze=ee[2].split(`
`,1)[0],nt=H.split(`
`,1)[0],this.options.pedantic?(jt=2,xt=ze.trimLeft()):(jt=ee[2].search(/[^ ]/),jt=jt>4?1:jt,xt=ze.slice(jt),jt+=ee[1].length),yt=!1,!ze&&/^ *$/.test(nt)&&(se+=nt+`
`,H=H.substring(nt.length+1),si=!0),!si){const Gi=new RegExp(`^ {0,${Math.min(3,jt-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;H&&(Ke=H.split(`
`,1)[0],ze=Ke,this.options.pedantic&&(ze=ze.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!Gi.test(ze));){if(ze.search(/[^ ]/)>=jt||!ze.trim())xt+=`
`+ze.slice(jt);else{if(yt)break;xt+=`
`+ze}yt||ze.trim()||(yt=!0),se+=Ke+`
`,H=H.substring(Ke.length+1)}}di.loose||(Ce?di.loose=!0:/\n *\n *$/.test(se)&&(Ce=!0)),this.options.gfm&&(be=/^\[[ xX]\] /.exec(xt),be&&(ht=be[0]!=="[ ] ",xt=xt.replace(/^\[[ xX]\] +/,""))),di.items.push({type:"list_item",raw:se,task:!!be,checked:ht,loose:!1,text:xt}),di.raw+=se}di.items[di.items.length-1].raw=se.trimRight(),di.items[di.items.length-1].text=xt.trimRight(),di.raw=di.raw.trimRight();const Ni=di.items.length;for(Qt=0;Qt<Ni;Qt++){this.lexer.state.top=!1,di.items[Qt].tokens=this.lexer.blockTokens(di.items[Qt].text,[]);const Gi=di.items[Qt].tokens.filter(Zi=>Zi.type==="space"),on=Gi.every(Zi=>{const hn=Zi.raw.split("");let kn=0;for(const qn of hn)if(qn===`
`&&(kn+=1),kn>1)return!0;return!1});!di.loose&&Gi.length&&on&&(di.loose=!0,di.items[Qt].loose=!0)}return di}}html(H){const ee=this.rules.block.html.exec(H);if(ee){const se={type:"html",raw:ee[0],pre:!this.options.sanitizer&&(ee[1]==="pre"||ee[1]==="script"||ee[1]==="style"),text:ee[0]};return this.options.sanitize&&(se.type="paragraph",se.text=this.options.sanitizer?this.options.sanitizer(ee[0]):h(ee[0]),se.tokens=[],this.lexer.inline(se.text,se.tokens)),se}}def(H){const ee=this.rules.block.def.exec(H);if(ee)return ee[3]&&(ee[3]=ee[3].substring(1,ee[3].length-1)),{type:"def",tag:ee[1].toLowerCase().replace(/\s+/g," "),raw:ee[0],href:ee[2],title:ee[3]}}table(H){const ee=this.rules.block.table.exec(H);if(ee){const se={type:"table",header:ae(ee[1]).map(be=>({text:be})),align:ee[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:ee[3]&&ee[3].trim()?ee[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(se.header.length===se.align.length){se.raw=ee[0];let be,ht,jt,Qt,yt=se.align.length;for(be=0;be<yt;be++)/^ *-+: *$/.test(se.align[be])?se.align[be]="right":/^ *:-+: *$/.test(se.align[be])?se.align[be]="center":/^ *:-+ *$/.test(se.align[be])?se.align[be]="left":se.align[be]=null;for(yt=se.rows.length,be=0;be<yt;be++)se.rows[be]=ae(se.rows[be],se.header.length).map(Ce=>({text:Ce}));for(yt=se.header.length,ht=0;ht<yt;ht++)se.header[ht].tokens=[],this.lexer.inlineTokens(se.header[ht].text,se.header[ht].tokens);for(yt=se.rows.length,ht=0;ht<yt;ht++)for(Qt=se.rows[ht],jt=0;jt<Qt.length;jt++)Qt[jt].tokens=[],this.lexer.inlineTokens(Qt[jt].text,Qt[jt].tokens);return se}}}lheading(H){const ee=this.rules.block.lheading.exec(H);if(ee){const se={type:"heading",raw:ee[0],depth:ee[2].charAt(0)==="="?1:2,text:ee[1],tokens:[]};return this.lexer.inline(se.text,se.tokens),se}}paragraph(H){const ee=this.rules.block.paragraph.exec(H);if(ee){const se={type:"paragraph",raw:ee[0],text:ee[1].charAt(ee[1].length-1)===`
`?ee[1].slice(0,-1):ee[1],tokens:[]};return this.lexer.inline(se.text,se.tokens),se}}text(H){const ee=this.rules.block.text.exec(H);if(ee){const se={type:"text",raw:ee[0],text:ee[0],tokens:[]};return this.lexer.inline(se.text,se.tokens),se}}escape(H){const ee=this.rules.inline.escape.exec(H);if(ee)return{type:"escape",raw:ee[0],text:h(ee[1])}}tag(H){const ee=this.rules.inline.tag.exec(H);if(ee)return!this.lexer.state.inLink&&/^<a /i.test(ee[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ee[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ee[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ee[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ee[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ee[0]):h(ee[0]):ee[0]}}link(H){const ee=this.rules.inline.link.exec(H);if(ee){const se=ee[2].trim();if(!this.options.pedantic&&/^</.test(se)){if(!/>$/.test(se))return;const jt=q(se.slice(0,-1),"\\");if((se.length-jt.length)%2==0)return}else{const jt=function(Qt,yt){if(Qt.indexOf(yt[1])===-1)return-1;const Ce=Qt.length;let ze=0,nt=0;for(;nt<Ce;nt++)if(Qt[nt]==="\\")nt++;else if(Qt[nt]===yt[0])ze++;else if(Qt[nt]===yt[1]&&(ze--,ze<0))return nt;return-1}(ee[2],"()");if(jt>-1){const Qt=(ee[0].indexOf("!")===0?5:4)+ee[1].length+jt;ee[2]=ee[2].substring(0,jt),ee[0]=ee[0].substring(0,Qt).trim(),ee[3]=""}}let be=ee[2],ht="";if(this.options.pedantic){const jt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(be);jt&&(be=jt[1],ht=jt[3])}else ht=ee[3]?ee[3].slice(1,-1):"";return be=be.trim(),/^</.test(be)&&(be=this.options.pedantic&&!/>$/.test(se)?be.slice(1):be.slice(1,-1)),V(ee,{href:be&&be.replace(this.rules.inline._escapes,"$1"),title:ht&&ht.replace(this.rules.inline._escapes,"$1")},ee[0],this.lexer)}}reflink(H,ee){let se;if((se=this.rules.inline.reflink.exec(H))||(se=this.rules.inline.nolink.exec(H))){let be=(se[2]||se[1]).replace(/\s+/g," ");if(be=ee[be.toLowerCase()],!be||!be.href){const ht=se[0].charAt(0);return{type:"text",raw:ht,text:ht}}return V(se,be,se[0],this.lexer)}}emStrong(H,ee,se=""){let be=this.rules.inline.emStrong.lDelim.exec(H);if(!be||be[3]&&se.match(/[\p{L}\p{N}]/u))return;const ht=be[1]||be[2]||"";if(!ht||ht&&(se===""||this.rules.inline.punctuation.exec(se))){const jt=be[0].length-1;let Qt,yt,Ce=jt,ze=0;const nt=be[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(nt.lastIndex=0,ee=ee.slice(-1*H.length+jt);(be=nt.exec(ee))!=null;){if(Qt=be[1]||be[2]||be[3]||be[4]||be[5]||be[6],!Qt)continue;if(yt=Qt.length,be[3]||be[4]){Ce+=yt;continue}if((be[5]||be[6])&&jt%3&&!((jt+yt)%3)){ze+=yt;continue}if(Ce-=yt,Ce>0)continue;if(yt=Math.min(yt,yt+Ce+ze),Math.min(jt,yt)%2){const xt=H.slice(1,jt+be.index+yt);return{type:"em",raw:H.slice(0,jt+be.index+yt+1),text:xt,tokens:this.lexer.inlineTokens(xt,[])}}const Ke=H.slice(2,jt+be.index+yt-1);return{type:"strong",raw:H.slice(0,jt+be.index+yt+1),text:Ke,tokens:this.lexer.inlineTokens(Ke,[])}}}}codespan(H){const ee=this.rules.inline.code.exec(H);if(ee){let se=ee[2].replace(/\n/g," ");const be=/[^ ]/.test(se),ht=/^ /.test(se)&&/ $/.test(se);return be&&ht&&(se=se.substring(1,se.length-1)),se=h(se,!0),{type:"codespan",raw:ee[0],text:se}}}br(H){const ee=this.rules.inline.br.exec(H);if(ee)return{type:"br",raw:ee[0]}}del(H){const ee=this.rules.inline.del.exec(H);if(ee)return{type:"del",raw:ee[0],text:ee[2],tokens:this.lexer.inlineTokens(ee[2],[])}}autolink(H,ee){const se=this.rules.inline.autolink.exec(H);if(se){let be,ht;return se[2]==="@"?(be=h(this.options.mangle?ee(se[1]):se[1]),ht="mailto:"+be):(be=h(se[1]),ht=be),{type:"link",raw:se[0],text:be,href:ht,tokens:[{type:"text",raw:be,text:be}]}}}url(H,ee){let se;if(se=this.rules.inline.url.exec(H)){let be,ht;if(se[2]==="@")be=h(this.options.mangle?ee(se[0]):se[0]),ht="mailto:"+be;else{let jt;do jt=se[0],se[0]=this.rules.inline._backpedal.exec(se[0])[0];while(jt!==se[0]);be=h(se[0]),ht=se[1]==="www."?"http://"+be:be}return{type:"link",raw:se[0],text:be,href:ht,tokens:[{type:"text",raw:be,text:be}]}}}inlineText(H,ee){const se=this.rules.inline.text.exec(H);if(se){let be;return be=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(se[0]):h(se[0]):se[0]:h(this.options.smartypants?ee(se[0]):se[0]),{type:"text",raw:se[0],text:be}}}}const D={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:T,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};D.def=te(D.def).replace("label",D._label).replace("title",D._title).getRegex(),D.bullet=/(?:[*+-]|\d{1,9}[.)])/,D.listItemStart=te(/^( *)(bull) */).replace("bull",D.bullet).getRegex(),D.list=te(D.list).replace(/bull/g,D.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+D.def.source+")").getRegex(),D._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",D._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,D.html=te(D.html,"i").replace("comment",D._comment).replace("tag",D._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),D.paragraph=te(D._paragraph).replace("hr",D.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",D._tag).getRegex(),D.blockquote=te(D.blockquote).replace("paragraph",D.paragraph).getRegex(),D.normal=E({},D),D.gfm=E({},D.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),D.gfm.table=te(D.gfm.table).replace("hr",D.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",D._tag).getRegex(),D.gfm.paragraph=te(D._paragraph).replace("hr",D.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",D.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",D._tag).getRegex(),D.pedantic=E({},D.normal,{html:te(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",D._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:T,paragraph:te(D.normal._paragraph).replace("hr",D.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",D.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const re={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:T,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:T,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Ee(Ne){return Ne.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function je(Ne){let H,ee,se="";const be=Ne.length;for(H=0;H<be;H++)ee=Ne.charCodeAt(H),Math.random()>.5&&(ee="x"+ee.toString(16)),se+="&#"+ee+";";return se}re._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",re.punctuation=te(re.punctuation).replace(/punctuation/g,re._punctuation).getRegex(),re.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,re.escapedEmSt=/\\\*|\\_/g,re._comment=te(D._comment).replace("(?:-->|$)","-->").getRegex(),re.emStrong.lDelim=te(re.emStrong.lDelim).replace(/punct/g,re._punctuation).getRegex(),re.emStrong.rDelimAst=te(re.emStrong.rDelimAst,"g").replace(/punct/g,re._punctuation).getRegex(),re.emStrong.rDelimUnd=te(re.emStrong.rDelimUnd,"g").replace(/punct/g,re._punctuation).getRegex(),re._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,re._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,re._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,re.autolink=te(re.autolink).replace("scheme",re._scheme).replace("email",re._email).getRegex(),re._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,re.tag=te(re.tag).replace("comment",re._comment).replace("attribute",re._attribute).getRegex(),re._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,re._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,re._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,re.link=te(re.link).replace("label",re._label).replace("href",re._href).replace("title",re._title).getRegex(),re.reflink=te(re.reflink).replace("label",re._label).replace("ref",D._label).getRegex(),re.nolink=te(re.nolink).replace("ref",D._label).getRegex(),re.reflinkSearch=te(re.reflinkSearch,"g").replace("reflink",re.reflink).replace("nolink",re.nolink).getRegex(),re.normal=E({},re),re.pedantic=E({},re.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:te(/^!?\[(label)\]\((.*?)\)/).replace("label",re._label).getRegex(),reflink:te(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",re._label).getRegex()}),re.gfm=E({},re.normal,{escape:te(re.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),re.gfm.url=te(re.gfm.url,"i").replace("email",re.gfm._extended_email).getRegex(),re.breaks=E({},re.gfm,{br:te(re.br).replace("{2,}","*").getRegex(),text:te(re.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ie{constructor(H){this.tokens=[],this.tokens.links=Object.create(null),this.options=H||p,this.options.tokenizer=this.options.tokenizer||new $,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const ee={block:D.normal,inline:re.normal};this.options.pedantic?(ee.block=D.pedantic,ee.inline=re.pedantic):this.options.gfm&&(ee.block=D.gfm,this.options.breaks?ee.inline=re.breaks:ee.inline=re.gfm),this.tokenizer.rules=ee}static get rules(){return{block:D,inline:re}}static lex(H,ee){return new Ie(ee).lex(H)}static lexInline(H,ee){return new Ie(ee).inlineTokens(H)}lex(H){let ee;for(H=H.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(H,this.tokens);ee=this.inlineQueue.shift();)this.inlineTokens(ee.src,ee.tokens);return this.tokens}blockTokens(H,ee=[]){let se,be,ht,jt;for(this.options.pedantic&&(H=H.replace(/^ +$/gm,""));H;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Qt=>!!(se=Qt.call({lexer:this},H,ee))&&(H=H.substring(se.raw.length),ee.push(se),!0))))if(se=this.tokenizer.space(H))H=H.substring(se.raw.length),se.raw.length===1&&ee.length>0?ee[ee.length-1].raw+=`
`:ee.push(se);else if(se=this.tokenizer.code(H))H=H.substring(se.raw.length),be=ee[ee.length-1],!be||be.type!=="paragraph"&&be.type!=="text"?ee.push(se):(be.raw+=`
`+se.raw,be.text+=`
`+se.text,this.inlineQueue[this.inlineQueue.length-1].src=be.text);else if(se=this.tokenizer.fences(H))H=H.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.heading(H))H=H.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.hr(H))H=H.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.blockquote(H))H=H.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.list(H))H=H.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.html(H))H=H.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.def(H))H=H.substring(se.raw.length),be=ee[ee.length-1],!be||be.type!=="paragraph"&&be.type!=="text"?this.tokens.links[se.tag]||(this.tokens.links[se.tag]={href:se.href,title:se.title}):(be.raw+=`
`+se.raw,be.text+=`
`+se.raw,this.inlineQueue[this.inlineQueue.length-1].src=be.text);else if(se=this.tokenizer.table(H))H=H.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.lheading(H))H=H.substring(se.raw.length),ee.push(se);else{if(ht=H,this.options.extensions&&this.options.extensions.startBlock){let Qt=1/0;const yt=H.slice(1);let Ce;this.options.extensions.startBlock.forEach(function(ze){Ce=ze.call({lexer:this},yt),typeof Ce=="number"&&Ce>=0&&(Qt=Math.min(Qt,Ce))}),Qt<1/0&&Qt>=0&&(ht=H.substring(0,Qt+1))}if(this.state.top&&(se=this.tokenizer.paragraph(ht)))be=ee[ee.length-1],jt&&be.type==="paragraph"?(be.raw+=`
`+se.raw,be.text+=`
`+se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=be.text):ee.push(se),jt=ht.length!==H.length,H=H.substring(se.raw.length);else if(se=this.tokenizer.text(H))H=H.substring(se.raw.length),be=ee[ee.length-1],be&&be.type==="text"?(be.raw+=`
`+se.raw,be.text+=`
`+se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=be.text):ee.push(se);else if(H){const Qt="Infinite loop on byte: "+H.charCodeAt(0);if(this.options.silent){console.error(Qt);break}throw new Error(Qt)}}return this.state.top=!0,ee}inline(H,ee){this.inlineQueue.push({src:H,tokens:ee})}inlineTokens(H,ee=[]){let se,be,ht,jt,Qt,yt,Ce=H;if(this.tokens.links){const ze=Object.keys(this.tokens.links);if(ze.length>0)for(;(jt=this.tokenizer.rules.inline.reflinkSearch.exec(Ce))!=null;)ze.includes(jt[0].slice(jt[0].lastIndexOf("[")+1,-1))&&(Ce=Ce.slice(0,jt.index)+"["+b("a",jt[0].length-2)+"]"+Ce.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(jt=this.tokenizer.rules.inline.blockSkip.exec(Ce))!=null;)Ce=Ce.slice(0,jt.index)+"["+b("a",jt[0].length-2)+"]"+Ce.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(jt=this.tokenizer.rules.inline.escapedEmSt.exec(Ce))!=null;)Ce=Ce.slice(0,jt.index)+"++"+Ce.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;H;)if(Qt||(yt=""),Qt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(ze=>!!(se=ze.call({lexer:this},H,ee))&&(H=H.substring(se.raw.length),ee.push(se),!0))))if(se=this.tokenizer.escape(H))H=H.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.tag(H))H=H.substring(se.raw.length),be=ee[ee.length-1],be&&se.type==="text"&&be.type==="text"?(be.raw+=se.raw,be.text+=se.text):ee.push(se);else if(se=this.tokenizer.link(H))H=H.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.reflink(H,this.tokens.links))H=H.substring(se.raw.length),be=ee[ee.length-1],be&&se.type==="text"&&be.type==="text"?(be.raw+=se.raw,be.text+=se.text):ee.push(se);else if(se=this.tokenizer.emStrong(H,Ce,yt))H=H.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.codespan(H))H=H.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.br(H))H=H.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.del(H))H=H.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.autolink(H,je))H=H.substring(se.raw.length),ee.push(se);else if(this.state.inLink||!(se=this.tokenizer.url(H,je))){if(ht=H,this.options.extensions&&this.options.extensions.startInline){let ze=1/0;const nt=H.slice(1);let Ke;this.options.extensions.startInline.forEach(function(xt){Ke=xt.call({lexer:this},nt),typeof Ke=="number"&&Ke>=0&&(ze=Math.min(ze,Ke))}),ze<1/0&&ze>=0&&(ht=H.substring(0,ze+1))}if(se=this.tokenizer.inlineText(ht,Ee))H=H.substring(se.raw.length),se.raw.slice(-1)!=="_"&&(yt=se.raw.slice(-1)),Qt=!0,be=ee[ee.length-1],be&&be.type==="text"?(be.raw+=se.raw,be.text+=se.text):ee.push(se);else if(H){const ze="Infinite loop on byte: "+H.charCodeAt(0);if(this.options.silent){console.error(ze);break}throw new Error(ze)}}else H=H.substring(se.raw.length),ee.push(se);return ee}}class De{constructor(H){this.options=H||p}code(H,ee,se){const be=(ee||"").match(/\S*/)[0];if(this.options.highlight){const ht=this.options.highlight(H,be);ht!=null&&ht!==H&&(se=!0,H=ht)}return H=H.replace(/\n$/,"")+`
`,be?'<pre><code class="'+this.options.langPrefix+h(be,!0)+'">'+(se?H:h(H,!0))+`</code></pre>
`:"<pre><code>"+(se?H:h(H,!0))+`</code></pre>
`}blockquote(H){return`<blockquote>
`+H+`</blockquote>
`}html(H){return H}heading(H,ee,se,be){return this.options.headerIds?"<h"+ee+' id="'+this.options.headerPrefix+be.slug(se)+'">'+H+"</h"+ee+`>
`:"<h"+ee+">"+H+"</h"+ee+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(H,ee,se){const be=ee?"ol":"ul";return"<"+be+(ee&&se!==1?' start="'+se+'"':"")+`>
`+H+"</"+be+`>
`}listitem(H){return"<li>"+H+`</li>
`}checkbox(H){return"<input "+(H?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(H){return"<p>"+H+`</p>
`}table(H,ee){return ee&&(ee="<tbody>"+ee+"</tbody>"),`<table>
<thead>
`+H+`</thead>
`+ee+`</table>
`}tablerow(H){return`<tr>
`+H+`</tr>
`}tablecell(H,ee){const se=ee.header?"th":"td";return(ee.align?"<"+se+' align="'+ee.align+'">':"<"+se+">")+H+"</"+se+`>
`}strong(H){return"<strong>"+H+"</strong>"}em(H){return"<em>"+H+"</em>"}codespan(H){return"<code>"+H+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(H){return"<del>"+H+"</del>"}link(H,ee,se){if((H=u(this.options.sanitize,this.options.baseUrl,H))===null)return se;let be='<a href="'+h(H)+'"';return ee&&(be+=' title="'+ee+'"'),be+=">"+se+"</a>",be}image(H,ee,se){if((H=u(this.options.sanitize,this.options.baseUrl,H))===null)return se;let be='<img src="'+H+'" alt="'+se+'"';return ee&&(be+=' title="'+ee+'"'),be+=this.options.xhtml?"/>":">",be}text(H){return H}}class mt{strong(H){return H}em(H){return H}codespan(H){return H}del(H){return H}html(H){return H}text(H){return H}link(H,ee,se){return""+se}image(H,ee,se){return""+se}br(){return""}}class lt{constructor(){this.seen={}}serialize(H){return H.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(H,ee){let se=H,be=0;if(this.seen.hasOwnProperty(se)){be=this.seen[H];do be++,se=H+"-"+be;while(this.seen.hasOwnProperty(se))}return ee||(this.seen[H]=be,this.seen[se]=0),se}slug(H,ee={}){const se=this.serialize(H);return this.getNextSafeSlug(se,ee.dryrun)}}class ut{constructor(H){this.options=H||p,this.options.renderer=this.options.renderer||new De,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new mt,this.slugger=new lt}static parse(H,ee){return new ut(ee).parse(H)}static parseInline(H,ee){return new ut(ee).parseInline(H)}parse(H,ee=!0){let se,be,ht,jt,Qt,yt,Ce,ze,nt,Ke,xt,si,ni,ki,di,Ti,Ni,Gi,on,Zi="";const hn=H.length;for(se=0;se<hn;se++)if(Ke=H[se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ke.type]&&(on=this.options.extensions.renderers[Ke.type].call({parser:this},Ke),on!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ke.type)))Zi+=on||"";else switch(Ke.type){case"space":continue;case"hr":Zi+=this.renderer.hr();continue;case"heading":Zi+=this.renderer.heading(this.parseInline(Ke.tokens),Ke.depth,Z(this.parseInline(Ke.tokens,this.textRenderer)),this.slugger);continue;case"code":Zi+=this.renderer.code(Ke.text,Ke.lang,Ke.escaped);continue;case"table":for(ze="",Ce="",jt=Ke.header.length,be=0;be<jt;be++)Ce+=this.renderer.tablecell(this.parseInline(Ke.header[be].tokens),{header:!0,align:Ke.align[be]});for(ze+=this.renderer.tablerow(Ce),nt="",jt=Ke.rows.length,be=0;be<jt;be++){for(yt=Ke.rows[be],Ce="",Qt=yt.length,ht=0;ht<Qt;ht++)Ce+=this.renderer.tablecell(this.parseInline(yt[ht].tokens),{header:!1,align:Ke.align[ht]});nt+=this.renderer.tablerow(Ce)}Zi+=this.renderer.table(ze,nt);continue;case"blockquote":nt=this.parse(Ke.tokens),Zi+=this.renderer.blockquote(nt);continue;case"list":for(xt=Ke.ordered,si=Ke.start,ni=Ke.loose,jt=Ke.items.length,nt="",be=0;be<jt;be++)di=Ke.items[be],Ti=di.checked,Ni=di.task,ki="",di.task&&(Gi=this.renderer.checkbox(Ti),ni?di.tokens.length>0&&di.tokens[0].type==="paragraph"?(di.tokens[0].text=Gi+" "+di.tokens[0].text,di.tokens[0].tokens&&di.tokens[0].tokens.length>0&&di.tokens[0].tokens[0].type==="text"&&(di.tokens[0].tokens[0].text=Gi+" "+di.tokens[0].tokens[0].text)):di.tokens.unshift({type:"text",text:Gi}):ki+=Gi),ki+=this.parse(di.tokens,ni),nt+=this.renderer.listitem(ki,Ni,Ti);Zi+=this.renderer.list(nt,xt,si);continue;case"html":Zi+=this.renderer.html(Ke.text);continue;case"paragraph":Zi+=this.renderer.paragraph(this.parseInline(Ke.tokens));continue;case"text":for(nt=Ke.tokens?this.parseInline(Ke.tokens):Ke.text;se+1<hn&&H[se+1].type==="text";)Ke=H[++se],nt+=`
`+(Ke.tokens?this.parseInline(Ke.tokens):Ke.text);Zi+=ee?this.renderer.paragraph(nt):nt;continue;default:{const kn='Token with "'+Ke.type+'" type was not found.';if(this.options.silent)return void console.error(kn);throw new Error(kn)}}return Zi}parseInline(H,ee){ee=ee||this.renderer;let se,be,ht,jt="";const Qt=H.length;for(se=0;se<Qt;se++)if(be=H[se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[be.type]&&(ht=this.options.extensions.renderers[be.type].call({parser:this},be),ht!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(be.type)))jt+=ht||"";else switch(be.type){case"escape":case"text":jt+=ee.text(be.text);break;case"html":jt+=ee.html(be.text);break;case"link":jt+=ee.link(be.href,be.title,this.parseInline(be.tokens,ee));break;case"image":jt+=ee.image(be.href,be.title,be.text);break;case"strong":jt+=ee.strong(this.parseInline(be.tokens,ee));break;case"em":jt+=ee.em(this.parseInline(be.tokens,ee));break;case"codespan":jt+=ee.codespan(be.text);break;case"br":jt+=ee.br();break;case"del":jt+=ee.del(this.parseInline(be.tokens,ee));break;default:{const yt='Token with "'+be.type+'" type was not found.';if(this.options.silent)return void console.error(yt);throw new Error(yt)}}return jt}}function dt(Ne,H,ee){if(Ne==null)throw new Error("marked(): input parameter is undefined or null");if(typeof Ne!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ne)+", string expected");if(typeof H=="function"&&(ee=H,H=null),z(H=E({},dt.defaults,H||{})),ee){const se=H.highlight;let be;try{be=Ie.lex(Ne,H)}catch(Qt){return ee(Qt)}const ht=function(Qt){let yt;if(!Qt)try{H.walkTokens&&dt.walkTokens(be,H.walkTokens),yt=ut.parse(be,H)}catch(Ce){Qt=Ce}return H.highlight=se,Qt?ee(Qt):ee(null,yt)};if(!se||se.length<3||(delete H.highlight,!be.length))return ht();let jt=0;return dt.walkTokens(be,function(Qt){Qt.type==="code"&&(jt++,setTimeout(()=>{se(Qt.text,Qt.lang,function(yt,Ce){if(yt)return ht(yt);Ce!=null&&Ce!==Qt.text&&(Qt.text=Ce,Qt.escaped=!0),jt--,jt===0&&ht()})},0))}),void(jt===0&&ht())}try{const se=Ie.lex(Ne,H);return H.walkTokens&&dt.walkTokens(se,H.walkTokens),ut.parse(se,H)}catch(se){if(se.message+=`
Please report this to https://github.com/markedjs/marked.`,H.silent)return"<p>An error occurred:</p><pre>"+h(se.message+"",!0)+"</pre>";throw se}}dt.options=dt.setOptions=function(Ne){var H;return E(dt.defaults,Ne),H=dt.defaults,p=H,dt},dt.getDefaults=S,dt.defaults=p,dt.use=function(...Ne){const H=E({},...Ne),ee=dt.defaults.extensions||{renderers:{},childTokens:{}};let se;Ne.forEach(be=>{if(be.extensions&&(se=!0,be.extensions.forEach(ht=>{if(!ht.name)throw new Error("extension name required");if(ht.renderer){const jt=ee.renderers?ee.renderers[ht.name]:null;ee.renderers[ht.name]=jt?function(...Qt){let yt=ht.renderer.apply(this,Qt);return yt===!1&&(yt=jt.apply(this,Qt)),yt}:ht.renderer}if(ht.tokenizer){if(!ht.level||ht.level!=="block"&&ht.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");ee[ht.level]?ee[ht.level].unshift(ht.tokenizer):ee[ht.level]=[ht.tokenizer],ht.start&&(ht.level==="block"?ee.startBlock?ee.startBlock.push(ht.start):ee.startBlock=[ht.start]:ht.level==="inline"&&(ee.startInline?ee.startInline.push(ht.start):ee.startInline=[ht.start]))}ht.childTokens&&(ee.childTokens[ht.name]=ht.childTokens)})),be.renderer){const ht=dt.defaults.renderer||new De;for(const jt in be.renderer){const Qt=ht[jt];ht[jt]=(...yt)=>{let Ce=be.renderer[jt].apply(ht,yt);return Ce===!1&&(Ce=Qt.apply(ht,yt)),Ce}}H.renderer=ht}if(be.tokenizer){const ht=dt.defaults.tokenizer||new $;for(const jt in be.tokenizer){const Qt=ht[jt];ht[jt]=(...yt)=>{let Ce=be.tokenizer[jt].apply(ht,yt);return Ce===!1&&(Ce=Qt.apply(ht,yt)),Ce}}H.tokenizer=ht}if(be.walkTokens){const ht=dt.defaults.walkTokens;H.walkTokens=function(jt){be.walkTokens.call(this,jt),ht&&ht.call(this,jt)}}se&&(H.extensions=ee),dt.setOptions(H)})},dt.walkTokens=function(Ne,H){for(const ee of Ne)switch(H.call(dt,ee),ee.type){case"table":for(const se of ee.header)dt.walkTokens(se.tokens,H);for(const se of ee.rows)for(const be of se)dt.walkTokens(be.tokens,H);break;case"list":dt.walkTokens(ee.items,H);break;default:dt.defaults.extensions&&dt.defaults.extensions.childTokens&&dt.defaults.extensions.childTokens[ee.type]?dt.defaults.extensions.childTokens[ee.type].forEach(function(se){dt.walkTokens(ee[se],H)}):ee.tokens&&dt.walkTokens(ee.tokens,H)}},dt.parseInline=function(Ne,H){if(Ne==null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Ne!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Ne)+", string expected");z(H=E({},dt.defaults,H||{}));try{const ee=Ie.lexInline(Ne,H);return H.walkTokens&&dt.walkTokens(ee,H.walkTokens),ut.parseInline(ee,H)}catch(ee){if(ee.message+=`
Please report this to https://github.com/markedjs/marked.`,H.silent)return"<p>An error occurred:</p><pre>"+h(ee.message+"",!0)+"</pre>";throw ee}},dt.Parser=ut,dt.parser=ut.parse,dt.Renderer=De,dt.TextRenderer=mt,dt.Lexer=Ie,dt.lexer=Ie.lex,dt.Tokenizer=$,dt.Slugger=lt,dt.parse=dt,dt.options,dt.setOptions,dt.use,dt.walkTokens,dt.parseInline,ut.parse,Ie.lex;function _t(Ne,H){return Array(H+1).join(Ne)}dt.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(...Ne){return Object.getPrototypeOf(this).checkbox.call(this,...Ne).trimRight()},code(...Ne){return Object.getPrototypeOf(this).code.call(this,...Ne).replace(`
</code>`,"</code>")}}});var bt=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function Qe(Ne){return bt.indexOf(Ne.nodeName.toLowerCase())!==-1}var ft=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function Ve(Ne){return ft.indexOf(Ne.nodeName.toLowerCase())!==-1}var Te=ft.join(),Q={};function xe(Ne){for(var H in this.options=Ne,this._keep=[],this._remove=[],this.blankRule={replacement:Ne.blankReplacement},this.keepReplacement=Ne.keepReplacement,this.defaultRule={replacement:Ne.defaultReplacement},this.array=[],Ne.rules)this.array.push(Ne.rules[H])}function Oe(Ne,H,ee){for(var se=0;se<Ne.length;se++){var be=Ne[se];if(Je(be,H,ee))return be}}function Je(Ne,H,ee){var se=Ne.filter;if(typeof se=="string"){if(se===H.nodeName.toLowerCase())return!0}else if(Array.isArray(se)){if(se.indexOf(H.nodeName.toLowerCase())>-1)return!0}else{if(typeof se!="function")throw new TypeError("`filter` needs to be a string, array, or function");if(se.call(Ne,H,ee))return!0}}function Ze(Ne){var H=Ne.nextSibling||Ne.parentNode;return Ne.parentNode.removeChild(Ne),H}function tt(Ne,H,ee){return Ne&&Ne.parentNode===H||ee(H)?H.nextSibling||H.parentNode:H.firstChild||H.nextSibling||H.parentNode}Q.paragraph={filter:"p",replacement:function(Ne){return`

`+Ne+`

`}},Q.lineBreak={filter:"br",replacement:function(Ne,H,ee){return ee.br+`
`}},Q.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(Ne,H,ee){var se=Number(H.nodeName.charAt(1));return ee.headingStyle==="setext"&&se<3?`

`+Ne+`
`+_t(se===1?"=":"-",Ne.length)+`

`:`

`+_t("#",se)+" "+Ne+`

`}},Q.blockquote={filter:"blockquote",replacement:function(Ne){return`

`+(Ne=(Ne=Ne.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+`

`}},Q.list={filter:["ul","ol"],replacement:function(Ne,H){var ee=H.parentNode;return ee.nodeName==="LI"&&ee.lastElementChild===H?`
`+Ne:`

`+Ne+`

`}},Q.listItem={filter:"li",replacement:function(Ne,H,ee){Ne=Ne.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var se=ee.bulletListMarker+"   ",be=H.parentNode;if(be.nodeName==="OL"){var ht=be.getAttribute("start"),jt=Array.prototype.indexOf.call(be.children,H);se=(ht?Number(ht)+jt:jt+1)+".  "}return se+Ne+(H.nextSibling&&!/\n$/.test(Ne)?`
`:"")}},Q.indentedCodeBlock={filter:function(Ne,H){return H.codeBlockStyle==="indented"&&Ne.nodeName==="PRE"&&Ne.firstChild&&Ne.firstChild.nodeName==="CODE"},replacement:function(Ne,H,ee){return`

    `+H.firstChild.textContent.replace(/\n/g,`
    `)+`

`}},Q.fencedCodeBlock={filter:function(Ne,H){return H.codeBlockStyle==="fenced"&&Ne.nodeName==="PRE"&&Ne.firstChild&&Ne.firstChild.nodeName==="CODE"},replacement:function(Ne,H,ee){for(var se,be=((H.firstChild.className||"").match(/language-(\S+)/)||[null,""])[1],ht=H.firstChild.textContent,jt=ee.fence.charAt(0),Qt=3,yt=new RegExp("^"+jt+"{3,}","gm");se=yt.exec(ht);)se[0].length>=Qt&&(Qt=se[0].length+1);var Ce=_t(jt,Qt);return`

`+Ce+be+`
`+ht.replace(/\n$/,"")+`
`+Ce+`

`}},Q.horizontalRule={filter:"hr",replacement:function(Ne,H,ee){return`

`+ee.hr+`

`}},Q.inlineLink={filter:function(Ne,H){return H.linkStyle==="inlined"&&Ne.nodeName==="A"&&Ne.getAttribute("href")},replacement:function(Ne,H){return"["+Ne+"]("+H.getAttribute("href")+(H.title?' "'+H.title+'"':"")+")"}},Q.referenceLink={filter:function(Ne,H){return H.linkStyle==="referenced"&&Ne.nodeName==="A"&&Ne.getAttribute("href")},replacement:function(Ne,H,ee){var se,be,ht=H.getAttribute("href"),jt=H.title?' "'+H.title+'"':"";switch(ee.linkReferenceStyle){case"collapsed":se="["+Ne+"][]",be="["+Ne+"]: "+ht+jt;break;case"shortcut":se="["+Ne+"]",be="["+Ne+"]: "+ht+jt;break;default:var Qt=this.references.length+1;se="["+Ne+"]["+Qt+"]",be="["+Qt+"]: "+ht+jt}return this.references.push(be),se},references:[],append:function(Ne){var H="";return this.references.length&&(H=`

`+this.references.join(`
`)+`

`,this.references=[]),H}},Q.emphasis={filter:["em","i"],replacement:function(Ne,H,ee){return Ne.trim()?ee.emDelimiter+Ne+ee.emDelimiter:""}},Q.strong={filter:["strong","b"],replacement:function(Ne,H,ee){return Ne.trim()?ee.strongDelimiter+Ne+ee.strongDelimiter:""}},Q.code={filter:function(Ne){var H=Ne.previousSibling||Ne.nextSibling,ee=Ne.parentNode.nodeName==="PRE"&&!H;return Ne.nodeName==="CODE"&&!ee},replacement:function(Ne){if(!Ne.trim())return"";var H="`",ee="",se="",be=Ne.match(/`+/gm);if(be)for(/^`/.test(Ne)&&(ee=" "),/`$/.test(Ne)&&(se=" ");be.indexOf(H)!==-1;)H+="`";return H+ee+Ne+se+H}},Q.image={filter:"img",replacement:function(Ne,H){var ee=H.alt||"",se=H.getAttribute("src")||"",be=H.title||"";return se?"!["+ee+"]("+se+(be?' "'+be+'"':"")+")":""}},xe.prototype={add:function(Ne,H){this.array.unshift(H)},keep:function(Ne){this._keep.unshift({filter:Ne,replacement:this.keepReplacement})},remove:function(Ne){this._remove.unshift({filter:Ne,replacement:function(){return""}})},forNode:function(Ne){return Ne.isBlank?this.blankRule:(H=Oe(this.array,Ne,this.options))||(H=Oe(this._keep,Ne,this.options))||(H=Oe(this._remove,Ne,this.options))?H:this.defaultRule;var H},forEach:function(Ne){for(var H=0;H<this.array.length;H++)Ne(this.array[H],H)}};var st=typeof window<"u"?window:{},Lt,Ft=function(){var Ne=st.DOMParser,H=!1;try{new Ne().parseFromString("","text/html")&&(H=!0)}catch{}return H}()?st.DOMParser:function(){var Ne=function(){},H=J(915).JSDOM;return Ne.prototype.parseFromString=function(ee){return new H(ee).window.document},Ne}();function Yt(Ne){var H;return typeof Ne=="string"?H=(Lt=Lt||new Ft).parseFromString('<x-turndown id="turndown-root">'+Ne+"</x-turndown>","text/html").getElementById("turndown-root"):H=Ne.cloneNode(!0),function(ee){var se=ee.element,be=ee.isBlock,ht=ee.isVoid,jt=ee.isPre||function(xt){return xt.nodeName==="PRE"};if(se.firstChild&&!jt(se)){for(var Qt=null,yt=!1,Ce=null,ze=tt(Ce,se,jt);ze!==se;){if(ze.nodeType===3||ze.nodeType===4){var nt=ze.data.replace(/[ \r\n\t]+/g," ");if(Qt&&!/ $/.test(Qt.data)||yt||nt[0]!==" "||(nt=nt.substr(1)),!nt){ze=Ze(ze);continue}ze.data=nt,Qt=ze}else{if(ze.nodeType!==1){ze=Ze(ze);continue}be(ze)||ze.nodeName==="BR"?(Qt&&(Qt.data=Qt.data.replace(/ $/,"")),Qt=null,yt=!1):ht(ze)&&(Qt=null,yt=!0)}var Ke=tt(Ce,ze,jt);Ce=ze,ze=Ke}Qt&&(Qt.data=Qt.data.replace(/ $/,""),Qt.data||Ze(Qt))}}({element:H,isBlock:Qe,isVoid:Ve}),H}function ui(Ne){return Ne.isBlock=Qe(Ne),Ne.isCode=Ne.nodeName.toLowerCase()==="code"||Ne.parentNode.isCode,Ne.isBlank=function(H){return["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf(H.nodeName)===-1&&/^\s*$/i.test(H.textContent)&&!Ve(H)&&!function(ee){return ee.querySelector&&ee.querySelector(Te)}(H)}(Ne),Ne.flankingWhitespace=function(H){var ee="",se="";if(!H.isBlock){var be=/^\s/.test(H.textContent),ht=/\s$/.test(H.textContent),jt=H.isBlank&&be&&ht;be&&!Nt("left",H)&&(ee=" "),jt||!ht||Nt("right",H)||(se=" ")}return{leading:ee,trailing:se}}(Ne),Ne}function Nt(Ne,H){var ee,se,be;return Ne==="left"?(ee=H.previousSibling,se=/ $/):(ee=H.nextSibling,se=/^ /),ee&&(ee.nodeType===3?be=se.test(ee.nodeValue):ee.nodeType!==1||Qe(ee)||(be=se.test(ee.textContent))),be}var ti=Array.prototype.reduce,hi=/^\n*/,Ci=/\n*$/,Oi=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Di(Ne){if(!(this instanceof Di))return new Di(Ne);var H={rules:Q,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(ee,se){return se.isBlock?`

`:""},keepReplacement:function(ee,se){return se.isBlock?`

`+se.outerHTML+`

`:se.outerHTML},defaultReplacement:function(ee,se){return se.isBlock?`

`+ee+`

`:ee}};this.options=function(ee){for(var se=1;se<arguments.length;se++){var be=arguments[se];for(var ht in be)be.hasOwnProperty(ht)&&(ee[ht]=be[ht])}return ee}({},H,Ne),this.rules=new xe(this.options)}function Vi(Ne){var H=this;return ti.call(Ne.childNodes,function(ee,se){var be="";return(se=new ui(se)).nodeType===3?be=se.isCode?se.nodeValue:H.escape(se.nodeValue):se.nodeType===1&&(be=$i.call(H,se)),at(ee,be)},"")}function Pi(Ne){var H=this;return this.rules.forEach(function(ee){typeof ee.append=="function"&&(Ne=at(Ne,ee.append(H.options)))}),Ne.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function $i(Ne){var H=this.rules.forNode(Ne),ee=Vi.call(this,Ne),se=Ne.flankingWhitespace;return(se.leading||se.trailing)&&(ee=ee.trim()),se.leading+H.replacement(ee,Ne,this.options)+se.trailing}function at(Ne,H){var ee,se,be,ht=(ee=H,se=[Ne.match(Ci)[0],ee.match(hi)[0]].sort(),(be=se[se.length-1]).length<2?be:`

`);return(Ne=Ne.replace(Ci,""))+ht+(H=H.replace(hi,""))}Di.prototype={turndown:function(Ne){if(!function(ee){return ee!=null&&(typeof ee=="string"||ee.nodeType&&(ee.nodeType===1||ee.nodeType===9||ee.nodeType===11))}(Ne))throw new TypeError(Ne+" is not a string, or an element/document/fragment node.");if(Ne==="")return"";var H=Vi.call(this,new Yt(Ne));return Pi.call(this,H)},use:function(Ne){if(Array.isArray(Ne))for(var H=0;H<Ne.length;H++)this.use(Ne[H]);else{if(typeof Ne!="function")throw new TypeError("plugin must be a Function or an Array of Functions");Ne(this)}return this},addRule:function(Ne,H){return this.rules.add(Ne,H),this},keep:function(Ne){return this.rules.keep(Ne),this},remove:function(Ne){return this.rules.remove(Ne),this},escape:function(Ne){return Oi.reduce(function(H,ee){return H.replace(ee[0],ee[1])},Ne)}};const ue=Di;var ye=/highlight-(?:text|source)-([a-z0-9]+)/;function Le(Ne){Ne.addRule("highlightedCodeBlock",{filter:function(H){var ee=H.firstChild;return H.nodeName==="DIV"&&ye.test(H.className)&&ee&&ee.nodeName==="PRE"},replacement:function(H,ee,se){var be=((ee.className||"").match(ye)||[null,""])[1];return`

`+se.fence+be+`
`+ee.firstChild.textContent+`
`+se.fence+`

`}})}function Ge(Ne){Ne.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(H){return"~"+H+"~"}})}var rt=Array.prototype.indexOf,gt=Array.prototype.every,Ot={};function Mt(Ne){var H,ee,se=Ne.parentNode;return se.nodeName==="THEAD"||se.firstChild===Ne&&(se.nodeName==="TABLE"||(ee=(H=se).previousSibling,H.nodeName==="TBODY"&&(!ee||ee.nodeName==="THEAD"&&/^\s*$/i.test(ee.textContent))))&&gt.call(Ne.childNodes,function(be){return be.nodeName==="TH"})}function Ut(Ne,H){var ee=" ";return rt.call(H.parentNode.childNodes,H)===0&&(ee="| "),ee+Ne+" |"}function ri(Ne){for(var H in Ne.keep(function(ee){return ee.nodeName==="TABLE"&&!Mt(ee.rows[0])}),Ot)Ne.addRule(H,Ot[H])}function oi(Ne){Ne.addRule("taskListItems",{filter:function(H){return H.type==="checkbox"&&H.parentNode.nodeName==="LI"},replacement:function(H,ee){return(ee.checked?"[x]":"[ ]")+" "}})}Ot.tableCell={filter:["th","td"],replacement:function(Ne,H){return Ut(Ne,H)}},Ot.tableRow={filter:"tr",replacement:function(Ne,H){var ee="",se={left:":--",right:"--:",center:":-:"};if(Mt(H))for(var be=0;be<H.childNodes.length;be++){var ht="---",jt=(H.childNodes[be].getAttribute("align")||"").toLowerCase();jt&&(ht=se[jt]||ht),ee+=Ut(ht,H.childNodes[be])}return`
`+Ne+(ee?`
`+ee:"")}},Ot.table={filter:function(Ne){return Ne.nodeName==="TABLE"&&Mt(Ne.rows[0])},replacement:function(Ne){return`

`+(Ne=Ne.replace(`

`,`
`))+`

`}},Ot.tableSection={filter:["thead","tbody","tfoot"],replacement:function(Ne){return Ne}};const wi=ue.prototype.escape;function Ii(Ne){return Ne=(Ne=wi(Ne)).replace(/</g,"\\<")}ue.prototype.escape=function(Ne){let H="",ee=0;for(const se of function*(be){for(const ht of be.matchAll(yi)){const jt=ht[0],Qt=ji(jt);yield Object.assign([jt.substring(0,Qt)],{index:ht.index})}}(Ne)){const be=se.index;be>ee&&(H+=Ii(Ne.substring(ee,be)));const ht=se[0];H+=ht,ee=be+ht.length}return ee<Ne.length&&(H+=Ii(Ne.substring(ee,Ne.length))),H};const Li=new ue({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});Li.use([function(Ne){Ne.use([Le,Ge,ri,oi])},function(Ne){Ne.addRule("taskListItems",{filter:H=>H.type==="checkbox"&&(H.parentNode.nodeName==="LI"||H.parentNode.parentNode.nodeName==="LI"),replacement:(H,ee)=>(ee.checked?"[x]":"[ ]")+" "})}]);const yi=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");function ji(Ne){let H=Ne.length;for(;H>0;){const ee=Ne[H-1];if(`?!.,:*_~'"`.includes(ee))H--;else{if(ee!=")")break;{let se=0;for(let be=0;be<H;be++)Ne[be]=="("?se++:Ne[be]==")"&&se--;if(!(se<0))break;H--}}}return H}class Ki{constructor(H){this._htmlDP=new M.HtmlDataProcessor(H)}keepHtml(H){Li.keep([H])}toView(H){const ee=(se=H,dt.parse(se,{gfm:!0,breaks:!0,tables:!0,xhtml:!0,headerIds:!1}));var se;return this._htmlDP.toView(ee)}toData(H){return function(ee){return Li.turndown(ee)}(this._htmlDP.toData(H))}registerRawContentMatcher(H){this._htmlDP.registerRawContentMatcher(H)}useFillerType(){}}class Mi extends m.Plugin{constructor(H){super(H),H.data.processor=new Ki(H.data.viewDocument)}static get pluginName(){return"Markdown"}}var tn=J(945);const $t=["SPAN","BR","PRE","CODE"];class wn extends m.Plugin{constructor(H){super(H),this._gfmDataProcessor=new Ki(H.data.viewDocument)}static get pluginName(){return"PasteFromMarkdownExperimental"}static get requires(){return[tn.ClipboardPipeline]}init(){const H=this.editor,ee=H.editing.view.document,se=H.plugins.get("ClipboardPipeline");let be=!1;this.listenTo(ee,"keydown",(ht,jt)=>{be=jt.shiftKey}),this.listenTo(se,"inputTransformation",(ht,jt)=>{if(be)return;const Qt=jt.dataTransfer.getData("text/html");if(!Qt){const Ce=jt.dataTransfer.getData("text/plain");return void(jt.content=this._gfmDataProcessor.toView(Ce))}const yt=this._parseMarkdownFromHtml(Qt);yt&&(jt.content=this._gfmDataProcessor.toView(yt))})}_parseMarkdownFromHtml(H){const ee=this._removeOsSpecificTags(H);if(!this._containsOnlyAllowedFirstLevelTags(ee))return null;const se=this._removeFirstLevelWrapperTagsAndBrs(ee);return this._containsAnyRemainingHtmlTags(se)?null:this._replaceHtmlReservedEntitiesWithCharacters(se)}_removeOsSpecificTags(H){return H.replace(/^<meta\b[^>]*>/,"").trim().replace(/^<html>/,"").replace(/<\/html>$/,"").trim().replace(/^<body>/,"").replace(/<\/body>$/,"").trim().replace(/^<!--StartFragment-->/,"").replace(/<!--EndFragment-->$/,"").trim()}_containsOnlyAllowedFirstLevelTags(H){const ee=new DOMParser,{body:se}=ee.parseFromString(H,"text/html");return Array.from(se.children).map(be=>be.tagName).every(be=>$t.includes(be))}_removeFirstLevelWrapperTagsAndBrs(H){const ee=new DOMParser,{body:se}=ee.parseFromString(H,"text/html"),be=se.querySelectorAll("br");for(const jt of be)jt.replaceWith(`
`);const ht=se.querySelectorAll(":scope > *");for(const jt of ht){const Qt=jt.cloneNode(!0);jt.replaceWith(...Qt.childNodes)}return se.innerHTML}_containsAnyRemainingHtmlTags(H){return H.includes("<")}_replaceHtmlReservedEntitiesWithCharacters(H){return H.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&nbsp;/g," ")}}})(),(window.CKEditor5=window.CKEditor5||{}).markdownGfm=Et})()},34047:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{"Insert media":"Insert media","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Open media in new tab":"Open media in new tab","Paste the media URL in the input.":"Paste the media URL in the input.","The URL must not be empty.":"The URL must not be empty.","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster."})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={487:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const l=_},199:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}",""]);const l=_},835:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',""]);const l=_},708:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}",""]);const l=_},609:m=>{"use strict";m.exports=function(M){var S=[];return S.toString=function(){return this.map(function(p){var _=M(p);return p[2]?"@media ".concat(p[2]," {").concat(_,"}"):_}).join("")},S.i=function(p,_,l){typeof p=="string"&&(p=[[null,p,""]]);var c={};if(l)for(var P=0;P<this.length;P++){var B=this[P][0];B!=null&&(c[B]=!0)}for(var x=0;x<p.length;x++){var h=[].concat(p[x]);l&&c[h[0]]||(_&&(h[2]?h[2]="".concat(_," and ").concat(h[2]):h[2]=_),S.push(h))}},S}},62:(m,M,S)=>{"use strict";var p,_=function(){return p===void 0&&(p=Boolean(window&&document&&document.all&&!window.atob)),p},l=function(){var u={};return function(y){if(u[y]===void 0){var f=document.querySelector(y);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}u[y]=f}return u[y]}}(),c=[];function P(u){for(var y=-1,f=0;f<c.length;f++)if(c[f].identifier===u){y=f;break}return y}function B(u,y){for(var f={},v=[],A=0;A<u.length;A++){var T=u[A],E=y.base?T[0]+y.base:T[0],ae=f[E]||0,q="".concat(E," ").concat(ae);f[E]=ae+1;var z=P(q),b={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(b)):c.push({identifier:q,updater:ie(b,y),references:1}),v.push(q)}return v}function x(u){var y=document.createElement("style"),f=u.attributes||{};if(f.nonce===void 0){var v=S.nc;v&&(f.nonce=v)}if(Object.keys(f).forEach(function(T){y.setAttribute(T,f[T])}),typeof u.insert=="function")u.insert(y);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(y)}return y}var h,j=(h=[],function(u,y){return h[u]=y,h.filter(Boolean).join(`
`)});function Z(u,y,f,v){var A=f?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=j(y,A);else{var T=document.createTextNode(A),E=u.childNodes;E[y]&&u.removeChild(E[y]),E.length?u.insertBefore(T,E[y]):u.appendChild(T)}}function Y(u,y,f){var v=f.css,A=f.media,T=f.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var te=null,oe=0;function ie(u,y){var f,v,A;if(y.singleton){var T=oe++;f=te||(te=x(y)),v=Z.bind(null,f,T,!1),A=Z.bind(null,f,T,!0)}else f=x(y),v=Y.bind(null,f,y),A=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(f)};return v(u),function(E){if(E){if(E.css===u.css&&E.media===u.media&&E.sourceMap===u.sourceMap)return;v(u=E)}else A()}}m.exports=function(u,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=_());var f=B(u=u||[],y);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<f.length;A++){var T=P(f[A]);c[T].references--}for(var E=B(v,y),ae=0;ae<f.length;ae++){var q=P(f[ae]);c[q].references===0&&(c[q].updater(),c.splice(q,1))}f=E}}}},945:(m,M,S)=>{m.exports=S(79)("./src/clipboard.js")},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},492:(m,M,S)=>{m.exports=S(79)("./src/engine.js")},181:(m,M,S)=>{m.exports=S(79)("./src/typing.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},254:(m,M,S)=>{m.exports=S(79)("./src/undo.js")},209:(m,M,S)=>{m.exports=S(79)("./src/utils.js")},995:(m,M,S)=>{m.exports=S(79)("./src/widget.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={id:m,exports:{}};return Gt[m](S,S.exports,J),S.exports}J.n=m=>{var M=m&&m.__esModule?()=>m.default:()=>m;return J.d(M,{a:M}),M},J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},J.nc=void 0;var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{AutoMediaEmbed:()=>T,MediaEmbed:()=>re,MediaEmbedEditing:()=>ie,MediaEmbedToolbar:()=>Ee,MediaEmbedUI:()=>V});var m=J(704),M=J(995),S=J(209);function p(je,Ie){const De=(mt,lt,ut)=>{if(!ut.consumable.consume(lt.item,mt.name))return;const dt=lt.attributeNewValue,_t=ut.writer,bt=ut.mapper.toViewElement(lt.item),Qe=[...bt.getChildren()].find(Ve=>Ve.getCustomProperty("media-content"));_t.remove(Qe);const ft=je.getMediaViewElement(_t,dt,Ie);_t.insert(_t.createPositionAt(bt,0),ft)};return mt=>{mt.on("attribute:url:media",De)}}function _(je){const Ie=je.getSelectedElement();return Ie&&function(De){return!!De.getCustomProperty("media")&&(0,M.isWidget)(De)}(Ie)?Ie:null}function l(je,Ie,De,mt){return je.createContainerElement("figure",{class:"media"},[Ie.getMediaViewElement(je,De,mt),je.createSlot()])}function c(je){const Ie=je.getSelectedElement();return Ie&&Ie.is("element","media")?Ie:null}function P(je,Ie,De,mt){je.change(lt=>{const ut=lt.createElement("media",{url:Ie});je.insertObject(ut,De,null,{setSelection:"on",findOptimalPosition:mt?"auto":void 0})})}class B extends m.Command{refresh(){const Ie=this.editor.model,De=Ie.document.selection,mt=c(De);this.value=mt?mt.getAttribute("url"):void 0,this.isEnabled=function(lt){const ut=lt.getSelectedElement();return!!ut&&ut.name==="media"}(De)||function(lt,ut){let _t=(0,M.findOptimalInsertionRange)(lt,ut).start.parent;return _t.isEmpty&&!ut.schema.isLimit(_t)&&(_t=_t.parent),ut.schema.checkChild(_t,"media")}(De,Ie)}execute(Ie){const De=this.editor.model,mt=De.document.selection,lt=c(mt);lt?De.change(ut=>{ut.setAttribute("url",Ie,lt)}):P(De,Ie,mt,!0)}}var x=J(273);class h{constructor(Ie,De){const mt=De.providers,lt=De.extraProviders||[],ut=new Set(De.removeProviders),dt=mt.concat(lt).filter(_t=>{const bt=_t.name;return bt?!ut.has(bt):((0,S.logWarning)("media-embed-no-provider-name",{provider:_t}),!1)});this.locale=Ie,this.providerDefinitions=dt}hasMedia(Ie){return!!this._getMedia(Ie)}getMediaViewElement(Ie,De,mt){return this._getMedia(De).getViewElement(Ie,mt)}_getMedia(Ie){if(!Ie)return new j(this.locale);Ie=Ie.trim();for(const De of this.providerDefinitions){const mt=De.html,lt=(0,S.toArray)(De.url);for(const ut of lt){const dt=this._getUrlMatches(Ie,ut);if(dt)return new j(this.locale,Ie,dt,mt)}}return null}_getUrlMatches(Ie,De){let mt=Ie.match(De);if(mt)return mt;let lt=Ie.replace(/^https?:\/\//,"");return mt=lt.match(De),mt||(lt=lt.replace(/^www\./,""),mt=lt.match(De),mt||null)}}class j{constructor(Ie,De,mt,lt){this.url=this._getValidUrl(De),this._locale=Ie,this._match=mt,this._previewRenderer=lt}getViewElement(Ie,De){const mt={};let lt;if(De.renderForEditingView||De.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(mt["data-oembed-url"]=this.url),De.renderForEditingView&&(mt.class="ck-media__wrapper");const ut=this._getPreviewHtml(De);lt=Ie.createRawElement("div",mt,(dt,_t)=>{_t.setContentOf(dt,ut)})}else this.url&&(mt.url=this.url),lt=Ie.createEmptyElement(De.elementName,mt);return Ie.setCustomProperty("media-content",!0,lt),lt}_getPreviewHtml(Ie){return this._previewRenderer?this._previewRenderer(this._match):this.url&&Ie.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const Ie=new x.IconView,De=this._locale.t;return Ie.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',Ie.viewBox="0 0 64 42",new x.Template({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[Ie]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":De("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(Ie){return Ie?Ie.match(/^https?/)?Ie:"https://"+Ie:null}}var Z=J(62),Y=J.n(Z),te=J(835),oe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(te.Z,oe),te.Z.locals;class ie extends m.Plugin{static get pluginName(){return"MediaEmbedEditing"}constructor(Ie){super(Ie),Ie.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:De=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${De[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:De=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${De[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:De=>{const mt=De[1],lt=De[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${mt}${lt?`?start=${lt}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:De=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${De[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new h(Ie.locale,Ie.config.get("mediaEmbed"))}init(){const Ie=this.editor,De=Ie.model.schema,mt=Ie.t,lt=Ie.conversion,ut=Ie.config.get("mediaEmbed.previewsInData"),dt=Ie.config.get("mediaEmbed.elementName"),_t=this.registry;Ie.commands.add("mediaEmbed",new B(Ie)),De.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),lt.for("dataDowncast").elementToStructure({model:"media",view:(bt,{writer:Qe})=>{const ft=bt.getAttribute("url");return l(Qe,_t,ft,{elementName:dt,renderMediaPreview:!!ft&&ut})}}),lt.for("dataDowncast").add(p(_t,{elementName:dt,renderMediaPreview:ut})),lt.for("editingDowncast").elementToStructure({model:"media",view:(bt,{writer:Qe})=>{const ft=bt.getAttribute("url");return function(Ve,Te,Q){return Te.setCustomProperty("media",!0,Ve),(0,M.toWidget)(Ve,Te,{label:Q})}(l(Qe,_t,ft,{elementName:dt,renderForEditingView:!0}),Qe,mt("media widget"))}}),lt.for("editingDowncast").add(p(_t,{elementName:dt,renderForEditingView:!0})),lt.for("upcast").elementToElement({view:bt=>["oembed",dt].includes(bt.name)&&bt.getAttribute("url")?{name:!0}:null,model:(bt,{writer:Qe})=>{const ft=bt.getAttribute("url");return _t.hasMedia(ft)?Qe.createElement("media",{url:ft}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(bt,{writer:Qe})=>{const ft=bt.getAttribute("data-oembed-url");return _t.hasMedia(ft)?Qe.createElement("media",{url:ft}):null}}).add(bt=>{bt.on("element:figure",(Qe,ft,Ve)=>{if(!Ve.consumable.consume(ft.viewItem,{name:!0,classes:"media"}))return;const{modelRange:Te,modelCursor:Q}=Ve.convertChildren(ft.viewItem,ft.modelCursor);ft.modelRange=Te,ft.modelCursor=Q,(0,S.first)(Te.getItems())||Ve.consumable.revert(ft.viewItem,{name:!0,classes:"media"})})})}}var u=J(492),y=J(945),f=J(181),v=J(254);const A=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class T extends m.Plugin{static get requires(){return[y.Clipboard,f.Delete,v.Undo]}static get pluginName(){return"AutoMediaEmbed"}constructor(Ie){super(Ie),this._timeoutId=null,this._positionToInsert=null}init(){const Ie=this.editor,De=Ie.model.document,mt=Ie.plugins.get("ClipboardPipeline");this.listenTo(mt,"inputTransformation",()=>{const lt=De.selection.getFirstRange(),ut=u.LivePosition.fromPosition(lt.start);ut.stickiness="toPrevious";const dt=u.LivePosition.fromPosition(lt.end);dt.stickiness="toNext",De.once("change:data",()=>{this._embedMediaBetweenPositions(ut,dt),ut.detach(),dt.detach()},{priority:"high"})}),Ie.commands.get("undo").on("execute",()=>{this._timeoutId&&(S.global.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(Ie,De){const mt=this.editor,lt=mt.plugins.get(ie).registry,ut=new u.LiveRange(Ie,De),dt=ut.getWalker({ignoreElementEnd:!0});let _t="";for(const bt of dt)bt.item.is("$textProxy")&&(_t+=bt.item.data);if(_t=_t.trim(),!_t.match(A)||!lt.hasMedia(_t))return void ut.detach();mt.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=u.LivePosition.fromPosition(Ie),this._timeoutId=S.global.window.setTimeout(()=>{mt.model.change(bt=>{this._timeoutId=null,bt.remove(ut),ut.detach();let Qe=null;this._positionToInsert.root.rootName!=="$graveyard"&&(Qe=this._positionToInsert),P(mt.model,_t,Qe,!1),this._positionToInsert.detach(),this._positionToInsert=null}),mt.plugins.get(f.Delete).requestUndoOnBackspace()},100)):ut.detach()}}var E=J(487),ae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(E.Z,ae),E.Z.locals;var q=J(708),z={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(q.Z,z),q.Z.locals;class b extends x.View{constructor(Ie,De){super(De);const mt=De.t;this.focusTracker=new S.FocusTracker,this.keystrokes=new S.KeystrokeHandler,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(mt("Save"),m.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",lt=>!!lt),this.cancelButtonView=this._createButton(mt("Cancel"),m.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new x.ViewCollection,this._focusCycler=new x.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=Ie,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),(0,x.submitHandler)({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(De=>{this._focusables.add(De),this.focusTracker.add(De.element)}),this.keystrokes.listenTo(this.element);const Ie=De=>De.stopPropagation();this.keystrokes.set("arrowright",Ie),this.keystrokes.set("arrowleft",Ie),this.keystrokes.set("arrowup",Ie),this.keystrokes.set("arrowdown",Ie)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(Ie){this.urlInputView.fieldView.element.value=Ie.trim()}isValid(){this.resetFormStatus();for(const Ie of this._validators){const De=Ie(this);if(De)return this.urlInputView.errorText=De,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const Ie=this.locale.t,De=new x.LabeledFieldView(this.locale,x.createLabeledInputText),mt=De.fieldView;return this._urlInputViewInfoDefault=Ie("Paste the media URL in the input."),this._urlInputViewInfoTip=Ie("Tip: Paste the URL into the content to embed faster."),De.label=Ie("Media URL"),De.infoText=this._urlInputViewInfoDefault,mt.on("input",()=>{De.infoText=mt.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=mt.element.value.trim()}),De}_createButton(Ie,De,mt,lt){const ut=new x.ButtonView(this.locale);return ut.set({label:Ie,icon:De,tooltip:!0}),ut.extendTemplate({attributes:{class:mt}}),lt&&ut.delegate("execute").to(this,lt),ut}}class V extends m.Plugin{static get requires(){return[ie]}static get pluginName(){return"MediaEmbedUI"}init(){const Ie=this.editor,De=Ie.commands.get("mediaEmbed");Ie.ui.componentFactory.add("mediaEmbed",mt=>{const lt=(0,x.createDropdown)(mt);return this._setUpDropdown(lt,De),lt})}_setUpDropdown(Ie,De){const mt=this.editor,lt=mt.t,ut=Ie.buttonView,dt=mt.plugins.get(ie).registry;Ie.once("change:isOpen",()=>{const _t=new((0,x.CssTransitionDisablerMixin)(b))(function(bt,Qe){return[ft=>{if(!ft.url.length)return bt("The URL must not be empty.")},ft=>{if(!Qe.hasMedia(ft.url))return bt("This media URL is not supported.")}]}(mt.t,dt),mt.locale);Ie.panelView.children.add(_t),ut.on("open",()=>{_t.disableCssTransitions(),_t.url=De.value||"",_t.urlInputView.fieldView.select(),_t.enableCssTransitions()},{priority:"low"}),Ie.on("submit",()=>{_t.isValid()&&(mt.execute("mediaEmbed",_t.url),mt.editing.view.focus())}),Ie.on("change:isOpen",()=>_t.resetFormStatus()),Ie.on("cancel",()=>{mt.editing.view.focus()}),_t.delegate("submit","cancel").to(Ie),_t.urlInputView.fieldView.bind("value").to(De,"value"),_t.urlInputView.bind("isEnabled").to(De,"isEnabled")}),Ie.bind("isEnabled").to(De),ut.set({label:lt("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var $=J(199),D={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()($.Z,D),$.Z.locals;class re extends m.Plugin{static get requires(){return[ie,V,T,M.Widget]}static get pluginName(){return"MediaEmbed"}}class Ee extends m.Plugin{static get requires(){return[M.WidgetToolbarRepository]}static get pluginName(){return"MediaEmbedToolbar"}afterInit(){const Ie=this.editor,De=Ie.t;Ie.plugins.get(M.WidgetToolbarRepository).register("mediaEmbed",{ariaLabel:De("Media toolbar"),items:Ie.config.get("mediaEmbed.toolbar")||[],getRelatedElement:_})}}})(),(window.CKEditor5=window.CKEditor5||{}).mediaEmbed=Et})()},33055:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Gt={945:(m,M,S)=>{m.exports=S(79)("./src/clipboard.js")},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},492:(m,M,S)=>{m.exports=S(79)("./src/engine.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={exports:{}};return Gt[m](S,S.exports,J),S.exports}J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{MSWordNormalizer:()=>j,PasteFromOffice:()=>v,parseHtml:()=>f});var m=J(704),M=J(945),S=J(492);function p(A,T){if(!A.childCount)return;const E=new S.UpcastWriter(A.document),ae=function(b,V){const $=V.createRangeIn(b),D=new S.Matcher({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),re=[];for(const Ee of $)if(Ee.type==="elementStart"&&D.match(Ee.item)){const je=c(Ee.item);re.push({element:Ee.item,id:je.id,order:je.order,indent:je.indent})}return re}(A,E);if(!ae.length)return;let q=null,z=1;ae.forEach((b,V)=>{const $=function(De,mt){if(!De)return!0;if(De.id!==mt.id)return mt.indent-De.indent!=1;const lt=mt.element.previousSibling;if(!lt)return!0;return ut=lt,!(ut.is("element","ol")||ut.is("element","ul"));var ut}(ae[V-1],b),D=$?null:ae[V-1],re=(je=b,(Ee=D)?je.indent-Ee.indent:je.indent-1);var Ee,je;if($&&(q=null,z=1),!q||re!==0){const De=function(mt,lt){const ut=new RegExp(`@list l${mt.id}:level${mt.indent}\\s*({[^}]*)`,"gi"),dt=/mso-level-number-format:([^;]{0,100});/gi,_t=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,bt=ut.exec(lt);let Qe="decimal",ft="ol",Ve=null;if(bt&&bt[1]){const Te=dt.exec(bt[1]);if(Te&&Te[1]&&(Qe=Te[1].trim(),ft=Qe!=="bullet"&&Qe!=="image"?"ol":"ul"),Qe==="bullet"){const Q=function(xe){const Oe=function(Ze){if(Ze.getChild(0).is("$text"))return null;for(const tt of Ze.getChildren()){if(!tt.is("element","span"))continue;const st=tt.getChild(0);if(st)return st.is("$text")?st:st.getChild(0)}return null}(xe);if(!Oe)return null;const Je=Oe._data;return Je==="o"?"circle":Je==="\xB7"?"disc":Je==="\xA7"?"square":null}(mt.element);Q&&(Qe=Q)}else{const Q=_t.exec(bt[1]);Q&&Q[1]&&(Ve=parseInt(Q[1]))}}return{type:ft,startIndex:Ve,style:_(Qe)}}(b,T);if(q){if(b.indent>z){const mt=q.getChild(q.childCount-1),lt=mt.getChild(mt.childCount-1);q=l(De,lt,E),z+=1}else if(b.indent<z){const mt=z-b.indent;q=function(lt,ut){const dt=lt.getAncestors({parentFirst:!0});let _t=null,bt=0;for(const Qe of dt)if((Qe.is("element","ul")||Qe.is("element","ol"))&&bt++,bt===ut){_t=Qe;break}return _t}(q,mt),z=b.indent}}else q=l(De,b.element,E);b.indent<=z&&(q.is("element",De.type)||(q=E.rename(De.type,q)))}const Ie=function(De,mt){return function(lt,ut){const dt=new S.Matcher({name:"span",styles:{"mso-list":"Ignore"}}),_t=ut.createRangeIn(lt);for(const bt of _t)bt.type==="elementStart"&&dt.match(bt.item)&&ut.remove(bt.item)}(De,mt),mt.removeStyle("text-indent",De),mt.rename("li",De)}(b.element,E);E.appendChild(Ie,q)})}function _(A){if(A.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(A){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return A;default:return null}}function l(A,T,E){const ae=T.parent,q=E.createElement(A.type),z=ae.getChildIndex(T)+1;return E.insertChild(z,q,ae),A.style&&E.setStyle("list-style-type",A.style,q),A.startIndex&&A.startIndex>1&&E.setAttribute("start",A.startIndex,q),q}function c(A){const T={},E=A.getStyle("mso-list");if(E){const ae=E.match(/(^|\s{1,100})l(\d+)/i),q=E.match(/\s{0,100}lfo(\d+)/i),z=E.match(/\s{0,100}level(\d+)/i);ae&&q&&z&&(T.id=ae[2],T.order=q[1],T.indent=parseInt(z[1]))}return T}function P(A,T){if(!A.childCount)return;const E=new S.UpcastWriter(A.document),ae=function(z,b){const V=b.createRangeIn(z),$=new S.Matcher({name:/v:(.+)/}),D=[];for(const re of V){if(re.type!="elementStart")continue;const Ee=re.item,je=Ee.previousSibling,Ie=je&&je.is("element")?je.name:null;$.match(Ee)&&Ee.getAttribute("o:gfxdata")&&Ie!=="v:shapetype"&&D.push(re.item.getAttribute("id"))}return D}(A,E);(function(z,b,V){const $=V.createRangeIn(b),D=new S.Matcher({name:"img"}),re=[];for(const Ee of $)if(Ee.item.is("element")&&D.match(Ee.item)){const je=Ee.item,Ie=je.getAttribute("v:shapes")?je.getAttribute("v:shapes").split(" "):[];Ie.length&&Ie.every(De=>z.indexOf(De)>-1)?re.push(je):je.getAttribute("src")||re.push(je)}for(const Ee of re)V.remove(Ee)})(ae,A,E),function(z,b,V){const $=V.createRangeIn(b),D=[];for(const je of $)if(je.type=="elementStart"&&je.item.is("element","v:shape")){const Ie=je.item.getAttribute("id");if(z.includes(Ie))continue;re(je.item.parent.getChildren(),Ie)||D.push(je.item)}for(const je of D){const Ie={src:Ee(je)};je.hasAttribute("alt")&&(Ie.alt=je.getAttribute("alt"));const De=V.createElement("img",Ie);V.insertChild(je.index+1,De,je.parent)}function re(je,Ie){for(const De of je)if(De.is("element")&&(De.name=="img"&&De.getAttribute("v:shapes")==Ie||re(De.getChildren(),Ie)))return!0;return!1}function Ee(je){for(const Ie of je.getChildren())if(Ie.is("element")&&Ie.getAttribute("src"))return Ie.getAttribute("src")}}(ae,A,E),function(z,b){const V=b.createRangeIn(z),$=new S.Matcher({name:/v:(.+)/}),D=[];for(const re of V)re.type=="elementStart"&&$.match(re.item)&&D.push(re.item);for(const re of D)b.remove(re)}(A,E);const q=function(z,b){const V=b.createRangeIn(z),$=new S.Matcher({name:"img"}),D=[];for(const re of V)re.item.is("element")&&$.match(re.item)&&re.item.getAttribute("src").startsWith("file://")&&D.push(re.item);return D}(A,E);q.length&&function(z,b,V){if(z.length===b.length)for(let $=0;$<z.length;$++){const D=`data:${b[$].type};base64,${B(b[$].hex)}`;V.setAttribute("src",D,z[$])}}(q,function(z){if(!z)return[];const b=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,V=new RegExp("(?:("+b.source+"))([\\da-fA-F\\s]+)\\}","g"),$=z.match(V),D=[];if($)for(const re of $){let Ee=!1;re.includes("\\pngblip")?Ee="image/png":re.includes("\\jpegblip")&&(Ee="image/jpeg"),Ee&&D.push({hex:re.replace(b,"").replace(/[^\da-fA-F]/g,""),type:Ee})}return D}(T),E)}function B(A){return btoa(A.match(/\w{2}/g).map(T=>String.fromCharCode(parseInt(T,16))).join(""))}const x=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,h=/xmlns:o="urn:schemas-microsoft-com/i;class j{constructor(T){this.document=T}isActive(T){return x.test(T)||h.test(T)}execute(T){const{body:E,stylesString:ae}=T._parsedData;p(E,ae),P(E,T.dataTransfer.getData("text/rtf")),function(q){const z=[],b=new S.UpcastWriter(q.document);for(const{item:V}of b.createRangeIn(q))if(V.is("element")){for(const $ of V.getClassNames())/\bmso/gi.exec($)&&b.removeClass($,V);for(const $ of V.getStyleNames())/\bmso/gi.exec($)&&b.removeStyle($,V);V.is("element","w:sdt")&&z.push(V)}for(const V of z){const $=V.parent,D=$.getChildIndex(V);b.insertChild(D,V.getChildren(),$),b.remove(V)}}(E),T.content=E}}function Z(A,T,E,{blockElements:ae,inlineObjectElements:q}){let z=E.createPositionAt(A,T=="forward"?"after":"before");return z=z.getLastMatchingPosition(({item:b})=>b.is("element")&&!ae.includes(b.name)&&!q.includes(b.name),{direction:T}),T=="forward"?z.nodeAfter:z.nodeBefore}function Y(A,T){return!!A&&A.is("element")&&T.includes(A.name)}const te=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class oe{constructor(T){this.document=T}isActive(T){return te.test(T)}execute(T){const E=new S.UpcastWriter(this.document),{body:ae}=T._parsedData;(function(q,z){for(const b of q.getChildren())if(b.is("element","b")&&b.getStyle("font-weight")==="normal"){const V=q.getChildIndex(b);z.remove(b),z.insertChild(V,b.getChildren(),q)}})(ae,E),function(q,z){for(const b of z.createRangeIn(q)){const V=b.item;if(V.is("element","li")){const $=V.getChild(0);$&&$.is("element","p")&&z.unwrapElement($)}}}(ae,E),function(q,z){const b=new S.ViewDocument(z.document.stylesProcessor),V=new S.DomConverter(b,{renderingMode:"data"}),$=V.blockElements,D=V.inlineObjectElements,re=[];for(const Ee of z.createRangeIn(q)){const je=Ee.item;if(je.is("element","br")){const Ie=Z(je,"forward",z,{blockElements:$,inlineObjectElements:D}),De=Z(je,"backward",z,{blockElements:$,inlineObjectElements:D}),mt=Y(Ie,$);(Y(De,$)||mt)&&re.push(je)}}for(const Ee of re)Ee.hasClass("Apple-interchange-newline")?z.remove(Ee):z.replace(Ee,z.createElement("p"))}(ae,E),T.content=ae}}const ie=/<google-sheets-html-origin/i;class u{constructor(T){this.document=T}isActive(T){return ie.test(T)}execute(T){const E=new S.UpcastWriter(this.document),{body:ae}=T._parsedData;(function(q,z){for(const b of q.getChildren())if(b.is("element","google-sheets-html-origin")){const V=q.getChildIndex(b);z.remove(b),z.insertChild(V,b.getChildren(),q)}})(ae,E),function(q,z){for(const b of q.getChildren())b.is("element","table")&&b.hasAttribute("xmlns")&&z.removeAttribute("xmlns",b)}(ae,E),function(q,z){for(const b of q.getChildren())b.is("element","table")&&b.getStyle("width")==="0px"&&z.removeStyle("width",b)}(ae,E),function(q,z){for(const b of Array.from(q.getChildren()))b.is("element","style")&&z.remove(b)}(ae,E),T.content=ae}}function y(A){return A.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(T,E)=>E.length===1?" ":Array(E.length+1).join("\xA0 ").substr(0,E.length))}function f(A,T){const E=new DOMParser,ae=function($){return y(y($)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"\xA0</").replace(/ <o:p><\/o:p>/g,"\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function($){const D="</body>",re="</html>",Ee=$.indexOf(D);if(Ee<0)return $;const je=$.indexOf(re,Ee+D.length);return $.substring(0,Ee+D.length)+(je>=0?$.substring(je):"")}(A=(A=A.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),q=E.parseFromString(ae,"text/html");(function($){$.querySelectorAll("span[style*=spacerun]").forEach(D=>{const re=D,Ee=re.innerText.length||0;re.innerText=Array(Ee+1).join("\xA0 ").substr(0,Ee)})})(q);const z=q.body.innerHTML,b=function($,D){const re=new S.ViewDocument(D),Ee=new S.DomConverter(re,{renderingMode:"data"}),je=$.createDocumentFragment(),Ie=$.body.childNodes;for(;Ie.length>0;)je.appendChild(Ie[0]);return Ee.domToView(je,{skipComments:!0})}(q,T),V=function($){const D=[],re=[],Ee=Array.from($.getElementsByTagName("style"));for(const je of Ee)je.sheet&&je.sheet.cssRules&&je.sheet.cssRules.length&&(D.push(je.sheet),re.push(je.innerHTML));return{styles:D,stylesString:re.join(" ")}}(q);return{body:b,bodyString:z,styles:V.styles,stylesString:V.stylesString}}class v extends m.Plugin{static get pluginName(){return"PasteFromOffice"}static get requires(){return[M.ClipboardPipeline]}init(){const T=this.editor,E=T.plugins.get("ClipboardPipeline"),ae=T.editing.view.document,q=[];q.push(new j(ae)),q.push(new oe(ae)),q.push(new u(ae)),E.on("inputTransformation",(z,b)=>{if(b._isTransformedWithPasteFromOffice||T.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const V=b.dataTransfer.getData("text/html"),$=q.find(D=>D.isActive(V));$&&(b._parsedData||(b._parsedData=f(V,ae.stylesProcessor)),$.execute(b),b._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}})(),(window.CKEditor5=window.CKEditor5||{}).pasteFromOffice=Et})()},15515:(Gt,wt,J)=>{Gt=J.nmd(Gt);/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(Et,m){Gt.exports=m(J(27279))})(self,Et=>(()=>{var m={703:(_,l,c)=>{"use strict";var P=c(414);function B(){}function x(){}x.resetWarningCache=B,_.exports=function(){function h(Y,te,oe,ie,u,y){if(y!==P){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}function j(){return h}h.isRequired=h;var Z={array:h,bigint:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:j,element:h,elementType:h,instanceOf:j,node:h,objectOf:j,oneOf:j,oneOfType:j,shape:j,exact:j,checkPropTypes:x,resetWarningCache:B};return Z.PropTypes=Z,Z}},697:(_,l,c)=>{_.exports=c(703)()},414:_=>{"use strict";_.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:_=>{"use strict";_.exports=Et}},M={};function S(_){var l=M[_];if(l!==void 0)return l.exports;var c=M[_]={exports:{}};return m[_](c,c.exports,S),c.exports}S.n=_=>{var l=_&&_.__esModule?()=>_.default:()=>_;return S.d(l,{a:l}),l},S.d=(_,l)=>{for(var c in l)S.o(l,c)&&!S.o(_,c)&&Object.defineProperty(_,c,{enumerable:!0,get:l[c]})},S.o=(_,l)=>Object.prototype.hasOwnProperty.call(_,l),S.r=_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})};var p={};return(()=>{"use strict";S.r(p),S.d(p,{CKEditor:()=>So,CKEditorContext:()=>wr,useMultiRootEditor:()=>ar});var _=S(787),l=S.n(_),c=S(697),P=S.n(c);const B=new Array(256).fill("").map((me,ge)=>("0"+ge.toString(16)).slice(-2));class x{constructor(ge){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof ge.crashNumberLimit=="number"?ge.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof ge.minimumNonErrorTimePeriod=="number"?ge.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=qe=>{const At="error"in qe?qe.error:qe.reason;At instanceof Error&&this._handleError(At,qe)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(ge,qe){this._listeners[ge]||(this._listeners[ge]=[]),this._listeners[ge].push(qe)}off(ge,qe){this._listeners[ge]=this._listeners[ge].filter(At=>At!==qe)}_fire(ge,...qe){const At=this._listeners[ge]||[];for(const li of At)li.apply(this,[null,...qe])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(ge,qe){if(this._shouldReactToError(ge)){this.crashes.push({message:ge.message,stack:ge.stack,filename:qe instanceof ErrorEvent?qe.filename:void 0,lineno:qe instanceof ErrorEvent?qe.lineno:void 0,colno:qe instanceof ErrorEvent?qe.colno:void 0,date:this._now()});const At=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:ge,causesRestart:At}),At?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(ge){return ge.is&&ge.is("CKEditorError")&&ge.context!==void 0&&ge.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(ge)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function h(me,ge=new Set){const qe=[me],At=new Set;let li=0;for(;qe.length>li;){const _i=qe[li++];if(!At.has(_i)&&j(_i)&&!ge.has(_i))if(At.add(_i),Symbol.iterator in _i)try{for(const Ai of _i)qe.push(Ai)}catch{}else for(const Ai in _i)Ai!=="defaultValue"&&qe.push(_i[Ai])}return At}function j(me){const ge=Object.prototype.toString.call(me),qe=typeof me;return!(qe==="number"||qe==="boolean"||qe==="string"||qe==="symbol"||qe==="function"||ge==="[object Date]"||ge==="[object RegExp]"||ge==="[object Module]"||me==null||me._watchdogExcluded||me instanceof EventTarget||me instanceof Event)}function Z(me,ge,qe=new Set){if(me===ge&&typeof(At=me)=="object"&&At!==null)return!0;var At;const li=h(me,qe),_i=h(ge,qe);for(const Ai of li)if(_i.has(Ai))return!0;return!1}const Y=function(me){var ge=typeof me;return me!=null&&(ge=="object"||ge=="function")},te=typeof J.g=="object"&&J.g&&J.g.Object===Object&&J.g;var oe=typeof self=="object"&&self&&self.Object===Object&&self;const ie=te||oe||Function("return this")(),u=function(){return ie.Date.now()};var y=/\s/;const f=function(me){for(var ge=me.length;ge--&&y.test(me.charAt(ge)););return ge};var v=/^\s+/;const A=function(me){return me&&me.slice(0,f(me)+1).replace(v,"")},T=ie.Symbol;var E=Object.prototype,ae=E.hasOwnProperty,q=E.toString,z=T?T.toStringTag:void 0;const b=function(me){var ge=ae.call(me,z),qe=me[z];try{me[z]=void 0;var At=!0}catch{}var li=q.call(me);return At&&(ge?me[z]=qe:delete me[z]),li};var V=Object.prototype.toString;const $=function(me){return V.call(me)};var D=T?T.toStringTag:void 0;const re=function(me){return me==null?me===void 0?"[object Undefined]":"[object Null]":D&&D in Object(me)?b(me):$(me)},Ee=function(me){return me!=null&&typeof me=="object"},je=function(me){return typeof me=="symbol"||Ee(me)&&re(me)=="[object Symbol]"};var Ie=/^[-+]0x[0-9a-f]+$/i,De=/^0b[01]+$/i,mt=/^0o[0-7]+$/i,lt=parseInt;const ut=function(me){if(typeof me=="number")return me;if(je(me))return NaN;if(Y(me)){var ge=typeof me.valueOf=="function"?me.valueOf():me;me=Y(ge)?ge+"":ge}if(typeof me!="string")return me===0?me:+me;me=A(me);var qe=De.test(me);return qe||mt.test(me)?lt(me.slice(2),qe?2:8):Ie.test(me)?NaN:+me};var dt=Math.max,_t=Math.min;const bt=function(me,ge,qe){var At,li,_i,Ai,Si,Yi,qi=0,ao=!1,$n=!1,cn=!0;if(typeof me!="function")throw new TypeError("Expected a function");function lo(An){var Gn=At,vo=li;return At=li=void 0,qi=An,Ai=me.apply(vo,Gn)}function Oo(An){var Gn=An-Yi;return Yi===void 0||Gn>=ge||Gn<0||$n&&An-qi>=_i}function eo(){var An=u();if(Oo(An))return vn(An);Si=setTimeout(eo,function(Gn){var vo=ge-(Gn-Yi);return $n?_t(vo,_i-(Gn-qi)):vo}(An))}function vn(An){return Si=void 0,cn&&At?lo(An):(At=li=void 0,Ai)}function to(){var An=u(),Gn=Oo(An);if(At=arguments,li=this,Yi=An,Gn){if(Si===void 0)return function(vo){return qi=vo,Si=setTimeout(eo,ge),ao?lo(vo):Ai}(Yi);if($n)return clearTimeout(Si),Si=setTimeout(eo,ge),lo(Yi)}return Si===void 0&&(Si=setTimeout(eo,ge)),Ai}return ge=ut(ge)||0,Y(qe)&&(ao=!!qe.leading,_i=($n="maxWait"in qe)?dt(ut(qe.maxWait)||0,ge):_i,cn="trailing"in qe?!!qe.trailing:cn),to.cancel=function(){Si!==void 0&&clearTimeout(Si),qi=0,At=Yi=li=Si=void 0},to.flush=function(){return Si===void 0?Ai:vn(u())},to},Qe=function(me,ge,qe){var At=!0,li=!0;if(typeof me!="function")throw new TypeError("Expected a function");return Y(qe)&&(At="leading"in qe?!!qe.leading:At,li="trailing"in qe?!!qe.trailing:li),bt(me,ge,{leading:At,maxWait:ge,trailing:li})},ft=function(me,ge){return function(qe){return me(ge(qe))}},Ve=ft(Object.getPrototypeOf,Object);var Te=Function.prototype,Q=Object.prototype,xe=Te.toString,Oe=Q.hasOwnProperty,Je=xe.call(Object);const Ze=function(me){if(!Ee(me)||re(me)!="[object Object]")return!1;var ge=Ve(me);if(ge===null)return!0;var qe=Oe.call(ge,"constructor")&&ge.constructor;return typeof qe=="function"&&qe instanceof qe&&xe.call(qe)==Je},tt=function(me){return Ee(me)&&me.nodeType===1&&!Ze(me)},st=function(){this.__data__=[],this.size=0},Lt=function(me,ge){return me===ge||me!=me&&ge!=ge},Ft=function(me,ge){for(var qe=me.length;qe--;)if(Lt(me[qe][0],ge))return qe;return-1};var Yt=Array.prototype.splice;const ui=function(me){var ge=this.__data__,qe=Ft(ge,me);return!(qe<0)&&(qe==ge.length-1?ge.pop():Yt.call(ge,qe,1),--this.size,!0)},Nt=function(me){var ge=this.__data__,qe=Ft(ge,me);return qe<0?void 0:ge[qe][1]},ti=function(me){return Ft(this.__data__,me)>-1},hi=function(me,ge){var qe=this.__data__,At=Ft(qe,me);return At<0?(++this.size,qe.push([me,ge])):qe[At][1]=ge,this};function Ci(me){var ge=-1,qe=me==null?0:me.length;for(this.clear();++ge<qe;){var At=me[ge];this.set(At[0],At[1])}}Ci.prototype.clear=st,Ci.prototype.delete=ui,Ci.prototype.get=Nt,Ci.prototype.has=ti,Ci.prototype.set=hi;const Oi=Ci,Di=function(){this.__data__=new Oi,this.size=0},Vi=function(me){var ge=this.__data__,qe=ge.delete(me);return this.size=ge.size,qe},Pi=function(me){return this.__data__.get(me)},$i=function(me){return this.__data__.has(me)},at=function(me){if(!Y(me))return!1;var ge=re(me);return ge=="[object Function]"||ge=="[object GeneratorFunction]"||ge=="[object AsyncFunction]"||ge=="[object Proxy]"},ue=ie["__core-js_shared__"];var ye=function(){var me=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return me?"Symbol(src)_1."+me:""}();const Le=function(me){return!!ye&&ye in me};var Ge=Function.prototype.toString;const rt=function(me){if(me!=null){try{return Ge.call(me)}catch{}try{return me+""}catch{}}return""};var gt=/^\[object .+?Constructor\]$/,Ot=Function.prototype,Mt=Object.prototype,Ut=Ot.toString,ri=Mt.hasOwnProperty,oi=RegExp("^"+Ut.call(ri).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const wi=function(me){return!(!Y(me)||Le(me))&&(at(me)?oi:gt).test(rt(me))},Ii=function(me,ge){return me?.[ge]},Li=function(me,ge){var qe=Ii(me,ge);return wi(qe)?qe:void 0},yi=Li(ie,"Map"),ji=Li(Object,"create"),Ki=function(){this.__data__=ji?ji(null):{},this.size=0},Mi=function(me){var ge=this.has(me)&&delete this.__data__[me];return this.size-=ge?1:0,ge};var tn=Object.prototype.hasOwnProperty;const $t=function(me){var ge=this.__data__;if(ji){var qe=ge[me];return qe==="__lodash_hash_undefined__"?void 0:qe}return tn.call(ge,me)?ge[me]:void 0};var wn=Object.prototype.hasOwnProperty;const Ne=function(me){var ge=this.__data__;return ji?ge[me]!==void 0:wn.call(ge,me)},H=function(me,ge){var qe=this.__data__;return this.size+=this.has(me)?0:1,qe[me]=ji&&ge===void 0?"__lodash_hash_undefined__":ge,this};function ee(me){var ge=-1,qe=me==null?0:me.length;for(this.clear();++ge<qe;){var At=me[ge];this.set(At[0],At[1])}}ee.prototype.clear=Ki,ee.prototype.delete=Mi,ee.prototype.get=$t,ee.prototype.has=Ne,ee.prototype.set=H;const se=ee,be=function(){this.size=0,this.__data__={hash:new se,map:new(yi||Oi),string:new se}},ht=function(me){var ge=typeof me;return ge=="string"||ge=="number"||ge=="symbol"||ge=="boolean"?me!=="__proto__":me===null},jt=function(me,ge){var qe=me.__data__;return ht(ge)?qe[typeof ge=="string"?"string":"hash"]:qe.map},Qt=function(me){var ge=jt(this,me).delete(me);return this.size-=ge?1:0,ge},yt=function(me){return jt(this,me).get(me)},Ce=function(me){return jt(this,me).has(me)},ze=function(me,ge){var qe=jt(this,me),At=qe.size;return qe.set(me,ge),this.size+=qe.size==At?0:1,this};function nt(me){var ge=-1,qe=me==null?0:me.length;for(this.clear();++ge<qe;){var At=me[ge];this.set(At[0],At[1])}}nt.prototype.clear=be,nt.prototype.delete=Qt,nt.prototype.get=yt,nt.prototype.has=Ce,nt.prototype.set=ze;const Ke=nt,xt=function(me,ge){var qe=this.__data__;if(qe instanceof Oi){var At=qe.__data__;if(!yi||At.length<199)return At.push([me,ge]),this.size=++qe.size,this;qe=this.__data__=new Ke(At)}return qe.set(me,ge),this.size=qe.size,this};function si(me){var ge=this.__data__=new Oi(me);this.size=ge.size}si.prototype.clear=Di,si.prototype.delete=Vi,si.prototype.get=Pi,si.prototype.has=$i,si.prototype.set=xt;const ni=si,ki=function(me,ge){for(var qe=-1,At=me==null?0:me.length;++qe<At&&ge(me[qe],qe,me)!==!1;);return me},di=function(){try{var me=Li(Object,"defineProperty");return me({},"",{}),me}catch{}}(),Ti=function(me,ge,qe){ge=="__proto__"&&di?di(me,ge,{configurable:!0,enumerable:!0,value:qe,writable:!0}):me[ge]=qe};var Ni=Object.prototype.hasOwnProperty;const Gi=function(me,ge,qe){var At=me[ge];Ni.call(me,ge)&&Lt(At,qe)&&(qe!==void 0||ge in me)||Ti(me,ge,qe)},on=function(me,ge,qe,At){var li=!qe;qe||(qe={});for(var _i=-1,Ai=ge.length;++_i<Ai;){var Si=ge[_i],Yi=At?At(qe[Si],me[Si],Si,qe,me):void 0;Yi===void 0&&(Yi=me[Si]),li?Ti(qe,Si,Yi):Gi(qe,Si,Yi)}return qe},Zi=function(me,ge){for(var qe=-1,At=Array(me);++qe<me;)At[qe]=ge(qe);return At},hn=function(me){return Ee(me)&&re(me)=="[object Arguments]"};var kn=Object.prototype,qn=kn.hasOwnProperty,rn=kn.propertyIsEnumerable;const Sn=hn(function(){return arguments}())?hn:function(me){return Ee(me)&&qn.call(me,"callee")&&!rn.call(me,"callee")},In=Array.isArray,Yn=function(){return!1};var ho=wt&&!wt.nodeType&&wt,oo=ho&&!0&&Gt&&!Gt.nodeType&&Gt,ro=oo&&oo.exports===ho?ie.Buffer:void 0;const Ht=(ro?ro.isBuffer:void 0)||Yn;var K=/^(?:0|[1-9]\d*)$/;const Ae=function(me,ge){var qe=typeof me;return!!(ge=ge??9007199254740991)&&(qe=="number"||qe!="symbol"&&K.test(me))&&me>-1&&me%1==0&&me<ge},Ue=function(me){return typeof me=="number"&&me>-1&&me%1==0&&me<=9007199254740991};var Be={};Be["[object Float32Array]"]=Be["[object Float64Array]"]=Be["[object Int8Array]"]=Be["[object Int16Array]"]=Be["[object Int32Array]"]=Be["[object Uint8Array]"]=Be["[object Uint8ClampedArray]"]=Be["[object Uint16Array]"]=Be["[object Uint32Array]"]=!0,Be["[object Arguments]"]=Be["[object Array]"]=Be["[object ArrayBuffer]"]=Be["[object Boolean]"]=Be["[object DataView]"]=Be["[object Date]"]=Be["[object Error]"]=Be["[object Function]"]=Be["[object Map]"]=Be["[object Number]"]=Be["[object Object]"]=Be["[object RegExp]"]=Be["[object Set]"]=Be["[object String]"]=Be["[object WeakMap]"]=!1;const et=function(me){return Ee(me)&&Ue(me.length)&&!!Be[re(me)]},Xe=function(me){return function(ge){return me(ge)}};var It=wt&&!wt.nodeType&&wt,vt=It&&!0&&Gt&&!Gt.nodeType&&Gt,St=vt&&vt.exports===It&&te.process;const zt=function(){try{var me=vt&&vt.require&&vt.require("util").types;return me||St&&St.binding&&St.binding("util")}catch{}}();var Wt=zt&&zt.isTypedArray;const mi=Wt?Xe(Wt):et;var ai=Object.prototype.hasOwnProperty;const gi=function(me,ge){var qe=In(me),At=!qe&&Sn(me),li=!qe&&!At&&Ht(me),_i=!qe&&!At&&!li&&mi(me),Ai=qe||At||li||_i,Si=Ai?Zi(me.length,String):[],Yi=Si.length;for(var qi in me)!ge&&!ai.call(me,qi)||Ai&&(qi=="length"||li&&(qi=="offset"||qi=="parent")||_i&&(qi=="buffer"||qi=="byteLength"||qi=="byteOffset")||Ae(qi,Yi))||Si.push(qi);return Si};var Ri=Object.prototype;const Qi=function(me){var ge=me&&me.constructor;return me===(typeof ge=="function"&&ge.prototype||Ri)},Pn=ft(Object.keys,Object);var Mn=Object.prototype.hasOwnProperty;const Qn=function(me){if(!Qi(me))return Pn(me);var ge=[];for(var qe in Object(me))Mn.call(me,qe)&&qe!="constructor"&&ge.push(qe);return ge},Kn=function(me){return me!=null&&Ue(me.length)&&!at(me)},Rn=function(me){return Kn(me)?gi(me):Qn(me)},mo=function(me,ge){return me&&on(ge,Rn(ge),me)},xo=function(me){var ge=[];if(me!=null)for(var qe in Object(me))ge.push(qe);return ge};var Nn=Object.prototype.hasOwnProperty;const so=function(me){if(!Y(me))return xo(me);var ge=Qi(me),qe=[];for(var At in me)(At!="constructor"||!ge&&Nn.call(me,At))&&qe.push(At);return qe},zn=function(me){return Kn(me)?gi(me,!0):so(me)},_e=function(me,ge){return me&&on(ge,zn(ge),me)};var k=wt&&!wt.nodeType&&wt,d=k&&!0&&Gt&&!Gt.nodeType&&Gt,I=d&&d.exports===k?ie.Buffer:void 0,N=I?I.allocUnsafe:void 0;const X=function(me,ge){if(ge)return me.slice();var qe=me.length,At=N?N(qe):new me.constructor(qe);return me.copy(At),At},ce=function(me,ge){var qe=-1,At=me.length;for(ge||(ge=Array(At));++qe<At;)ge[qe]=me[qe];return ge},pe=function(me,ge){for(var qe=-1,At=me==null?0:me.length,li=0,_i=[];++qe<At;){var Ai=me[qe];ge(Ai,qe,me)&&(_i[li++]=Ai)}return _i},he=function(){return[]};var ve=Object.prototype.propertyIsEnumerable,Re=Object.getOwnPropertySymbols;const We=Re?function(me){return me==null?[]:(me=Object(me),pe(Re(me),function(ge){return ve.call(me,ge)}))}:he,Ye=function(me,ge){return on(me,We(me),ge)},pt=function(me,ge){for(var qe=-1,At=ge.length,li=me.length;++qe<At;)me[li+qe]=ge[qe];return me},Tt=Object.getOwnPropertySymbols?function(me){for(var ge=[];me;)pt(ge,We(me)),me=Ve(me);return ge}:he,Pt=function(me,ge){return on(me,Tt(me),ge)},Ct=function(me,ge,qe){var At=ge(me);return In(me)?At:pt(At,qe(me))},ii=function(me){return Ct(me,Rn,We)},Jt=function(me){return Ct(me,zn,Tt)},bi=Li(ie,"DataView"),Ei=Li(ie,"Promise"),Hi=Li(ie,"Set"),sn=Li(ie,"WeakMap");var mn="[object Map]",Cn="[object Promise]",fo="[object Set]",qo="[object WeakMap]",zo="[object DataView]",er=rt(bi),bo=rt(yi),Jn=rt(Ei),Po=rt(Hi),Fo=rt(sn),Fn=re;(bi&&Fn(new bi(new ArrayBuffer(1)))!=zo||yi&&Fn(new yi)!=mn||Ei&&Fn(Ei.resolve())!=Cn||Hi&&Fn(new Hi)!=fo||sn&&Fn(new sn)!=qo)&&(Fn=function(me){var ge=re(me),qe=ge=="[object Object]"?me.constructor:void 0,At=qe?rt(qe):"";if(At)switch(At){case er:return zo;case bo:return mn;case Jn:return Cn;case Po:return fo;case Fo:return qo}return ge});const Xn=Fn;var Dr=Object.prototype.hasOwnProperty;const tr=function(me){var ge=me.length,qe=new me.constructor(ge);return ge&&typeof me[0]=="string"&&Dr.call(me,"index")&&(qe.index=me.index,qe.input=me.input),qe},hr=ie.Uint8Array,Ho=function(me){var ge=new me.constructor(me.byteLength);return new hr(ge).set(new hr(me)),ge},mr=function(me,ge){var qe=ge?Ho(me.buffer):me.buffer;return new me.constructor(qe,me.byteOffset,me.byteLength)};var Ko=/\w*$/;const zr=function(me){var ge=new me.constructor(me.source,Ko.exec(me));return ge.lastIndex=me.lastIndex,ge};var Sr=T?T.prototype:void 0,ir=Sr?Sr.valueOf:void 0;const Er=function(me){return ir?Object(ir.call(me)):{}},Ir=function(me,ge){var qe=ge?Ho(me.buffer):me.buffer;return new me.constructor(qe,me.byteOffset,me.length)},gr=function(me,ge,qe){var At=me.constructor;switch(ge){case"[object ArrayBuffer]":return Ho(me);case"[object Boolean]":case"[object Date]":return new At(+me);case"[object DataView]":return mr(me,qe);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ir(me,qe);case"[object Map]":case"[object Set]":return new At;case"[object Number]":case"[object String]":return new At(me);case"[object RegExp]":return zr(me);case"[object Symbol]":return Er(me)}};var Ji=Object.create;const Co=function(){function me(){}return function(ge){if(!Y(ge))return{};if(Ji)return Ji(ge);me.prototype=ge;var qe=new me;return me.prototype=void 0,qe}}(),To=function(me){return typeof me.constructor!="function"||Qi(me)?{}:Co(Ve(me))},Lo=function(me){return Ee(me)&&Xn(me)=="[object Map]"};var wo=zt&&zt.isMap;const Ln=wo?Xe(wo):Lo,an=function(me){return Ee(me)&&Xn(me)=="[object Set]"};var Wn=zt&&zt.isSet;const ln=Wn?Xe(Wn):an;var ko="[object Arguments]",Ao="[object Function]",Xt="[object Object]",nn={};nn[ko]=nn["[object Array]"]=nn["[object ArrayBuffer]"]=nn["[object DataView]"]=nn["[object Boolean]"]=nn["[object Date]"]=nn["[object Float32Array]"]=nn["[object Float64Array]"]=nn["[object Int8Array]"]=nn["[object Int16Array]"]=nn["[object Int32Array]"]=nn["[object Map]"]=nn["[object Number]"]=nn[Xt]=nn["[object RegExp]"]=nn["[object Set]"]=nn["[object String]"]=nn["[object Symbol]"]=nn["[object Uint8Array]"]=nn["[object Uint8ClampedArray]"]=nn["[object Uint16Array]"]=nn["[object Uint32Array]"]=!0,nn["[object Error]"]=nn[Ao]=nn["[object WeakMap]"]=!1;const Go=function me(ge,qe,At,li,_i,Ai){var Si,Yi=1&qe,qi=2&qe,ao=4&qe;if(At&&(Si=_i?At(ge,li,_i,Ai):At(ge)),Si!==void 0)return Si;if(!Y(ge))return ge;var $n=In(ge);if($n){if(Si=tr(ge),!Yi)return ce(ge,Si)}else{var cn=Xn(ge),lo=cn==Ao||cn=="[object GeneratorFunction]";if(Ht(ge))return X(ge,Yi);if(cn==Xt||cn==ko||lo&&!_i){if(Si=qi||lo?{}:To(ge),!Yi)return qi?Pt(ge,_e(Si,ge)):Ye(ge,mo(Si,ge))}else{if(!nn[cn])return _i?ge:{};Si=gr(ge,cn,Yi)}}Ai||(Ai=new ni);var Oo=Ai.get(ge);if(Oo)return Oo;Ai.set(ge,Si),ln(ge)?ge.forEach(function(vn){Si.add(me(vn,qe,At,vn,ge,Ai))}):Ln(ge)&&ge.forEach(function(vn,to){Si.set(to,me(vn,qe,At,to,ge,Ai))});var eo=$n?void 0:(ao?qi?Jt:ii:qi?zn:Rn)(ge);return ki(eo||ge,function(vn,to){eo&&(vn=ge[to=vn]),Gi(Si,to,me(vn,qe,At,to,ge,Ai))}),Si},pr=function(me,ge){return Go(me,5,ge=typeof ge=="function"?ge:void 0)};class nr extends x{constructor(ge,qe={}){super(qe),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=Qe(this._save.bind(this),typeof qe.saveInterval=="number"?qe.saveInterval:5e3),ge&&(this._creator=(At,li)=>ge.create(At,li)),this._destructor=At=>At.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(ge){this._creator=ge}setDestructor(ge){this._destructor=ge}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(ge=>{console.error("An error happened during the editor destroying.",ge)}).then(()=>{const ge={},qe=[],At=this._config.rootsAttributes||{},li={};for(const[Ai,Si]of Object.entries(this._data.roots))Si.isLoaded?(ge[Ai]="",li[Ai]=At[Ai]||{}):qe.push(Ai);const _i={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:qe,rootsAttributes:li,_watchdogInitialData:this._data};return delete _i.initialData,_i.extraPlugins.push(or),this._initUsingData?this.create(ge,_i,_i.context):tt(this._elementOrData)?this.create(this._elementOrData,_i,_i.context):this.create(this._editables,_i,_i.context)}).then(()=>{this._fire("restart")})}create(ge=this._elementOrData,qe=this._config,At){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=ge,this._initUsingData=typeof ge=="string"||Object.keys(ge).length>0&&typeof Object.values(ge)[0]=="string",this._config=this._cloneEditorConfiguration(qe)||{},this._config.context=At,this._creator(ge,this._config))).then(li=>{this._editor=li,li.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=li.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const ge=this._editor;return this._editor=null,ge.model.document.off("change:data",this._throttledSave),this._destructor(ge)})}_save(){const ge=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=ge}catch(qe){console.error(qe,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(ge){this._excludedProps=ge}_getData(){const ge=this._editor,qe=ge.model.document.roots.filter(Si=>Si.isAttached()&&Si.rootName!="$graveyard"),{plugins:At}=ge,li=At.has("CommentsRepository")&&At.get("CommentsRepository"),_i=At.has("TrackChanges")&&At.get("TrackChanges"),Ai={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};qe.forEach(Si=>{Ai.roots[Si.rootName]={content:JSON.stringify(Array.from(Si.getChildren())),attributes:JSON.stringify(Array.from(Si.getAttributes())),isLoaded:Si._isLoaded}});for(const Si of ge.model.markers)Si._affectsData&&(Ai.markers[Si.name]={rangeJSON:Si.getRange().toJSON(),usingOperation:Si._managedUsingOperations,affectsData:Si._affectsData});return li&&(Ai.commentThreads=JSON.stringify(li.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),_i&&(Ai.suggestions=JSON.stringify(_i.getSuggestions({toJSON:!0,skipNotAttached:!0}))),Ai}_getEditables(){const ge={};for(const qe of this.editor.model.document.getRootNames()){const At=this.editor.ui.getEditableElement(qe);At&&(ge[qe]=At)}return ge}_isErrorComingFromThisItem(ge){return Z(this._editor,ge.context,this._excludedProps)}_cloneEditorConfiguration(ge){return pr(ge,(qe,At)=>tt(qe)||At==="context"?qe:void 0)}}class or{constructor(ge){this.editor=ge,this._data=ge.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",ge=>{ge.stop(),this.editor.model.enqueueChange({isUndoable:!1},qe=>{this._restoreCollaborationData(),this._restoreEditorData(qe)}),this.editor.data.fire("ready")},{priority:999})}_createNode(ge,qe){if("name"in qe){const At=ge.createElement(qe.name,qe.attributes);if(qe.children)for(const li of qe.children)At._appendChild(this._createNode(ge,li));return At}return ge.createText(qe.data,qe.attributes)}_restoreEditorData(ge){const qe=this.editor;Object.entries(this._data.roots).forEach(([At,{content:li,attributes:_i}])=>{const Ai=JSON.parse(li),Si=JSON.parse(_i),Yi=qe.model.document.getRoot(At);for(const[qi,ao]of Si)ge.setAttribute(qi,ao,Yi);for(const qi of Ai){const ao=this._createNode(ge,qi);ge.insert(ao,Yi,"end")}}),Object.entries(this._data.markers).forEach(([At,li])=>{const{document:_i}=qe.model,{rangeJSON:{start:Ai,end:Si},...Yi}=li,qi=_i.getRoot(Ai.root),ao=ge.createPositionFromPath(qi,Ai.path,Ai.stickiness),$n=ge.createPositionFromPath(qi,Si.path,Si.stickiness),cn=ge.createRange(ao,$n);ge.addMarker(At,{range:cn,...Yi})})}_restoreCollaborationData(){const ge=JSON.parse(this._data.commentThreads),qe=JSON.parse(this._data.suggestions);ge.forEach(At=>{const li=this.editor.config.get("collaboration.channelId"),_i=this.editor.plugins.get("CommentsRepository");_i.hasCommentThread(At.threadId)&&_i.getCommentThread(At.threadId).remove(),_i.addCommentThread({channelId:li,...At})}),qe.forEach(At=>{const li=this.editor.plugins.get("TrackChangesEditing");li.hasSuggestion(At.id)?li.getSuggestion(At.id).attributes=At.attributes:li.addSuggestionData(At)})}}const Dt=Symbol("MainQueueId");class No extends x{constructor(ge,qe={}){super(qe),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new fr,this._watchdogConfig=qe,this._creator=At=>ge.create(At),this._destructor=At=>At.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(ge){this._creator=ge}setDestructor(ge){this._destructor=ge}get context(){return this._context}create(ge={}){return this._actionQueues.enqueue(Dt,()=>(this._contextConfig=ge,this._create()))}getItem(ge){return this._getWatchdog(ge)._item}getItemState(ge){return this._getWatchdog(ge).state}add(ge){const qe=Uo(ge);return Promise.all(qe.map(At=>this._actionQueues.enqueue(At.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let li;if(this._watchdogs.has(At.id))throw new Error(`Item with the given id is already added: '${At.id}'.`);if(At.type==="editor")return li=new nr(null,this._watchdogConfig),li.setCreator(At.creator),li._setExcludedProperties(this._contextProps),At.destructor&&li.setDestructor(At.destructor),this._watchdogs.set(At.id,li),li.on("error",(_i,{error:Ai,causesRestart:Si})=>{this._fire("itemError",{itemId:At.id,error:Ai}),Si&&this._actionQueues.enqueue(At.id,()=>new Promise(Yi=>{const qi=()=>{li.off("restart",qi),this._fire("itemRestart",{itemId:At.id}),Yi()};li.on("restart",qi)}))}),li.create(At.sourceElementOrData,At.config,this._context);throw new Error(`Not supported item type: '${At.type}'.`)})))}remove(ge){const qe=Uo(ge);return Promise.all(qe.map(At=>this._actionQueues.enqueue(At,()=>{const li=this._getWatchdog(At);return this._watchdogs.delete(At),li.destroy()})))}destroy(){return this._actionQueues.enqueue(Dt,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Dt,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(ge=>{console.error("An error happened during destroying the context or items.",ge)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(ge=>(this._context=ge,this._contextProps=h(this._context),Promise.all(Array.from(this._watchdogs.values()).map(qe=>(qe._setExcludedProperties(this._contextProps),qe.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const ge=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(qe=>qe.destroy())).then(()=>this._destructor(ge))})}_getWatchdog(ge){const qe=this._watchdogs.get(ge);if(!qe)throw new Error(`Item with the given id was not registered: ${ge}.`);return qe}_isErrorComingFromThisItem(ge){for(const qe of this._watchdogs.values())if(qe._isErrorComingFromThisItem(ge))return!1;return Z(this._context,ge.context)}}class fr{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(ge){this._onEmptyCallbacks.push(ge)}enqueue(ge,qe){const At=ge===Dt;this._activeActions++,this._queues.get(ge)||this._queues.set(ge,Promise.resolve());const li=(At?Promise.all(this._queues.values()):Promise.all([this._queues.get(Dt),this._queues.get(ge)])).then(qe),_i=li.catch(()=>{});return this._queues.set(ge,_i),li.finally(()=>{this._activeActions--,this._queues.get(ge)===_i&&this._activeActions===0&&this._onEmptyCallbacks.forEach(Ai=>Ai())})}}function Uo(me){return Array.isArray(me)?me:[me]}const br=l().createContext("contextWatchdog");class wr extends l().Component{constructor(ge,qe){super(ge,qe),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(ge){return this._shouldComponentUpdate(ge)}async _shouldComponentUpdate(ge){return ge.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(ge.config)),ge.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(ge.config),!0):this.props.children!==ge.children}render(){return l().createElement(br.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(ge){this.contextWatchdog=new No(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(qe,At)=>{this.props.onError(At.error,{phase:"runtime",willContextRestart:At.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(ge).catch(qe=>{this.props.onError(qe,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}wr.defaultProps={isLayoutReady:!0,onError:(me,ge)=>console.error(me,ge)},wr.propTypes={id:P().string,isLayoutReady:P().bool,context:P().func,watchdogConfig:P().object,config:P().object,onReady:P().func,onError:P().func};const rr="Lock from React integration (@ckeditor/ckeditor5-react)";class So extends l().Component{constructor(ge){super(ge),this.editorDestructionInProgress=null,this.domContainer=l().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:qe}=window;if(qe){const[At]=qe.split(".").map(Number);At<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(ge){return!!this.editor&&(ge.id!==this.props.id||ge.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(ge)&&this.editor.data.set(ge.data),"disabled"in ge&&(ge.disabled?this.editor.enableReadOnlyMode(rr):this.editor.disableReadOnlyMode(rr)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return l().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof No?this.watchdog=new Pr(this.context):this.watchdog=new So._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((ge,qe)=>this._createEditor(ge,qe)),this.watchdog.on("error",(ge,{error:qe,causesRestart:At})=>{(this.props.onError||console.error)(qe,{phase:"runtime",willEditorRestart:At})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(ge=>{(this.props.onError||console.error)(ge,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(ge,qe){return this.props.editor.create(ge,qe).then(At=>{"disabled"in this.props&&this.props.disabled&&At.enableReadOnlyMode(rr);const li=At.model.document,_i=At.editing.view.document;return li.on("change:data",Ai=>{this.props.onChange&&this.props.onChange(Ai,At)}),_i.on("focus",Ai=>{this.props.onFocus&&this.props.onFocus(Ai,At)}),_i.on("blur",Ai=>{this.props.onBlur&&this.props.onBlur(Ai,At)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(At)}),At})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(ge=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,ge()):this.instance?(await this.instance.destroy(),this.instance=null,ge()):void ge())})}_shouldUpdateEditor(ge){return this.props.data!==ge.data&&this.editor.data.get()!==ge.data}_getConfig(){const ge=this.props.config||{};return this.props.data&&ge.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...ge,initialData:ge.initialData||this.props.data||""}}}So.contextType=br,So.propTypes={editor:P().func.isRequired,data:P().string,config:P().object,disableWatchdog:P().bool,watchdogConfig:P().object,onChange:P().func,onReady:P().func,onFocus:P().func,onBlur:P().func,onError:P().func,disabled:P().bool,id:P().any},So._EditorWatchdog=nr;class Pr{constructor(ge){this._contextWatchdog=ge,this._id=function(){const qe=4294967296*Math.random()>>>0,At=4294967296*Math.random()>>>0,li=4294967296*Math.random()>>>0,_i=4294967296*Math.random()>>>0;return"e"+B[qe>>0&255]+B[qe>>8&255]+B[qe>>16&255]+B[qe>>24&255]+B[At>>0&255]+B[At>>8&255]+B[At>>16&255]+B[At>>24&255]+B[li>>0&255]+B[li>>8&255]+B[li>>16&255]+B[li>>24&255]+B[_i>>0&255]+B[_i>>8&255]+B[_i>>16&255]+B[_i>>24&255]}()}setCreator(ge){this._creator=ge}create(ge,qe){return this._contextWatchdog.add({sourceElementOrData:ge,config:qe,creator:this._creator,id:this._id,type:"editor"})}on(ge,qe){this._contextWatchdog.on("itemError",(At,{itemId:li,error:_i})=>{li===this._id&&qe(null,{error:_i,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const sr="Lock from React integration (@ckeditor/ckeditor5-react)",ar=me=>{let ge=null;const qe=(0,_.useRef)(null),At=(0,_.useContext)(br),[li,_i]=(0,_.useState)(null),[Ai,Si]=(0,_.useState)(me.data),[Yi,qi]=(0,_.useState)(me.rootsAttributes||{}),[ao,$n]=(0,_.useState)([]),cn=(0,_.useRef)(!0),lo=(0,_.useRef)(null),Oo=l().createElement("div",{ref:lo});(0,_.useEffect)(()=>((async()=>(await qe.current,me.isLayoutReady!==!1&&Gn()))(),()=>{An().then(()=>{qe.current=null})}),[me.isLayoutReady]),(0,_.useEffect)(()=>{li&&(me.disabled?li.enableReadOnlyMode(sr):li.disableReadOnlyMode(sr))},[me.disabled]),(0,_.useEffect)(()=>{const Ui=lo.current;if(li&&!qe.current){const fn=li.getFullData();Si({...fn}),qi({...li.getRootsAttributes()}),$n([...Object.keys(fn).map(Xi=>vn(li,Xi))]),Ui&&Ui.appendChild(li.ui.view.toolbar.element)}return()=>{Ui&&Ui.firstChild&&Ui.removeChild(Ui.firstChild)}},[li&&li.id]);const eo=()=>{const Ui=me.config||{};return me.data&&Ui.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...Ui,rootsAttributes:Yi}},vn=(Ui,fn)=>l().createElement("div",{id:fn,key:fn,ref:Xi=>{if(Xi){const io=Ui.ui.view.createEditable(fn,Xi);Ui.ui.addEditable(io),Ui.editing.view.forceRender()}}}),to=(Ui,fn)=>me.editor.create(Ui,fn).then(Xi=>{me.disabled&&me.disabled&&Xi.enableReadOnlyMode(sr);const io=Xi.model.document,Mo=Xi.editing.view.document;return io.on("change:data",Eo=>((Bn,Zn)=>{const _n=Bn.model.document,_o={},no={};_n.differ.getChanges().forEach(Tn=>{let Dn;if(Dn=Tn.type=="insert"||Tn.type=="remove"?Tn.position.root:Tn.range.root,!Dn.isAttached())return;const{rootName:Wo}=Dn;_o[Wo]=Bn.getData({rootName:Wo})}),_n.differ.getChangedRoots().forEach(Tn=>{if(Tn.state)return void(_o[Tn.name]!==void 0&&delete _o[Tn.name]);const Dn=Tn.name;no[Dn]=Bn.getRootAttributes(Dn)}),Object.keys(_o).length&&Si(Tn=>({...Tn,..._o})),Object.keys(no).length&&qi(Tn=>({...Tn,...no})),me.onChange&&me.onChange(Zn,Bn)})(Xi,Eo)),Xi.on("addRoot",(Eo,Bn)=>((Zn,_n,_o)=>{const no=_o.rootName,Tn=vn(Zn,no);Si(Dn=>({...Dn,[no]:Zn.getData({rootName:no})})),qi(Dn=>({...Dn,[no]:Zn.getRootAttributes(no)})),$n(Dn=>[...Dn,Tn])})(Xi,0,Bn)),Xi.on("detachRoot",(Eo,Bn)=>((Zn,_n,_o)=>{const no=_o.rootName;$n(Tn=>Tn.filter(Dn=>Dn.props.id!==no)),Si(Tn=>{const{[no]:Dn,...Wo}=Tn;return{...Wo}}),qi(Tn=>{const{[no]:Dn,...Wo}=Tn;return{...Wo}}),Zn.detachEditable(_o)})(Xi,0,Bn)),Mo.on("focus",Eo=>{me.onFocus&&me.onFocus(Eo,Xi)}),Mo.on("blur",Eo=>{me.onBlur&&me.onBlur(Eo,Xi)}),_i(Xi),me.onReady&&me.onReady(Xi),Xi}),An=async()=>{_i(null),Si({}),qi({}),$n([]),qe.current=new Promise(Ui=>{setTimeout(async()=>ge?(await ge.destroy(),ge=null,Ui()):li?(await li.destroy(),Ui()):void Ui())})},Gn=async()=>{me.disableWatchdog?await to(me.data,eo()):ge||(ge=At instanceof No?new Pr(At):new nr(me.editor,me.watchdogConfig),ge.setCreator((Ui,fn)=>to(Ui,fn)),ge.on("error",(Ui,{error:fn,causesRestart:Xi})=>{(me.onError||console.error)(fn,{phase:"runtime",willEditorRestart:Xi})}),await ge.create(Ai,eo()).catch(Ui=>{(me.onError||console.error)(Ui,{phase:"initialization",willEditorRestart:!1})}))};(0,_.useEffect)(()=>{if(li&&cn.current){cn.current=!1;const Ui=Object.keys(Ai),fn=Object.keys(Yi);if(!Ui.every(_n=>fn.includes(_n)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const Xi=li.getFullData(),io=li.getRootsAttributes(),{addedKeys:Mo,removedKeys:Eo}=vo(Xi,Ai||{}),Bn=Ui.some(_n=>Xi[_n]!==void 0&&JSON.stringify(Xi[_n])!==JSON.stringify(Ai[_n])),Zn=fn.filter(_n=>JSON.stringify(io[_n])!==JSON.stringify(Yi[_n]));li.model.change(_n=>{kr(Mo),Lr(Eo),Bn&&Or(),Zn.length&&go(_n,Zn)})}},[Ai,Yi]);const vo=(Ui,fn)=>{const Xi=Object.keys(Ui),io=Object.keys(fn);return{addedKeys:io.filter(Mo=>!Xi.includes(Mo)),removedKeys:Xi.filter(Mo=>!io.includes(Mo))}},kr=Ui=>{Ui.forEach(fn=>{li.addRoot(fn,{data:Ai[fn]||"",attributes:Yi?.[fn]||{},isUndoable:!0})})},Lr=Ui=>{Ui.forEach(fn=>{li.detachRoot(fn,!0)})},Or=()=>{li.data.set(Ai,{suppressErrorInCollaboration:!0})},go=(Ui,fn)=>{fn.forEach(Xi=>{Object.keys(Yi[Xi]).forEach(io=>{li.registerRootAttribute(io)}),Ui.clearAttributes(li.model.document.getRoot(Xi)),Ui.setAttributes(Yi[Xi],li.model.document.getRoot(Xi))})},vr=(0,_.useCallback)(Ui=>{cn.current=!0,Si(Ui)},[Si]),Mr=(0,_.useCallback)(Ui=>{cn.current=!0,qi(Ui)},[qi]);return{editor:li,editableElements:ao,toolbarElement:Oo,data:Ai,setData:vr,attributes:Yi,setAttributes:Mr}}})(),p})())},59540:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{"Remove Format":"Remove Format"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},209:(m,M,S)=>{m.exports=S(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={exports:{}};return Gt[m](S,S.exports,J),S.exports}J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{RemoveFormat:()=>P,RemoveFormatEditing:()=>c,RemoveFormatUI:()=>p});var m=J(704),M=J(273);const S="removeFormat";class p extends m.Plugin{static get pluginName(){return"RemoveFormatUI"}init(){const x=this.editor,h=x.t;x.ui.componentFactory.add(S,j=>{const Z=x.commands.get(S),Y=new M.ButtonView(j);return Y.set({label:h("Remove Format"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>',tooltip:!0}),Y.bind("isOn","isEnabled").to(Z,"value","isEnabled"),this.listenTo(Y,"execute",()=>{x.execute(S),x.editing.view.focus()}),Y})}}var _=J(209);class l extends m.Command{refresh(){const x=this.editor.model;this.isEnabled=!!(0,_.first)(this._getFormattingItems(x.document.selection,x.schema))}execute(){const x=this.editor.model,h=x.schema;x.change(j=>{for(const Z of this._getFormattingItems(x.document.selection,h))if(Z.is("selection"))for(const Y of this._getFormattingAttributes(Z,h))j.removeSelectionAttribute(Y);else{const Y=j.createRangeOn(Z);for(const te of this._getFormattingAttributes(Z,h))j.removeAttribute(te,Y)}})}*_getFormattingItems(x,h){const j=Z=>!!(0,_.first)(this._getFormattingAttributes(Z,h));for(const Z of x.getRanges())for(const Y of Z.getItems())!h.isBlock(Y)&&j(Y)&&(yield Y);for(const Z of x.getSelectedBlocks())j(Z)&&(yield Z);j(x)&&(yield x)}*_getFormattingAttributes(x,h){for(const[j]of x.getAttributes()){const Z=h.getAttributeProperties(j);Z&&Z.isFormatting&&(yield j)}}}class c extends m.Plugin{static get pluginName(){return"RemoveFormatEditing"}init(){const x=this.editor;x.commands.add("removeFormat",new l(x))}}class P extends m.Plugin{static get requires(){return[c,p]}static get pluginName(){return"RemoveFormat"}}})(),(window.CKEditor5=window.CKEditor5||{}).removeFormat=Et})()},54248:()=>{(function(Gt){const wt=Gt.en=Gt.en||{};wt.dictionary=Object.assign(wt.dictionary||{},{All:"All","Almost equal to":"Almost equal to",Angle:"Angle","Approximately equal to":"Approximately equal to",Arrows:"Arrows","Asterisk operator":"Asterisk operator","Austral sign":"Austral sign","back with leftwards arrow above":"back with leftwards arrow above","Bitcoin sign":"Bitcoin sign","Cedi sign":"Cedi sign","Cent sign":"Cent sign","Character categories":"Character categories","Colon sign":"Colon sign","Contains as member":"Contains as member","Copyright sign":"Copyright sign","Cruzeiro sign":"Cruzeiro sign",Currency:"Currency","Currency sign":"Currency sign","Degree sign":"Degree sign","Division sign":"Division sign","Dollar sign":"Dollar sign","Dong sign":"Dong sign","Double dagger":"Double dagger","Double exclamation mark":"Double exclamation mark","Double low-9 quotation mark":"Double low-9 quotation mark","Double question mark":"Double question mark","downwards arrow to bar":"downwards arrow to bar","downwards dashed arrow":"downwards dashed arrow","downwards double arrow":"downwards double arrow","downwards simple arrow":"downwards simple arrow","Drachma sign":"Drachma sign","Element of":"Element of","Em dash":"Em dash","Empty set":"Empty set","En dash":"En dash","end with leftwards arrow above":"end with leftwards arrow above","Euro sign":"Euro sign","Euro-currency sign":"Euro-currency sign","Exclamation question mark":"Exclamation question mark","For all":"For all","Fraction slash":"Fraction slash","French franc sign":"French franc sign","German penny sign":"German penny sign","Greater-than or equal to":"Greater-than or equal to","Greater-than sign":"Greater-than sign","Guarani sign":"Guarani sign","Horizontal ellipsis":"Horizontal ellipsis","Hryvnia sign":"Hryvnia sign","Identical to":"Identical to","Indian rupee sign":"Indian rupee sign",Infinity:"Infinity",Integral:"Integral",Intersection:"Intersection","Inverted exclamation mark":"Inverted exclamation mark","Inverted question mark":"Inverted question mark","Kip sign":"Kip sign",Latin:"Latin","Latin capital letter a with breve":"Latin capital letter a with breve","Latin capital letter a with macron":"Latin capital letter a with macron","Latin capital letter a with ogonek":"Latin capital letter a with ogonek","Latin capital letter c with acute":"Latin capital letter c with acute","Latin capital letter c with caron":"Latin capital letter c with caron","Latin capital letter c with circumflex":"Latin capital letter c with circumflex","Latin capital letter c with dot above":"Latin capital letter c with dot above","Latin capital letter d with caron":"Latin capital letter d with caron","Latin capital letter d with stroke":"Latin capital letter d with stroke","Latin capital letter e with breve":"Latin capital letter e with breve","Latin capital letter e with caron":"Latin capital letter e with caron","Latin capital letter e with dot above":"Latin capital letter e with dot above","Latin capital letter e with macron":"Latin capital letter e with macron","Latin capital letter e with ogonek":"Latin capital letter e with ogonek","Latin capital letter eng":"Latin capital letter eng","Latin capital letter g with breve":"Latin capital letter g with breve","Latin capital letter g with cedilla":"Latin capital letter g with cedilla","Latin capital letter g with circumflex":"Latin capital letter g with circumflex","Latin capital letter g with dot above":"Latin capital letter g with dot above","Latin capital letter h with circumflex":"Latin capital letter h with circumflex","Latin capital letter h with stroke":"Latin capital letter h with stroke","Latin capital letter i with breve":"Latin capital letter i with breve","Latin capital letter i with dot above":"Latin capital letter i with dot above","Latin capital letter i with macron":"Latin capital letter i with macron","Latin capital letter i with ogonek":"Latin capital letter i with ogonek","Latin capital letter i with tilde":"Latin capital letter i with tilde","Latin capital letter j with circumflex":"Latin capital letter j with circumflex","Latin capital letter k with cedilla":"Latin capital letter k with cedilla","Latin capital letter l with acute":"Latin capital letter l with acute","Latin capital letter l with caron":"Latin capital letter l with caron","Latin capital letter l with cedilla":"Latin capital letter l with cedilla","Latin capital letter l with middle dot":"Latin capital letter l with middle dot","Latin capital letter l with stroke":"Latin capital letter l with stroke","Latin capital letter n with acute":"Latin capital letter n with acute","Latin capital letter n with caron":"Latin capital letter n with caron","Latin capital letter n with cedilla":"Latin capital letter n with cedilla","Latin capital letter o with breve":"Latin capital letter o with breve","Latin capital letter o with double acute":"Latin capital letter o with double acute","Latin capital letter o with macron":"Latin capital letter o with macron","Latin capital letter r with acute":"Latin capital letter r with acute","Latin capital letter r with caron":"Latin capital letter r with caron","Latin capital letter r with cedilla":"Latin capital letter r with cedilla","Latin capital letter s with acute":"Latin capital letter s with acute","Latin capital letter s with caron":"Latin capital letter s with caron","Latin capital letter s with cedilla":"Latin capital letter s with cedilla","Latin capital letter s with circumflex":"Latin capital letter s with circumflex","Latin capital letter t with caron":"Latin capital letter t with caron","Latin capital letter t with cedilla":"Latin capital letter t with cedilla","Latin capital letter t with stroke":"Latin capital letter t with stroke","Latin capital letter u with breve":"Latin capital letter u with breve","Latin capital letter u with double acute":"Latin capital letter u with double acute","Latin capital letter u with macron":"Latin capital letter u with macron","Latin capital letter u with ogonek":"Latin capital letter u with ogonek","Latin capital letter u with ring above":"Latin capital letter u with ring above","Latin capital letter u with tilde":"Latin capital letter u with tilde","Latin capital letter w with circumflex":"Latin capital letter w with circumflex","Latin capital letter y with circumflex":"Latin capital letter y with circumflex","Latin capital letter y with diaeresis":"Latin capital letter y with diaeresis","Latin capital letter z with acute":"Latin capital letter z with acute","Latin capital letter z with caron":"Latin capital letter z with caron","Latin capital letter z with dot above":"Latin capital letter z with dot above","Latin capital ligature ij":"Latin capital ligature ij","Latin capital ligature oe":"Latin capital ligature oe","Latin small letter a with breve":"Latin small letter a with breve","Latin small letter a with macron":"Latin small letter a with macron","Latin small letter a with ogonek":"Latin small letter a with ogonek","Latin small letter c with acute":"Latin small letter c with acute","Latin small letter c with caron":"Latin small letter c with caron","Latin small letter c with circumflex":"Latin small letter c with circumflex","Latin small letter c with dot above":"Latin small letter c with dot above","Latin small letter d with caron":"Latin small letter d with caron","Latin small letter d with stroke":"Latin small letter d with stroke","Latin small letter dotless i":"Latin small letter dotless i","Latin small letter e with breve":"Latin small letter e with breve","Latin small letter e with caron":"Latin small letter e with caron","Latin small letter e with dot above":"Latin small letter e with dot above","Latin small letter e with macron":"Latin small letter e with macron","Latin small letter e with ogonek":"Latin small letter e with ogonek","Latin small letter eng":"Latin small letter eng","Latin small letter f with hook":"Latin small letter f with hook","Latin small letter g with breve":"Latin small letter g with breve","Latin small letter g with cedilla":"Latin small letter g with cedilla","Latin small letter g with circumflex":"Latin small letter g with circumflex","Latin small letter g with dot above":"Latin small letter g with dot above","Latin small letter h with circumflex":"Latin small letter h with circumflex","Latin small letter h with stroke":"Latin small letter h with stroke","Latin small letter i with breve":"Latin small letter i with breve","Latin small letter i with macron":"Latin small letter i with macron","Latin small letter i with ogonek":"Latin small letter i with ogonek","Latin small letter i with tilde":"Latin small letter i with tilde","Latin small letter j with circumflex":"Latin small letter j with circumflex","Latin small letter k with cedilla":"Latin small letter k with cedilla","Latin small letter kra":"Latin small letter kra","Latin small letter l with acute":"Latin small letter l with acute","Latin small letter l with caron":"Latin small letter l with caron","Latin small letter l with cedilla":"Latin small letter l with cedilla","Latin small letter l with middle dot":"Latin small letter l with middle dot","Latin small letter l with stroke":"Latin small letter l with stroke","Latin small letter long s":"Latin small letter long s","Latin small letter n preceded by apostrophe":"Latin small letter n preceded by apostrophe","Latin small letter n with acute":"Latin small letter n with acute","Latin small letter n with caron":"Latin small letter n with caron","Latin small letter n with cedilla":"Latin small letter n with cedilla","Latin small letter o with breve":"Latin small letter o with breve","Latin small letter o with double acute":"Latin small letter o with double acute","Latin small letter o with macron":"Latin small letter o with macron","Latin small letter r with acute":"Latin small letter r with acute","Latin small letter r with caron":"Latin small letter r with caron","Latin small letter r with cedilla":"Latin small letter r with cedilla","Latin small letter s with acute":"Latin small letter s with acute","Latin small letter s with caron":"Latin small letter s with caron","Latin small letter s with cedilla":"Latin small letter s with cedilla","Latin small letter s with circumflex":"Latin small letter s with circumflex","Latin small letter t with caron":"Latin small letter t with caron","Latin small letter t with cedilla":"Latin small letter t with cedilla","Latin small letter t with stroke":"Latin small letter t with stroke","Latin small letter u with breve":"Latin small letter u with breve","Latin small letter u with double acute":"Latin small letter u with double acute","Latin small letter u with macron":"Latin small letter u with macron","Latin small letter u with ogonek":"Latin small letter u with ogonek","Latin small letter u with ring above":"Latin small letter u with ring above","Latin small letter u with tilde":"Latin small letter u with tilde","Latin small letter w with circumflex":"Latin small letter w with circumflex","Latin small letter y with circumflex":"Latin small letter y with circumflex","Latin small letter z with acute":"Latin small letter z with acute","Latin small letter z with caron":"Latin small letter z with caron","Latin small letter z with dot above":"Latin small letter z with dot above","Latin small ligature ij":"Latin small ligature ij","Latin small ligature oe":"Latin small ligature oe","Left double quotation mark":"Left double quotation mark","Left single quotation mark":"Left single quotation mark","Left-pointing double angle quotation mark":"Left-pointing double angle quotation mark","leftwards arrow to bar":"leftwards arrow to bar","leftwards dashed arrow":"leftwards dashed arrow","leftwards double arrow":"leftwards double arrow","leftwards simple arrow":"leftwards simple arrow","Less-than or equal to":"Less-than or equal to","Less-than sign":"Less-than sign","Lira sign":"Lira sign","Livre tournois sign":"Livre tournois sign","Logical and":"Logical and","Logical or":"Logical or",Macron:"Macron","Manat sign":"Manat sign",Mathematical:"Mathematical","Mill sign":"Mill sign","Minus sign":"Minus sign","Multiplication sign":"Multiplication sign","N-ary product":"N-ary product","N-ary summation":"N-ary summation",Nabla:"Nabla","Naira sign":"Naira sign","New sheqel sign":"New sheqel sign","Nordic mark sign":"Nordic mark sign","Not an element of":"Not an element of","Not equal to":"Not equal to","Not sign":"Not sign","on with exclamation mark with left right arrow above":"on with exclamation mark with left right arrow above",Overline:"Overline","Paragraph sign":"Paragraph sign","Partial differential":"Partial differential","Per mille sign":"Per mille sign","Per ten thousand sign":"Per ten thousand sign","Peseta sign":"Peseta sign","Peso sign":"Peso sign","Plus-minus sign":"Plus-minus sign","Pound sign":"Pound sign","Proportional to":"Proportional to","Question exclamation mark":"Question exclamation mark","Registered sign":"Registered sign","Reversed paragraph sign":"Reversed paragraph sign","Right double quotation mark":"Right double quotation mark","Right single quotation mark":"Right single quotation mark","Right-pointing double angle quotation mark":"Right-pointing double angle quotation mark","rightwards arrow to bar":"rightwards arrow to bar","rightwards dashed arrow":"rightwards dashed arrow","rightwards double arrow":"rightwards double arrow","rightwards simple arrow":"rightwards simple arrow","Ruble sign":"Ruble sign","Rupee sign":"Rupee sign","Section sign":"Section sign","Single left-pointing angle quotation mark":"Single left-pointing angle quotation mark","Single low-9 quotation mark":"Single low-9 quotation mark","Single right-pointing angle quotation mark":"Single right-pointing angle quotation mark","soon with rightwards arrow above":"soon with rightwards arrow above","Special characters":"Special characters","Spesmilo sign":"Spesmilo sign","Square root":"Square root","Tenge sign":"Tenge sign",Text:"Text","There exists":"There exists","Tilde operator":"Tilde operator","top with upwards arrow above":"top with upwards arrow above","Trade mark sign":"Trade mark sign","Tugrik sign":"Tugrik sign","Turkish lira sign":"Turkish lira sign","Two dot leader":"Two dot leader",Union:"Union","up down arrow with base":"up down arrow with base","upwards arrow to bar":"upwards arrow to bar","upwards dashed arrow":"upwards dashed arrow","upwards double arrow":"upwards double arrow","upwards simple arrow":"upwards simple arrow","Vulgar fraction one half":"Vulgar fraction one half","Vulgar fraction one quarter":"Vulgar fraction one quarter","Vulgar fraction three quarters":"Vulgar fraction three quarters","Won sign":"Won sign","Yen sign":"Yen sign"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={298:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck.ck-character-grid{max-width:100%}.ck.ck-character-grid .ck-character-grid__tiles{display:grid}:root{--ck-character-grid-tile-size:24px}.ck.ck-character-grid{max-height:200px;overflow-x:hidden;overflow-y:auto;width:350px}@media screen and (max-width:600px){.ck.ck-character-grid{width:190px}}.ck.ck-character-grid .ck-character-grid__tiles{grid-gap:var(--ck-spacing-standard);grid-template-columns:repeat(10,1fr);margin:var(--ck-spacing-standard) var(--ck-spacing-large)}@media screen and (max-width:600px){.ck.ck-character-grid .ck-character-grid__tiles{grid-template-columns:repeat(5,1fr)}}.ck.ck-character-grid .ck-character-grid__tile{border:0;font-size:1.2em;height:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-character-grid-tile-size)}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);text-align:center;width:100%}",""]);const l=_},507:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck.ck-character-info{border-top:1px solid var(--ck-color-base-border);display:flex;justify-content:space-between;padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-character-info>*{font-size:var(--ck-font-size-small);text-transform:uppercase}.ck.ck-character-info .ck-character-info__name{max-width:280px;overflow:hidden;text-overflow:ellipsis}.ck.ck-character-info .ck-character-info__code{opacity:.6}@media screen and (max-width:600px){.ck.ck-character-info{max-width:190px}}",""]);const l=_},911:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(609),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck.ck-special-characters-navigation>.ck-label{max-width:160px;overflow:hidden;text-overflow:ellipsis}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}@media screen and (max-width:600px){.ck.ck-special-characters-navigation{max-width:190px}.ck.ck-special-characters-navigation>.ck-form__header__label{overflow:hidden;text-overflow:ellipsis}}",""]);const l=_},609:m=>{"use strict";m.exports=function(M){var S=[];return S.toString=function(){return this.map(function(p){var _=M(p);return p[2]?"@media ".concat(p[2]," {").concat(_,"}"):_}).join("")},S.i=function(p,_,l){typeof p=="string"&&(p=[[null,p,""]]);var c={};if(l)for(var P=0;P<this.length;P++){var B=this[P][0];B!=null&&(c[B]=!0)}for(var x=0;x<p.length;x++){var h=[].concat(p[x]);l&&c[h[0]]||(_&&(h[2]?h[2]="".concat(_," and ").concat(h[2]):h[2]=_),S.push(h))}},S}},62:(m,M,S)=>{"use strict";var p,_=function(){return p===void 0&&(p=Boolean(window&&document&&document.all&&!window.atob)),p},l=function(){var u={};return function(y){if(u[y]===void 0){var f=document.querySelector(y);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}u[y]=f}return u[y]}}(),c=[];function P(u){for(var y=-1,f=0;f<c.length;f++)if(c[f].identifier===u){y=f;break}return y}function B(u,y){for(var f={},v=[],A=0;A<u.length;A++){var T=u[A],E=y.base?T[0]+y.base:T[0],ae=f[E]||0,q="".concat(E," ").concat(ae);f[E]=ae+1;var z=P(q),b={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(b)):c.push({identifier:q,updater:ie(b,y),references:1}),v.push(q)}return v}function x(u){var y=document.createElement("style"),f=u.attributes||{};if(f.nonce===void 0){var v=S.nc;v&&(f.nonce=v)}if(Object.keys(f).forEach(function(T){y.setAttribute(T,f[T])}),typeof u.insert=="function")u.insert(y);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(y)}return y}var h,j=(h=[],function(u,y){return h[u]=y,h.filter(Boolean).join(`
`)});function Z(u,y,f,v){var A=f?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=j(y,A);else{var T=document.createTextNode(A),E=u.childNodes;E[y]&&u.removeChild(E[y]),E.length?u.insertBefore(T,E[y]):u.appendChild(T)}}function Y(u,y,f){var v=f.css,A=f.media,T=f.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var te=null,oe=0;function ie(u,y){var f,v,A;if(y.singleton){var T=oe++;f=te||(te=x(y)),v=Z.bind(null,f,T,!1),A=Z.bind(null,f,T,!0)}else f=x(y),v=Y.bind(null,f,y),A=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(f)};return v(u),function(E){if(E){if(E.css===u.css&&E.media===u.media&&E.sourceMap===u.sourceMap)return;v(u=E)}else A()}}m.exports=function(u,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=_());var f=B(u=u||[],y);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<f.length;A++){var T=P(f[A]);c[T].references--}for(var E=B(v,y),ae=0;ae<f.length;ae++){var q=P(f[ae]);c[q].references===0&&(c[q].updater(),c.splice(q,1))}f=E}}}},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},181:(m,M,S)=>{m.exports=S(79)("./src/typing.js")},273:(m,M,S)=>{m.exports=S(79)("./src/ui.js")},209:(m,M,S)=>{m.exports=S(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={id:m,exports:{}};return Gt[m](S,S.exports,J),S.exports}J.n=m=>{var M=m&&m.__esModule?()=>m.default:()=>m;return J.d(M,{a:M}),M},J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},J.nc=void 0;var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{SpecialCharacters:()=>y,SpecialCharactersArrows:()=>f,SpecialCharactersCurrency:()=>E,SpecialCharactersEssentials:()=>ae,SpecialCharactersLatin:()=>T,SpecialCharactersMathematical:()=>A,SpecialCharactersText:()=>v});var m=J(704),M=J(181),S=J(273),p=J(209);class _ extends S.FormHeaderView{constructor(z,b){super(z);const V=z.t;this.set("class","ck-special-characters-navigation"),this.groupDropdownView=this._createGroupDropdown(b),this.groupDropdownView.panelPosition=z.uiLanguageDirection==="rtl"?"se":"sw",this.label=V("Special characters"),this.children.add(this.groupDropdownView)}get currentGroupName(){return this.groupDropdownView.value}focus(){this.groupDropdownView.focus()}_createGroupDropdown(z){const b=this.locale,V=b.t,$=(0,S.createDropdown)(b),D=this._getCharacterGroupListItemDefinitions($,z),re=V("Character categories");return $.set("value",D.first.model.name),$.buttonView.bind("label").to($,"value",Ee=>z.get(Ee)),$.buttonView.set({isOn:!1,withText:!0,tooltip:re,class:["ck-dropdown__button_label-width_auto"],ariaLabel:re,ariaLabelledBy:void 0}),$.on("execute",Ee=>{$.value=Ee.source.name}),$.delegate("execute").to(this),(0,S.addListToDropdown)($,D,{ariaLabel:re,role:"menu"}),$}_getCharacterGroupListItemDefinitions(z,b){const V=new p.Collection;for(const[$,D]of b){const re=new S.Model({name:$,label:D,withText:!0,role:"menuitemradio"});re.bind("isOn").to(z,"value",Ee=>Ee===re.name),V.add({type:"button",model:re})}return V}}var l=J(62),c=J.n(l),P=J(298),B={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};c()(P.Z,B),P.Z.locals;class x extends S.View{constructor(z){super(z),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new p.FocusTracker,this.keystrokes=new p.KeystrokeHandler,(0,S.addKeyboardHandlingForGrid)({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>p.global.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(z,b){const V=new S.ButtonView(this.locale);return V.set({label:z,withText:!0,class:"ck-character-grid__tile"}),V.extendTemplate({attributes:{title:b},on:{mouseover:V.bindTemplate.to("mouseover"),focus:V.bindTemplate.to("focus")}}),V.on("mouseover",()=>{this.fire("tileHover",{name:b,character:z})}),V.on("focus",()=>{this.fire("tileFocus",{name:b,character:z})}),V.on("execute",()=>{this.fire("execute",{name:b,character:z})}),V}render(){super.render();for(const z of this.tiles)this.focusTracker.add(z.element);this.tiles.on("change",(z,{added:b,removed:V})=>{if(b.length>0)for(const $ of b)this.focusTracker.add($.element);if(V.length>0)for(const $ of V)this.focusTracker.remove($.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}var h=J(507),j={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};c()(h.Z,j),h.Z.locals;class Z extends S.View{constructor(z){super(z);const b=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",Y),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:b.to("name",V=>V||"\u200B")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:b.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function Y(q){return q===null?"":"U+"+("0000"+q.codePointAt(0).toString(16)).slice(-4)}class te extends S.View{constructor(z,b,V,$){super(z),this.navigationView=b,this.gridView=V,this.infoView=$,this.items=this.createCollection(),this.focusTracker=new p.FocusTracker,this.keystrokes=new p.KeystrokeHandler,this._focusCycler=new S.FocusCycler({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.navigationView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.navigationView.groupDropdownView.buttonView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.navigationView.groupDropdownView.buttonView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.navigationView.focus()}}var oe=J(911),ie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};c()(oe.Z,ie),oe.Z.locals;const u="All";class y extends m.Plugin{static get requires(){return[M.Typing]}static get pluginName(){return"SpecialCharacters"}constructor(z){super(z);const b=z.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=b("All")}init(){const z=this.editor,b=z.t,V=z.commands.get("insertText");z.ui.componentFactory.add("specialCharacters",$=>{const D=(0,S.createDropdown)($);let re;return D.buttonView.set({label:b("Special characters"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>',tooltip:!0}),D.bind("isEnabled").to(V),D.on("execute",(Ee,je)=>{z.execute("insertText",{text:je.character}),z.editing.view.focus()}),D.on("change:isOpen",()=>{if(!re){re=this._createDropdownPanelContent($,D);const Ee=new te($,re.navigationView,re.gridView,re.infoView);D.panelView.children.add(Ee)}re.infoView.set({character:null,name:null})}),D})}addItems(z,b,V={label:z}){if(z===u)throw new p.CKEditorError("special-character-invalid-group-name",null);const $=this._getGroup(z,V.label);for(const D of b)$.items.add(D.title),this._characters.set(D.title,D.character)}getGroups(){const z=Array.from(this._groups.keys()),b=this.editor.config.get("specialCharacters.order")||[],V=b.find($=>!z.includes($));if(V)throw new p.CKEditorError("special-character-invalid-order-group-name",null,{invalidGroup:V});return new Set([...b,...z])}getCharactersForGroup(z){if(z===u)return new Set(this._characters.keys());const b=this._groups.get(z);return b?b.items:void 0}getCharacter(z){return this._characters.get(z)}_getGroup(z,b){return this._groups.has(z)||this._groups.set(z,{items:new Set,label:b}),this._groups.get(z)}_updateGrid(z,b){b.tiles.clear();const V=this.getCharactersForGroup(z);for(const $ of V){const D=this.getCharacter($);b.tiles.add(b.createTile(D,$))}}_createDropdownPanelContent(z,b){const V=Array.from(this.getGroups()).map(je=>[je,this._groups.get(je).label]),$=new Map([[u,this._allSpecialCharactersGroupLabel],...V]),D=new _(z,$),re=new x(z),Ee=new Z(z);return re.delegate("execute").to(b),re.on("tileHover",(je,Ie)=>{Ee.set(Ie)}),re.on("tileFocus",(je,Ie)=>{Ee.set(Ie)}),D.on("execute",()=>{this._updateGrid(D.currentGroupName,re)}),this._updateGrid(D.currentGroupName,re),{navigationView:D,gridView:re,infoView:Ee}}}class f extends m.Plugin{static get pluginName(){return"SpecialCharactersArrows"}init(){const z=this.editor,b=z.t;z.plugins.get("SpecialCharacters").addItems("Arrows",[{title:b("leftwards simple arrow"),character:"\u2190"},{title:b("rightwards simple arrow"),character:"\u2192"},{title:b("upwards simple arrow"),character:"\u2191"},{title:b("downwards simple arrow"),character:"\u2193"},{title:b("leftwards double arrow"),character:"\u21D0"},{title:b("rightwards double arrow"),character:"\u21D2"},{title:b("upwards double arrow"),character:"\u21D1"},{title:b("downwards double arrow"),character:"\u21D3"},{title:b("leftwards dashed arrow"),character:"\u21E0"},{title:b("rightwards dashed arrow"),character:"\u21E2"},{title:b("upwards dashed arrow"),character:"\u21E1"},{title:b("downwards dashed arrow"),character:"\u21E3"},{title:b("leftwards arrow to bar"),character:"\u21E4"},{title:b("rightwards arrow to bar"),character:"\u21E5"},{title:b("upwards arrow to bar"),character:"\u2912"},{title:b("downwards arrow to bar"),character:"\u2913"},{title:b("up down arrow with base"),character:"\u21A8"},{title:b("back with leftwards arrow above"),character:"\u{1F519}"},{title:b("end with leftwards arrow above"),character:"\u{1F51A}"},{title:b("on with exclamation mark with left right arrow above"),character:"\u{1F51B}"},{title:b("soon with rightwards arrow above"),character:"\u{1F51C}"},{title:b("top with upwards arrow above"),character:"\u{1F51D}"}],{label:b("Arrows")})}}class v extends m.Plugin{static get pluginName(){return"SpecialCharactersText"}init(){const z=this.editor,b=z.t;z.plugins.get("SpecialCharacters").addItems("Text",[{character:"\u2039",title:b("Single left-pointing angle quotation mark")},{character:"\u203A",title:b("Single right-pointing angle quotation mark")},{character:"\xAB",title:b("Left-pointing double angle quotation mark")},{character:"\xBB",title:b("Right-pointing double angle quotation mark")},{character:"\u2018",title:b("Left single quotation mark")},{character:"\u2019",title:b("Right single quotation mark")},{character:"\u201C",title:b("Left double quotation mark")},{character:"\u201D",title:b("Right double quotation mark")},{character:"\u201A",title:b("Single low-9 quotation mark")},{character:"\u201E",title:b("Double low-9 quotation mark")},{character:"\xA1",title:b("Inverted exclamation mark")},{character:"\xBF",title:b("Inverted question mark")},{character:"\u2025",title:b("Two dot leader")},{character:"\u2026",title:b("Horizontal ellipsis")},{character:"\u2021",title:b("Double dagger")},{character:"\u2030",title:b("Per mille sign")},{character:"\u2031",title:b("Per ten thousand sign")},{character:"\u203C",title:b("Double exclamation mark")},{character:"\u2048",title:b("Question exclamation mark")},{character:"\u2049",title:b("Exclamation question mark")},{character:"\u2047",title:b("Double question mark")},{character:"\xA9",title:b("Copyright sign")},{character:"\xAE",title:b("Registered sign")},{character:"\u2122",title:b("Trade mark sign")},{character:"\xA7",title:b("Section sign")},{character:"\xB6",title:b("Paragraph sign")},{character:"\u204B",title:b("Reversed paragraph sign")}],{label:b("Text")})}}class A extends m.Plugin{static get pluginName(){return"SpecialCharactersMathematical"}init(){const z=this.editor,b=z.t;z.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:b("Less-than sign")},{character:">",title:b("Greater-than sign")},{character:"\u2264",title:b("Less-than or equal to")},{character:"\u2265",title:b("Greater-than or equal to")},{character:"\u2013",title:b("En dash")},{character:"\u2014",title:b("Em dash")},{character:"\xAF",title:b("Macron")},{character:"\u203E",title:b("Overline")},{character:"\xB0",title:b("Degree sign")},{character:"\u2212",title:b("Minus sign")},{character:"\xB1",title:b("Plus-minus sign")},{character:"\xF7",title:b("Division sign")},{character:"\u2044",title:b("Fraction slash")},{character:"\xD7",title:b("Multiplication sign")},{character:"\u0192",title:b("Latin small letter f with hook")},{character:"\u222B",title:b("Integral")},{character:"\u2211",title:b("N-ary summation")},{character:"\u221E",title:b("Infinity")},{character:"\u221A",title:b("Square root")},{character:"\u223C",title:b("Tilde operator")},{character:"\u2245",title:b("Approximately equal to")},{character:"\u2248",title:b("Almost equal to")},{character:"\u2260",title:b("Not equal to")},{character:"\u2261",title:b("Identical to")},{character:"\u2208",title:b("Element of")},{character:"\u2209",title:b("Not an element of")},{character:"\u220B",title:b("Contains as member")},{character:"\u220F",title:b("N-ary product")},{character:"\u2227",title:b("Logical and")},{character:"\u2228",title:b("Logical or")},{character:"\xAC",title:b("Not sign")},{character:"\u2229",title:b("Intersection")},{character:"\u222A",title:b("Union")},{character:"\u2202",title:b("Partial differential")},{character:"\u2200",title:b("For all")},{character:"\u2203",title:b("There exists")},{character:"\u2205",title:b("Empty set")},{character:"\u2207",title:b("Nabla")},{character:"\u2217",title:b("Asterisk operator")},{character:"\u221D",title:b("Proportional to")},{character:"\u2220",title:b("Angle")},{character:"\xBC",title:b("Vulgar fraction one quarter")},{character:"\xBD",title:b("Vulgar fraction one half")},{character:"\xBE",title:b("Vulgar fraction three quarters")}],{label:b("Mathematical")})}}class T extends m.Plugin{static get pluginName(){return"SpecialCharactersLatin"}init(){const z=this.editor,b=z.t;z.plugins.get("SpecialCharacters").addItems("Latin",[{character:"\u0100",title:b("Latin capital letter a with macron")},{character:"\u0101",title:b("Latin small letter a with macron")},{character:"\u0102",title:b("Latin capital letter a with breve")},{character:"\u0103",title:b("Latin small letter a with breve")},{character:"\u0104",title:b("Latin capital letter a with ogonek")},{character:"\u0105",title:b("Latin small letter a with ogonek")},{character:"\u0106",title:b("Latin capital letter c with acute")},{character:"\u0107",title:b("Latin small letter c with acute")},{character:"\u0108",title:b("Latin capital letter c with circumflex")},{character:"\u0109",title:b("Latin small letter c with circumflex")},{character:"\u010A",title:b("Latin capital letter c with dot above")},{character:"\u010B",title:b("Latin small letter c with dot above")},{character:"\u010C",title:b("Latin capital letter c with caron")},{character:"\u010D",title:b("Latin small letter c with caron")},{character:"\u010E",title:b("Latin capital letter d with caron")},{character:"\u010F",title:b("Latin small letter d with caron")},{character:"\u0110",title:b("Latin capital letter d with stroke")},{character:"\u0111",title:b("Latin small letter d with stroke")},{character:"\u0112",title:b("Latin capital letter e with macron")},{character:"\u0113",title:b("Latin small letter e with macron")},{character:"\u0114",title:b("Latin capital letter e with breve")},{character:"\u0115",title:b("Latin small letter e with breve")},{character:"\u0116",title:b("Latin capital letter e with dot above")},{character:"\u0117",title:b("Latin small letter e with dot above")},{character:"\u0118",title:b("Latin capital letter e with ogonek")},{character:"\u0119",title:b("Latin small letter e with ogonek")},{character:"\u011A",title:b("Latin capital letter e with caron")},{character:"\u011B",title:b("Latin small letter e with caron")},{character:"\u011C",title:b("Latin capital letter g with circumflex")},{character:"\u011D",title:b("Latin small letter g with circumflex")},{character:"\u011E",title:b("Latin capital letter g with breve")},{character:"\u011F",title:b("Latin small letter g with breve")},{character:"\u0120",title:b("Latin capital letter g with dot above")},{character:"\u0121",title:b("Latin small letter g with dot above")},{character:"\u0122",title:b("Latin capital letter g with cedilla")},{character:"\u0123",title:b("Latin small letter g with cedilla")},{character:"\u0124",title:b("Latin capital letter h with circumflex")},{character:"\u0125",title:b("Latin small letter h with circumflex")},{character:"\u0126",title:b("Latin capital letter h with stroke")},{character:"\u0127",title:b("Latin small letter h with stroke")},{character:"\u0128",title:b("Latin capital letter i with tilde")},{character:"\u0129",title:b("Latin small letter i with tilde")},{character:"\u012A",title:b("Latin capital letter i with macron")},{character:"\u012B",title:b("Latin small letter i with macron")},{character:"\u012C",title:b("Latin capital letter i with breve")},{character:"\u012D",title:b("Latin small letter i with breve")},{character:"\u012E",title:b("Latin capital letter i with ogonek")},{character:"\u012F",title:b("Latin small letter i with ogonek")},{character:"\u0130",title:b("Latin capital letter i with dot above")},{character:"\u0131",title:b("Latin small letter dotless i")},{character:"\u0132",title:b("Latin capital ligature ij")},{character:"\u0133",title:b("Latin small ligature ij")},{character:"\u0134",title:b("Latin capital letter j with circumflex")},{character:"\u0135",title:b("Latin small letter j with circumflex")},{character:"\u0136",title:b("Latin capital letter k with cedilla")},{character:"\u0137",title:b("Latin small letter k with cedilla")},{character:"\u0138",title:b("Latin small letter kra")},{character:"\u0139",title:b("Latin capital letter l with acute")},{character:"\u013A",title:b("Latin small letter l with acute")},{character:"\u013B",title:b("Latin capital letter l with cedilla")},{character:"\u013C",title:b("Latin small letter l with cedilla")},{character:"\u013D",title:b("Latin capital letter l with caron")},{character:"\u013E",title:b("Latin small letter l with caron")},{character:"\u013F",title:b("Latin capital letter l with middle dot")},{character:"\u0140",title:b("Latin small letter l with middle dot")},{character:"\u0141",title:b("Latin capital letter l with stroke")},{character:"\u0142",title:b("Latin small letter l with stroke")},{character:"\u0143",title:b("Latin capital letter n with acute")},{character:"\u0144",title:b("Latin small letter n with acute")},{character:"\u0145",title:b("Latin capital letter n with cedilla")},{character:"\u0146",title:b("Latin small letter n with cedilla")},{character:"\u0147",title:b("Latin capital letter n with caron")},{character:"\u0148",title:b("Latin small letter n with caron")},{character:"\u0149",title:b("Latin small letter n preceded by apostrophe")},{character:"\u014A",title:b("Latin capital letter eng")},{character:"\u014B",title:b("Latin small letter eng")},{character:"\u014C",title:b("Latin capital letter o with macron")},{character:"\u014D",title:b("Latin small letter o with macron")},{character:"\u014E",title:b("Latin capital letter o with breve")},{character:"\u014F",title:b("Latin small letter o with breve")},{character:"\u0150",title:b("Latin capital letter o with double acute")},{character:"\u0151",title:b("Latin small letter o with double acute")},{character:"\u0152",title:b("Latin capital ligature oe")},{character:"\u0153",title:b("Latin small ligature oe")},{character:"\u0154",title:b("Latin capital letter r with acute")},{character:"\u0155",title:b("Latin small letter r with acute")},{character:"\u0156",title:b("Latin capital letter r with cedilla")},{character:"\u0157",title:b("Latin small letter r with cedilla")},{character:"\u0158",title:b("Latin capital letter r with caron")},{character:"\u0159",title:b("Latin small letter r with caron")},{character:"\u015A",title:b("Latin capital letter s with acute")},{character:"\u015B",title:b("Latin small letter s with acute")},{character:"\u015C",title:b("Latin capital letter s with circumflex")},{character:"\u015D",title:b("Latin small letter s with circumflex")},{character:"\u015E",title:b("Latin capital letter s with cedilla")},{character:"\u015F",title:b("Latin small letter s with cedilla")},{character:"\u0160",title:b("Latin capital letter s with caron")},{character:"\u0161",title:b("Latin small letter s with caron")},{character:"\u0162",title:b("Latin capital letter t with cedilla")},{character:"\u0163",title:b("Latin small letter t with cedilla")},{character:"\u0164",title:b("Latin capital letter t with caron")},{character:"\u0165",title:b("Latin small letter t with caron")},{character:"\u0166",title:b("Latin capital letter t with stroke")},{character:"\u0167",title:b("Latin small letter t with stroke")},{character:"\u0168",title:b("Latin capital letter u with tilde")},{character:"\u0169",title:b("Latin small letter u with tilde")},{character:"\u016A",title:b("Latin capital letter u with macron")},{character:"\u016B",title:b("Latin small letter u with macron")},{character:"\u016C",title:b("Latin capital letter u with breve")},{character:"\u016D",title:b("Latin small letter u with breve")},{character:"\u016E",title:b("Latin capital letter u with ring above")},{character:"\u016F",title:b("Latin small letter u with ring above")},{character:"\u0170",title:b("Latin capital letter u with double acute")},{character:"\u0171",title:b("Latin small letter u with double acute")},{character:"\u0172",title:b("Latin capital letter u with ogonek")},{character:"\u0173",title:b("Latin small letter u with ogonek")},{character:"\u0174",title:b("Latin capital letter w with circumflex")},{character:"\u0175",title:b("Latin small letter w with circumflex")},{character:"\u0176",title:b("Latin capital letter y with circumflex")},{character:"\u0177",title:b("Latin small letter y with circumflex")},{character:"\u0178",title:b("Latin capital letter y with diaeresis")},{character:"\u0179",title:b("Latin capital letter z with acute")},{character:"\u017A",title:b("Latin small letter z with acute")},{character:"\u017B",title:b("Latin capital letter z with dot above")},{character:"\u017C",title:b("Latin small letter z with dot above")},{character:"\u017D",title:b("Latin capital letter z with caron")},{character:"\u017E",title:b("Latin small letter z with caron")},{character:"\u017F",title:b("Latin small letter long s")}],{label:b("Latin")})}}class E extends m.Plugin{static get pluginName(){return"SpecialCharactersCurrency"}init(){const z=this.editor,b=z.t;z.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:b("Dollar sign")},{character:"\u20AC",title:b("Euro sign")},{character:"\xA5",title:b("Yen sign")},{character:"\xA3",title:b("Pound sign")},{character:"\xA2",title:b("Cent sign")},{character:"\u20A0",title:b("Euro-currency sign")},{character:"\u20A1",title:b("Colon sign")},{character:"\u20A2",title:b("Cruzeiro sign")},{character:"\u20A3",title:b("French franc sign")},{character:"\u20A4",title:b("Lira sign")},{character:"\xA4",title:b("Currency sign")},{character:"\u20BF",title:b("Bitcoin sign")},{character:"\u20A5",title:b("Mill sign")},{character:"\u20A6",title:b("Naira sign")},{character:"\u20A7",title:b("Peseta sign")},{character:"\u20A8",title:b("Rupee sign")},{character:"\u20A9",title:b("Won sign")},{character:"\u20AA",title:b("New sheqel sign")},{character:"\u20AB",title:b("Dong sign")},{character:"\u20AD",title:b("Kip sign")},{character:"\u20AE",title:b("Tugrik sign")},{character:"\u20AF",title:b("Drachma sign")},{character:"\u20B0",title:b("German penny sign")},{character:"\u20B1",title:b("Peso sign")},{character:"\u20B2",title:b("Guarani sign")},{character:"\u20B3",title:b("Austral sign")},{character:"\u20B4",title:b("Hryvnia sign")},{character:"\u20B5",title:b("Cedi sign")},{character:"\u20B6",title:b("Livre tournois sign")},{character:"\u20B7",title:b("Spesmilo sign")},{character:"\u20B8",title:b("Tenge sign")},{character:"\u20B9",title:b("Indian rupee sign")},{character:"\u20BA",title:b("Turkish lira sign")},{character:"\u20BB",title:b("Nordic mark sign")},{character:"\u20BC",title:b("Manat sign")},{character:"\u20BD",title:b("Ruble sign")}],{label:b("Currency")})}}class ae extends m.Plugin{static get pluginName(){return"SpecialCharactersEssentials"}static get requires(){return[E,v,A,f,T]}}})(),(window.CKEditor5=window.CKEditor5||{}).specialCharacters=Et})()},79549:(Gt,wt,J)=>{Gt=J.nmd(Gt),function(Et){const m=Et.en=Et.en||{};m.dictionary=Object.assign(m.dictionary||{},{"Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Background:"Background",Border:"Border","Cell properties":"Cell properties","Center table":"Center table",Color:"Color","Color picker":"Color picker",Column:"Column",Dashed:"Dashed","Delete column":"Delete column","Delete row":"Delete row",Dimensions:"Dimensions",Dotted:"Dotted",Double:"Double","Enter table caption":"Enter table caption",Groove:"Groove","Header column":"Header column","Header row":"Header row",Height:"Height","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Inset:"Inset","Justify cell text":"Justify cell text","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",None:"None",Outset:"Outset",Padding:"Padding",Ridge:"Ridge",Row:"Row","Select column":"Select column","Select row":"Select row",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Style:"Style","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".','The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Vertical text alignment toolbar":"Vertical text alignment toolbar",Width:"Width"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Et={993:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}",""]);const B=P},102:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}",""]);const B=P},865:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}",""]);const B=P},430:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}",""]);const B=P},943:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}",""]);const B=P},966:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}",""]);const B=P},770:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}",""]);const B=P},387:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}",""]);const B=P},51:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}",""]);const B=P},424:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',""]);const B=P},500:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}",""]);const B=P},522:(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l(609),P=l.n(c)()(function(x){return x[1]});P.push([p.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',""]);const B=P},609:p=>{"use strict";p.exports=function(_){var l=[];return l.toString=function(){return this.map(function(c){var P=_(c);return c[2]?"@media ".concat(c[2]," {").concat(P,"}"):P}).join("")},l.i=function(c,P,B){typeof c=="string"&&(c=[[null,c,""]]);var x={};if(B)for(var h=0;h<this.length;h++){var j=this[h][0];j!=null&&(x[j]=!0)}for(var Z=0;Z<c.length;Z++){var Y=[].concat(c[Z]);B&&x[Y[0]]||(P&&(Y[2]?Y[2]="".concat(P," and ").concat(Y[2]):Y[2]=P),l.push(Y))}},l}},62:(p,_,l)=>{"use strict";var c,P=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},B=function(){var v={};return function(A){if(v[A]===void 0){var T=document.querySelector(A);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}v[A]=T}return v[A]}}(),x=[];function h(v){for(var A=-1,T=0;T<x.length;T++)if(x[T].identifier===v){A=T;break}return A}function j(v,A){for(var T={},E=[],ae=0;ae<v.length;ae++){var q=v[ae],z=A.base?q[0]+A.base:q[0],b=T[z]||0,V="".concat(z," ").concat(b);T[z]=b+1;var $=h(V),D={css:q[1],media:q[2],sourceMap:q[3]};$!==-1?(x[$].references++,x[$].updater(D)):x.push({identifier:V,updater:f(D,A),references:1}),E.push(V)}return E}function Z(v){var A=document.createElement("style"),T=v.attributes||{};if(T.nonce===void 0){var E=l.nc;E&&(T.nonce=E)}if(Object.keys(T).forEach(function(q){A.setAttribute(q,T[q])}),typeof v.insert=="function")v.insert(A);else{var ae=B(v.insert||"head");if(!ae)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ae.appendChild(A)}return A}var Y,te=(Y=[],function(v,A){return Y[v]=A,Y.filter(Boolean).join(`
`)});function oe(v,A,T,E){var ae=T?"":E.media?"@media ".concat(E.media," {").concat(E.css,"}"):E.css;if(v.styleSheet)v.styleSheet.cssText=te(A,ae);else{var q=document.createTextNode(ae),z=v.childNodes;z[A]&&v.removeChild(z[A]),z.length?v.insertBefore(q,z[A]):v.appendChild(q)}}function ie(v,A,T){var E=T.css,ae=T.media,q=T.sourceMap;if(ae?v.setAttribute("media",ae):v.removeAttribute("media"),q&&typeof btoa<"u"&&(E+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(q))))," */")),v.styleSheet)v.styleSheet.cssText=E;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(E))}}var u=null,y=0;function f(v,A){var T,E,ae;if(A.singleton){var q=y++;T=u||(u=Z(A)),E=oe.bind(null,T,q,!1),ae=oe.bind(null,T,q,!0)}else T=Z(A),E=ie.bind(null,T,A),ae=function(){(function(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z)})(T)};return E(v),function(z){if(z){if(z.css===v.css&&z.media===v.media&&z.sourceMap===v.sourceMap)return;E(v=z)}else ae()}}p.exports=function(v,A){(A=A||{}).singleton||typeof A.singleton=="boolean"||(A.singleton=P());var T=j(v=v||[],A);return function(E){if(E=E||[],Object.prototype.toString.call(E)==="[object Array]"){for(var ae=0;ae<T.length;ae++){var q=h(T[ae]);x[q].references--}for(var z=j(E,A),b=0;b<T.length;b++){var V=h(T[b]);x[V].references===0&&(x[V].updater(),x.splice(V,1))}T=z}}}},704:(p,_,l)=>{p.exports=l(79)("./src/core.js")},492:(p,_,l)=>{p.exports=l(79)("./src/engine.js")},273:(p,_,l)=>{p.exports=l(79)("./src/ui.js")},209:(p,_,l)=>{p.exports=l(79)("./src/utils.js")},995:(p,_,l)=>{p.exports=l(79)("./src/widget.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},m={};function M(p){var _=m[p];if(_!==void 0)return _.exports;var l=m[p]={id:p,exports:{}};return Et[p](l,l.exports,M),l.exports}M.n=p=>{var _=p&&p.__esModule?()=>p.default:()=>p;return M.d(_,{a:_}),_},M.d=(p,_)=>{for(var l in _)M.o(_,l)&&!M.o(p,l)&&Object.defineProperty(p,l,{enumerable:!0,get:_[l]})},M.o=(p,_)=>Object.prototype.hasOwnProperty.call(p,_),M.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},M.nc=void 0;var S={};(()=>{"use strict";M.r(S),M.d(S,{PlainTableOutput:()=>Ni,Table:()=>Ti,TableCaption:()=>At,TableCaptionEditing:()=>ar,TableCaptionUI:()=>me,TableCellProperties:()=>Co,TableCellPropertiesEditing:()=>Ji,TableCellPropertiesUI:()=>Fn,TableCellWidthEditing:()=>tr,TableClipboard:()=>Qt,TableColumnResize:()=>oa,TableColumnResizeEditing:()=>Hs,TableEditing:()=>Mi,TableKeyboard:()=>nt,TableMouse:()=>si,TableProperties:()=>br,TablePropertiesEditing:()=>nn,TablePropertiesUI:()=>Uo,TableSelection:()=>jt,TableToolbar:()=>qn,TableUI:()=>ee,TableUtils:()=>hi});var p=M(704),_=M(995);function l(O,s){const{modelAttribute:g,styleName:L,viewElement:R,defaultValue:G,reduceBoxSides:ne=!1,shouldUpcast:we=()=>!0}=s;O.for("upcast").attributeToAttribute({view:{name:R,styles:{[L]:/[\s\S]+/}},model:{key:g,value:fe=>{if(!we(fe))return;const Pe=fe.getNormalizedStyle(L),He=ne?x(Pe):Pe;return G!==He?He:void 0}}})}function c(O,s,g,L){O.for("upcast").add(R=>R.on("element:"+s,(G,ne,we)=>{if(!ne.modelRange)return;const fe=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(Bt=>ne.viewItem.hasStyle(Bt));if(!fe.length)return;const Pe={styles:fe};if(!we.consumable.test(ne.viewItem,Pe))return;const He=[...ne.modelRange.getItems({shallow:!0})].pop();we.consumable.consume(ne.viewItem,Pe);const ct={style:ne.viewItem.getNormalizedStyle("border-style"),color:ne.viewItem.getNormalizedStyle("border-color"),width:ne.viewItem.getNormalizedStyle("border-width")},kt={style:x(ct.style),color:x(ct.color),width:x(ct.width)};kt.style!==L.style&&we.writer.setAttribute(g.style,kt.style,He),kt.color!==L.color&&we.writer.setAttribute(g.color,kt.color,He),kt.width!==L.width&&we.writer.setAttribute(g.width,kt.width,He)}))}function P(O,s){const{modelElement:g,modelAttribute:L,styleName:R}=s;O.for("downcast").attributeToAttribute({model:{name:g,key:L},view:G=>({key:"style",value:{[R]:G}})})}function B(O,s){const{modelAttribute:g,styleName:L}=s;O.for("downcast").add(R=>R.on(`attribute:${g}:table`,(G,ne,we)=>{const{item:fe,attributeNewValue:Pe}=ne,{mapper:He,writer:ct}=we;if(!we.consumable.consume(ne.item,G.name))return;const kt=[...He.toViewElement(fe).getChildren()].find(Bt=>Bt.is("element","table"));Pe?ct.setStyle(L,Pe,kt):ct.removeStyle(L,kt)}))}function x(O){if(!O)return;const s=["top","right","bottom","left"];if(!s.every(L=>O[L]))return O;const g=O.top;return s.every(L=>O[L]===g)?g:O}function h(O,s,g,L,R=1){s!=null&&R!=null&&s>R?L.setAttribute(O,s,g):L.removeAttribute(O,g)}function j(O,s,g={}){const L=O.createElement("tableCell",g);return O.insertElement("paragraph",L),O.insert(L,s),L}function Z(O,s){const g=s.parent.parent,L=parseInt(g.getAttribute("headingColumns")||"0"),{column:R}=O.getCellLocation(s);return!!L&&R<L}function Y(O,s,g){const{modelAttribute:L}=g;O.extend("tableCell",{allowAttributes:[L]}),l(s,{viewElement:/^(td|th)$/,...g}),P(s,{modelElement:"tableCell",...g})}function te(O){const s=O.getSelectedElement();return s&&s.is("element","table")?s:O.getFirstPosition().findAncestor("table")}var oe=M(209);function ie(){return O=>{O.on("element:table",(s,g,L)=>{const R=g.viewItem;if(!L.consumable.test(R,{name:!0}))return;const{rows:G,headingRows:ne,headingColumns:we}=function(He){let ct,kt=0;const Bt=[],Kt=[];let Zt;for(const ei of Array.from(He.getChildren())){if(ei.name!=="tbody"&&ei.name!=="thead"&&ei.name!=="tfoot")continue;ei.name!=="thead"||Zt||(Zt=ei);const pi=Array.from(ei.getChildren()).filter(xi=>xi.is("element","tr"));for(const xi of pi)if(Zt&&ei===Zt||ei.name==="tbody"&&Array.from(xi.getChildren()).length&&Array.from(xi.getChildren()).every(Bi=>Bi.is("element","th")))kt++,Bt.push(xi);else{Kt.push(xi);const Bi=y(xi);(!ct||Bi<ct)&&(ct=Bi)}}return{headingRows:kt,headingColumns:ct||0,rows:[...Bt,...Kt]}}(R),fe={};we&&(fe.headingColumns=we),ne&&(fe.headingRows=ne);const Pe=L.writer.createElement("table",fe);if(L.safeInsert(Pe,g.modelCursor)){if(L.consumable.consume(R,{name:!0}),G.forEach(He=>L.convertItem(He,L.writer.createPositionAt(Pe,"end"))),L.convertChildren(R,L.writer.createPositionAt(Pe,"end")),Pe.isEmpty){const He=L.writer.createElement("tableRow");L.writer.insert(He,L.writer.createPositionAt(Pe,"end")),j(L.writer,L.writer.createPositionAt(He,"end"))}L.updateConversionResult(Pe,g)}})}}function u(O){return s=>{s.on(`element:${O}`,(g,L,{writer:R})=>{if(!L.modelRange)return;const G=L.modelRange.start.nodeAfter,ne=R.createPositionAt(G,0);if(L.viewItem.isEmpty)return void R.insertElement("paragraph",ne);const we=Array.from(G.getChildren());if(we.every(fe=>fe.is("element","$marker"))){const fe=R.createElement("paragraph");R.insert(fe,R.createPositionAt(G,0));for(const Pe of we)R.move(R.createRangeOn(Pe),R.createPositionAt(fe,"end"))}},{priority:"low"})}}function y(O){let s=0,g=0;const L=Array.from(O.getChildren()).filter(R=>R.name==="th"||R.name==="td");for(;g<L.length&&L[g].name==="th";){const R=L[g];s+=parseInt(R.getAttribute("colspan")||"1"),g++}return s}class f{constructor(s,g={}){this._jumpedToStartRow=!1,this._table=s,this._startRow=g.row!==void 0?g.row:g.startRow||0,this._endRow=g.row!==void 0?g.row:g.endRow,this._startColumn=g.column!==void 0?g.column:g.startColumn||0,this._endColumn=g.column!==void 0?g.column:g.endColumn,this._includeAllSlots=!!g.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const s=this._table.getChild(this._rowIndex);if(!s||this._isOverEndRow())return{done:!0,value:void 0};if(!s.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let g=null;const L=this._getSpanned();if(L)this._includeAllSlots&&!this._shouldSkipSlot()&&(g=this._formatOutValue(L.cell,L.row,L.column));else{const R=s.getChild(this._cellIndex);if(!R)return this._advanceToNextRow();const G=parseInt(R.getAttribute("colspan")||"1"),ne=parseInt(R.getAttribute("rowspan")||"1");(G>1||ne>1)&&this._recordSpans(R,ne,G),this._shouldSkipSlot()||(g=this._formatOutValue(R)),this._nextCellAtColumn=this._column+G}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,g||this.next()}skipRow(s){this._skipRows.add(s)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(s,g=this._row,L=this._column){return{done:!1,value:new v(this,s,g,L)}}_shouldSkipSlot(){const s=this._skipRows.has(this._row),g=this._row<this._startRow,L=this._column<this._startColumn,R=this._endColumn!==void 0&&this._column>this._endColumn;return s||g||L||R}_getSpanned(){const s=this._spannedCells.get(this._row);return s&&s.get(this._column)||null}_recordSpans(s,g,L){const R={cell:s,row:this._row,column:this._column};for(let G=this._row;G<this._row+g;G++)for(let ne=this._column;ne<this._column+L;ne++)G==this._row&&ne==this._column||this._markSpannedCell(G,ne,R)}_markSpannedCell(s,g,L){this._spannedCells.has(s)||this._spannedCells.set(s,new Map),this._spannedCells.get(s).set(g,L)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const s=this._getRowLength(0);for(let g=this._startRow;!this._jumpedToStartRow;g--)s===this._getRowLength(g)&&(this._row=g,this._rowIndex=g,this._jumpedToStartRow=!0)}_getRowLength(s){return[...this._table.getChild(s).getChildren()].reduce((g,L)=>g+parseInt(L.getAttribute("colspan")||"1"),0)}}class v{constructor(s,g,L,R){this.cell=g,this.row=s._row,this.column=s._column,this.cellAnchorRow=L,this.cellAnchorColumn=R,this._cellIndex=s._cellIndex,this._rowIndex=s._rowIndex,this._table=s._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function A(O,s){return(g,{writer:L})=>{const R=g.getAttribute("headingRows")||0,G=L.createContainerElement("table",null,[]),ne=L.createContainerElement("figure",{class:"table"},G);R>0&&L.insert(L.createPositionAt(G,"end"),L.createContainerElement("thead",null,L.createSlot(we=>we.is("element","tableRow")&&we.index<R))),R<O.getRows(g)&&L.insert(L.createPositionAt(G,"end"),L.createContainerElement("tbody",null,L.createSlot(we=>we.is("element","tableRow")&&we.index>=R)));for(const{positionOffset:we,filter:fe}of s.additionalSlots)L.insert(L.createPositionAt(G,we),L.createSlot(fe));return L.insert(L.createPositionAt(G,"after"),L.createSlot(we=>!we.is("element","tableRow")&&!s.additionalSlots.some(({filter:fe})=>fe(we)))),s.asWidget?function(we,fe){return fe.setCustomProperty("table",!0,we),(0,_.toWidget)(we,fe,{hasSelectionHandle:!0})}(ne,L):ne}}function T(O={}){return(s,{writer:g})=>{const L=s.parent,R=L.parent,G=R.getChildIndex(L),ne=new f(R,{row:G}),we=R.getAttribute("headingRows")||0,fe=R.getAttribute("headingColumns")||0;let Pe=null;for(const He of ne)if(He.cell==s){const ct=He.row<we||He.column<fe?"th":"td";Pe=O.asWidget?(0,_.toWidgetEditable)(g.createEditableElement(ct),g):g.createContainerElement(ct);break}return Pe}}function E(O={}){return(s,{writer:g})=>{if(!s.parent.is("element","tableCell")||!ae(s))return null;if(O.asWidget)return g.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const L=g.createContainerElement("p");return g.setCustomProperty("dataPipeline:transparentRendering",!0,L),L}}}function ae(O){return O.parent.childCount==1&&!!O.getAttributeKeys().next().done}class q extends p.Command{refresh(){const s=this.editor.model,g=s.document.selection,L=s.schema;this.isEnabled=function(R,G){const ne=R.getFirstPosition().parent,we=ne===ne.root?ne:ne.parent;return G.checkChild(we,"table")}(g,L)}execute(s={}){const g=this.editor,L=g.model,R=g.plugins.get("TableUtils"),G=g.config.get("table.defaultHeadings.rows"),ne=g.config.get("table.defaultHeadings.columns");s.headingRows===void 0&&G&&(s.headingRows=G),s.headingColumns===void 0&&ne&&(s.headingColumns=ne),L.change(we=>{const fe=R.createTable(we,s);L.insertObject(fe,null,null,{findOptimalPosition:"auto"}),we.setSelection(we.createPositionAt(fe.getNodeByPath([0,0,0]),0))})}}class z extends p.Command{constructor(s,g={}){super(s),this.order=g.order||"below"}refresh(){const s=this.editor.model.document.selection,g=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(s).length;this.isEnabled=g}execute(){const s=this.editor,g=s.model.document.selection,L=s.plugins.get("TableUtils"),R=this.order==="above",G=L.getSelectionAffectedTableCells(g),ne=L.getRowIndexes(G),we=R?ne.first:ne.last,fe=G[0].findAncestor("table");L.insertRows(fe,{at:R?we:we+1,copyStructureFromAbove:!R})}}class b extends p.Command{constructor(s,g={}){super(s),this.order=g.order||"right"}refresh(){const s=this.editor.model.document.selection,g=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(s).length;this.isEnabled=g}execute(){const s=this.editor,g=s.model.document.selection,L=s.plugins.get("TableUtils"),R=this.order==="left",G=L.getSelectionAffectedTableCells(g),ne=L.getColumnIndexes(G),we=R?ne.first:ne.last,fe=G[0].findAncestor("table");L.insertColumns(fe,{columns:1,at:R?we:we+1})}}class V extends p.Command{constructor(s,g={}){super(s),this.direction=g.direction||"horizontally"}refresh(){const s=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=s.length===1}execute(){const s=this.editor.plugins.get("TableUtils"),g=s.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?s.splitCellHorizontally(g,2):s.splitCellVertically(g,2)}}function $(O,s,g){const{startRow:L,startColumn:R,endRow:G,endColumn:ne}=s,we=g.createElement("table"),fe=G-L+1;for(let He=0;He<fe;He++)g.insertElement("tableRow",we,"end");const Pe=[...new f(O,{startRow:L,endRow:G,startColumn:R,endColumn:ne,includeAllSlots:!0})];for(const{row:He,column:ct,cell:kt,isAnchor:Bt,cellAnchorRow:Kt,cellAnchorColumn:Zt}of Pe){const ei=He-L,pi=we.getChild(ei);if(Bt){const xi=g.cloneElement(kt);g.append(xi,pi),Ie(xi,He,ct,G,ne,g)}else(Kt<L||Zt<R)&&j(g,g.createPositionAt(pi,"end"))}return function(He,ct,kt,Bt,Kt){const Zt=parseInt(ct.getAttribute("headingRows")||"0");Zt>0&&h("headingRows",Zt-kt,He,Kt,0);const ei=parseInt(ct.getAttribute("headingColumns")||"0");ei>0&&h("headingColumns",ei-Bt,He,Kt,0)}(we,O,L,R,g),we}function D(O,s,g=0){const L=[],R=new f(O,{startRow:g,endRow:s-1});for(const G of R){const{row:ne,cellHeight:we}=G;ne<s&&s<=ne+we-1&&L.push(G)}return L}function re(O,s,g){const L=O.parent,R=L.parent,G=L.index,ne=s-G,we={},fe=parseInt(O.getAttribute("rowspan"))-ne;fe>1&&(we.rowspan=fe);const Pe=parseInt(O.getAttribute("colspan")||"1");Pe>1&&(we.colspan=Pe);const He=G+ne,ct=[...new f(R,{startRow:G,endRow:He,includeAllSlots:!0})];let kt,Bt=null;for(const Kt of ct){const{row:Zt,column:ei,cell:pi}=Kt;pi===O&&kt===void 0&&(kt=ei),kt!==void 0&&kt===ei&&Zt===He&&(Bt=j(g,Kt.getPositionBefore(),we))}return h("rowspan",ne,O,g),Bt}function Ee(O,s){const g=[],L=new f(O);for(const R of L){const{column:G,cellWidth:ne}=R;G<s&&s<=G+ne-1&&g.push(R)}return g}function je(O,s,g,L){const R=g-s,G={},ne=parseInt(O.getAttribute("colspan"))-R;ne>1&&(G.colspan=ne);const we=parseInt(O.getAttribute("rowspan")||"1");we>1&&(G.rowspan=we);const fe=j(L,L.createPositionAfter(O),G);return h("colspan",R,O,L),fe}function Ie(O,s,g,L,R,G){const ne=parseInt(O.getAttribute("colspan")||"1"),we=parseInt(O.getAttribute("rowspan")||"1");g+ne-1>R&&h("colspan",R-g+1,O,G,1),s+we-1>L&&h("rowspan",L-s+1,O,G,1)}function De(O,s){const g=s.getColumns(O),L=new Array(g).fill(0);for(const{column:G}of new f(O))L[G]++;const R=L.reduce((G,ne,we)=>ne?G:[...G,we],[]);if(R.length>0){const G=R[R.length-1];return s.removeColumns(O,{at:G}),!0}return!1}function mt(O,s){const g=[],L=s.getRows(O);for(let R=0;R<L;R++)O.getChild(R).isEmpty&&g.push(R);if(g.length>0){const R=g[g.length-1];return s.removeRows(O,{at:R}),!0}return!1}function lt(O,s){De(O,s)||mt(O,s)}function ut(O,s){const g=Array.from(new f(O,{startColumn:s.firstColumn,endColumn:s.lastColumn,row:s.lastRow}));if(g.every(({cellHeight:R})=>R===1))return s.lastRow;const L=g[0].cellHeight-1;return s.lastRow+L}function dt(O,s){const g=Array.from(new f(O,{startRow:s.firstRow,endRow:s.lastRow,column:s.lastColumn}));if(g.every(({cellWidth:R})=>R===1))return s.lastColumn;const L=g[0].cellWidth-1;return s.lastColumn+L}class _t extends p.Command{constructor(s,g){super(s),this.direction=g.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const s=this._getMergeableCell();this.value=s,this.isEnabled=!!s}execute(){const s=this.editor.model,g=s.document,L=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(g.selection)[0],R=this.value,G=this.direction;s.change(ne=>{const we=G=="right"||G=="down",fe=we?L:R,Pe=we?R:L,He=Pe.parent;(function(Zt,ei,pi){bt(Zt)||(bt(ei)&&pi.remove(pi.createRangeIn(ei)),pi.move(pi.createRangeIn(Zt),pi.createPositionAt(ei,"end"))),pi.remove(Zt)})(Pe,fe,ne);const ct=this.isHorizontal?"colspan":"rowspan",kt=parseInt(L.getAttribute(ct)||"1"),Bt=parseInt(R.getAttribute(ct)||"1");ne.setAttribute(ct,kt+Bt,fe),ne.setSelection(ne.createRangeIn(fe));const Kt=this.editor.plugins.get("TableUtils");lt(He.findAncestor("table"),Kt)})}_getMergeableCell(){const s=this.editor.model.document,g=this.editor.plugins.get("TableUtils"),L=g.getTableCellsContainingSelection(s.selection)[0];if(!L)return;const R=this.isHorizontal?function(we,fe,Pe){const He=we.parent,ct=He.parent,kt=fe=="right"?we.nextSibling:we.previousSibling,Bt=(ct.getAttribute("headingColumns")||0)>0;if(!kt)return;const Kt=fe=="right"?we:kt,Zt=fe=="right"?kt:we,{column:ei}=Pe.getCellLocation(Kt),{column:pi}=Pe.getCellLocation(Zt),xi=parseInt(Kt.getAttribute("colspan")||"1"),Bi=Z(Pe,Kt),en=Z(Pe,Zt);if(!(Bt&&Bi!=en))return ei+xi===pi?kt:void 0}(L,this.direction,g):function(we,fe,Pe){const He=we.parent,ct=He.parent,kt=ct.getChildIndex(He);if(fe=="down"&&kt===Pe.getRows(ct)-1||fe=="up"&&kt===0)return null;const Bt=parseInt(we.getAttribute("rowspan")||"1"),Kt=ct.getAttribute("headingRows")||0,Zt=fe=="down"&&kt+Bt===Kt,ei=fe=="up"&&kt===Kt;if(Kt&&(Zt||ei))return null;const pi=parseInt(we.getAttribute("rowspan")||"1"),xi=fe=="down"?kt+pi:kt,Bi=[...new f(ct,{endRow:xi})],en=Bi.find(yn=>yn.cell===we),Vn=en.column,Un=Bi.find(({row:yn,cellHeight:Tr,column:yo})=>yo===Vn&&(fe=="down"?yn===xi:xi===yn+Tr));return Un&&Un.cell?Un.cell:null}(L,this.direction,g);if(!R)return;const G=this.isHorizontal?"rowspan":"colspan",ne=parseInt(L.getAttribute(G)||"1");return parseInt(R.getAttribute(G)||"1")===ne?R:void 0}}function bt(O){const s=O.getChild(0);return O.childCount==1&&s.is("element","paragraph")&&s.isEmpty}class Qe extends p.Command{refresh(){const s=this.editor.plugins.get("TableUtils"),g=s.getSelectionAffectedTableCells(this.editor.model.document.selection),L=g[0];if(L){const R=L.findAncestor("table"),G=s.getRows(R)-1,ne=s.getRowIndexes(g),we=ne.first===0&&ne.last===G;this.isEnabled=!we}else this.isEnabled=!1}execute(){const s=this.editor.model,g=this.editor.plugins.get("TableUtils"),L=g.getSelectionAffectedTableCells(s.document.selection),R=g.getRowIndexes(L),G=L[0],ne=G.findAncestor("table"),we=g.getCellLocation(G).column;s.change(fe=>{const Pe=R.last-R.first+1;g.removeRows(ne,{at:R.first,rows:Pe});const He=function(ct,kt,Bt,Kt){const Zt=ct.getChild(Math.min(kt,Kt-1));let ei=Zt.getChild(0),pi=0;for(const xi of Zt.getChildren()){if(pi>Bt)return ei;ei=xi,pi+=parseInt(xi.getAttribute("colspan")||"1")}return ei}(ne,R.first,we,g.getRows(ne));fe.setSelection(fe.createPositionAt(He,0))})}}class ft extends p.Command{refresh(){const s=this.editor.plugins.get("TableUtils"),g=s.getSelectionAffectedTableCells(this.editor.model.document.selection),L=g[0];if(L){const R=L.findAncestor("table"),G=s.getColumns(R),{first:ne,last:we}=s.getColumnIndexes(g);this.isEnabled=we-ne<G-1}else this.isEnabled=!1}execute(){const s=this.editor.plugins.get("TableUtils"),[g,L]=function(fe,Pe){const He=Pe.getSelectionAffectedTableCells(fe),ct=He[0],kt=He.pop(),Bt=[ct,kt];return ct.isBefore(kt)?Bt:Bt.reverse()}(this.editor.model.document.selection,s),R=g.parent.parent,G=[...new f(R)],ne={first:G.find(fe=>fe.cell===g).column,last:G.find(fe=>fe.cell===L).column},we=function(fe,Pe,He,ct){return parseInt(He.getAttribute("colspan")||"1")>1?He:Pe.previousSibling||He.nextSibling?He.nextSibling||Pe.previousSibling:ct.first?fe.reverse().find(({column:Bt})=>Bt<ct.first).cell:fe.reverse().find(({column:Bt})=>Bt>ct.last).cell}(G,g,L,ne);this.editor.model.change(fe=>{const Pe=ne.last-ne.first+1;s.removeColumns(R,{at:ne.first,columns:Pe}),fe.setSelection(fe.createPositionAt(we,0))})}}class Ve extends p.Command{refresh(){const s=this.editor.plugins.get("TableUtils"),g=this.editor.model,L=s.getSelectionAffectedTableCells(g.document.selection),R=L.length>0;this.isEnabled=R,this.value=R&&L.every(G=>this._isInHeading(G,G.parent.parent))}execute(s={}){if(s.forceValue===this.value)return;const g=this.editor.plugins.get("TableUtils"),L=this.editor.model,R=g.getSelectionAffectedTableCells(L.document.selection),G=R[0].findAncestor("table"),{first:ne,last:we}=g.getRowIndexes(R),fe=this.value?ne:we+1,Pe=G.getAttribute("headingRows")||0;L.change(He=>{if(fe){const ct=D(G,fe,fe>Pe?Pe:0);for(const{cell:kt}of ct)re(kt,fe,He)}h("headingRows",fe,G,He,0)})}_isInHeading(s,g){const L=parseInt(g.getAttribute("headingRows")||"0");return!!L&&s.parent.index<L}}class Te extends p.Command{refresh(){const s=this.editor.model,g=this.editor.plugins.get("TableUtils"),L=g.getSelectionAffectedTableCells(s.document.selection),R=L.length>0;this.isEnabled=R,this.value=R&&L.every(G=>Z(g,G))}execute(s={}){if(s.forceValue===this.value)return;const g=this.editor.plugins.get("TableUtils"),L=this.editor.model,R=g.getSelectionAffectedTableCells(L.document.selection),G=R[0].findAncestor("table"),{first:ne,last:we}=g.getColumnIndexes(R),fe=this.value?ne:we+1;L.change(Pe=>{if(fe){const He=Ee(G,fe);for(const{cell:ct,column:kt}of He)je(ct,kt,fe,Pe)}h("headingColumns",fe,G,Pe,0)})}}const Q=5,xe=2;function Oe(O,s){return 4e3/Je(O,s)}function Je(O,s){const g=Ze(O,"tbody",s)||Ze(O,"thead",s);return tt(s.editing.view.domConverter.mapViewToDom(g))}function Ze(O,s,g){return[...[...g.editing.mapper.toViewElement(O).getChildren()].find(L=>L.is("element","table")).getChildren()].find(L=>L.is("element",s))}function tt(O){const s=oe.global.window.getComputedStyle(O);return s.boxSizing==="border-box"?parseFloat(s.width)-parseFloat(s.paddingLeft)-parseFloat(s.paddingRight)-parseFloat(s.borderLeftWidth)-parseFloat(s.borderRightWidth):parseFloat(s.width)}function st(O){const s=Math.pow(10,xe),g=typeof O=="number"?O:parseFloat(O);return Math.round(g*s)/s}function Lt(O){return O.map(s=>typeof s=="number"?s:parseFloat(s)).filter(s=>!Number.isNaN(s)).reduce((s,g)=>s+g,0)}function Ft(O){let s=function(L){const R=L.filter(we=>we==="auto").length;if(R===0)return L.map(we=>st(we));const G=Lt(L),ne=Math.max((100-G)/R,Q);return L.map(we=>we==="auto"?ne:we).map(we=>st(we))}(O.map(L=>L==="auto"?L:parseFloat(L.replace("%",""))));const g=Lt(s);return g!==100&&(s=s.map(L=>st(100*L/g)).map((L,R,G)=>R!==G.length-1?L:st(L+100-Lt(G)))),s.map(L=>L+"%")}function Yt(O){const s=oe.global.window.getComputedStyle(O);return s.boxSizing==="border-box"?parseInt(s.width):parseFloat(s.width)+parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)+parseFloat(s.borderWidth)}function ui(O,s,g,L){for(let R=0;R<Math.max(g.length,O.length);R++){const G=O[R],ne=g[R];ne?G?L.setAttribute("columnWidth",ne,G):L.appendElement("tableColumn",{columnWidth:ne},s):L.remove(G)}}function Nt(O){if(O.is("element","tableColumnGroup"))return O;const s=O.getChildren();return Array.from(s).find(g=>g.is("element","tableColumnGroup"))}function ti(O){const s=Nt(O);return s?Array.from(s.getChildren()):[]}class hi extends p.Plugin{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(s){const g=s.parent,L=g.parent,R=L.getChildIndex(g),G=new f(L,{row:R});for(const{cell:ne,row:we,column:fe}of G)if(ne===s)return{row:we,column:fe}}createTable(s,g){const L=s.createElement("table"),R=g.rows||2,G=g.columns||2;return Ci(s,L,0,R,G),g.headingRows&&h("headingRows",Math.min(g.headingRows,R),L,s,0),g.headingColumns&&h("headingColumns",Math.min(g.headingColumns,G),L,s,0),L}insertRows(s,g={}){const L=this.editor.model,R=g.at||0,G=g.rows||1,ne=g.copyStructureFromAbove!==void 0,we=g.copyStructureFromAbove?R-1:R,fe=this.getRows(s),Pe=this.getColumns(s);if(R>fe)throw new oe.CKEditorError("tableutils-insertrows-insert-out-of-range",this,{options:g});L.change(He=>{const ct=s.getAttribute("headingRows")||0;if(ct>R&&h("headingRows",ct+G,s,He,0),!ne&&(R===0||R===fe))return void Ci(He,s,R,G,Pe);const kt=ne?Math.max(R,we):R,Bt=new f(s,{endRow:kt}),Kt=new Array(Pe).fill(1);for(const{row:Zt,column:ei,cellHeight:pi,cellWidth:xi,cell:Bi}of Bt){const en=Zt+pi-1,Vn=Zt<=we&&we<=en;Zt<R&&R<=en?(He.setAttribute("rowspan",pi+G,Bi),Kt[ei]=-xi):ne&&Vn&&(Kt[ei]=xi)}for(let Zt=0;Zt<G;Zt++){const ei=He.createElement("tableRow");He.insert(ei,s,R);for(let pi=0;pi<Kt.length;pi++){const xi=Kt[pi],Bi=He.createPositionAt(ei,"end");xi>0&&j(He,Bi,xi>1?{colspan:xi}:void 0),pi+=Math.abs(xi)-1}}})}insertColumns(s,g={}){const L=this.editor.model,R=g.at||0,G=g.columns||1;L.change(ne=>{const we=s.getAttribute("headingColumns");R<we&&ne.setAttribute("headingColumns",we+G,s);const fe=this.getColumns(s);if(R===0||fe===R){for(const He of s.getChildren())He.is("element","tableRow")&&Oi(G,ne,ne.createPositionAt(He,R?"end":0));return}const Pe=new f(s,{column:R,includeAllSlots:!0});for(const He of Pe){const{row:ct,cell:kt,cellAnchorColumn:Bt,cellAnchorRow:Kt,cellWidth:Zt,cellHeight:ei}=He;if(Bt<R){ne.setAttribute("colspan",Zt+G,kt);const pi=Kt+ei-1;for(let xi=ct;xi<=pi;xi++)Pe.skipRow(xi)}else Oi(G,ne,He.getPositionBefore())}})}removeRows(s,g){const L=this.editor.model,R=g.rows||1,G=this.getRows(s),ne=g.at,we=ne+R-1;if(we>G-1)throw new oe.CKEditorError("tableutils-removerows-row-index-out-of-range",this,{table:s,options:g});L.change(fe=>{const Pe={first:ne,last:we},{cellsToMove:He,cellsToTrim:ct}=function(kt,{first:Bt,last:Kt}){const Zt=new Map,ei=[];for(const{row:pi,column:xi,cellHeight:Bi,cell:en}of new f(kt,{endRow:Kt})){const Vn=pi+Bi-1;if(pi>=Bt&&pi<=Kt&&Vn>Kt){const Un=Bi-(Kt-pi+1);Zt.set(xi,{cell:en,rowspan:Un})}if(pi<Bt&&Vn>=Bt){let Un;Un=Vn>=Kt?Kt-Bt+1:Vn-Bt+1,ei.push({cell:en,rowspan:Bi-Un})}}return{cellsToMove:Zt,cellsToTrim:ei}}(s,Pe);He.size&&function(kt,Bt,Kt,Zt){const ei=new f(kt,{includeAllSlots:!0,row:Bt}),pi=[...ei],xi=kt.getChild(Bt);let Bi;for(const{column:en,cell:Vn,isAnchor:Un}of pi)if(Kt.has(en)){const{cell:yn,rowspan:Tr}=Kt.get(en),yo=Bi?Zt.createPositionAfter(Bi):Zt.createPositionAt(xi,0);Zt.move(Zt.createRangeOn(yn),yo),h("rowspan",Tr,yn,Zt),Bi=yn}else Un&&(Bi=Vn)}(s,we+1,He,fe);for(let kt=we;kt>=ne;kt--)fe.remove(s.getChild(kt));for(const{rowspan:kt,cell:Bt}of ct)h("rowspan",kt,Bt,fe);(function(kt,{first:Bt,last:Kt},Zt){const ei=kt.getAttribute("headingRows")||0;Bt<ei&&h("headingRows",Kt<ei?ei-(Kt-Bt+1):Bt,kt,Zt,0)})(s,Pe,fe),De(s,this)||mt(s,this)})}removeColumns(s,g){const L=this.editor.model,R=g.at,G=g.columns||1,ne=g.at+G-1;L.change(we=>{(function(Pe,He,ct){const kt=Pe.getAttribute("headingColumns")||0;if(kt&&He.first<kt){const Bt=Math.min(kt-1,He.last)-He.first+1;ct.setAttribute("headingColumns",kt-Bt,Pe)}})(s,{first:R,last:ne},we);const fe=ti(s);for(let Pe=ne;Pe>=R;Pe--){for(const{cell:He,column:ct,cellWidth:kt}of[...new f(s)])ct<=Pe&&kt>1&&ct+kt>Pe?h("colspan",kt-1,He,we):ct===Pe&&we.remove(He);if(fe[Pe]){const He=Pe===0?fe[1]:fe[Pe-1],ct=parseFloat(fe[Pe].getAttribute("columnWidth")),kt=parseFloat(He.getAttribute("columnWidth"));we.remove(fe[Pe]),we.setAttribute("columnWidth",ct+kt+"%",He)}}mt(s,this)||De(s,this)})}splitCellVertically(s,g=2){const L=this.editor.model,R=s.parent.parent,G=parseInt(s.getAttribute("rowspan")||"1"),ne=parseInt(s.getAttribute("colspan")||"1");L.change(we=>{if(ne>1){const{newCellsSpan:fe,updatedSpan:Pe}=Di(ne,g);h("colspan",Pe,s,we);const He={};fe>1&&(He.colspan=fe),G>1&&(He.rowspan=G),Oi(ne>g?g-1:ne-1,we,we.createPositionAfter(s),He)}if(ne<g){const fe=g-ne,Pe=[...new f(R)],{column:He}=Pe.find(({cell:Kt})=>Kt===s),ct=Pe.filter(({cell:Kt,cellWidth:Zt,column:ei})=>Kt!==s&&ei===He||ei<He&&ei+Zt>He);for(const{cell:Kt,cellWidth:Zt}of ct)we.setAttribute("colspan",Zt+fe,Kt);const kt={};G>1&&(kt.rowspan=G),Oi(fe,we,we.createPositionAfter(s),kt);const Bt=R.getAttribute("headingColumns")||0;Bt>He&&h("headingColumns",Bt+fe,R,we)}})}splitCellHorizontally(s,g=2){const L=this.editor.model,R=s.parent,G=R.parent,ne=G.getChildIndex(R),we=parseInt(s.getAttribute("rowspan")||"1"),fe=parseInt(s.getAttribute("colspan")||"1");L.change(Pe=>{if(we>1){const He=[...new f(G,{startRow:ne,endRow:ne+we-1,includeAllSlots:!0})],{newCellsSpan:ct,updatedSpan:kt}=Di(we,g);h("rowspan",kt,s,Pe);const{column:Bt}=He.find(({cell:Zt})=>Zt===s),Kt={};ct>1&&(Kt.rowspan=ct),fe>1&&(Kt.colspan=fe);for(const Zt of He){const{column:ei,row:pi}=Zt;pi>=ne+kt&&ei===Bt&&(pi+ne+kt)%ct==0&&Oi(1,Pe,Zt.getPositionBefore(),Kt)}}if(we<g){const He=g-we,ct=[...new f(G,{startRow:0,endRow:ne})];for(const{cell:Kt,cellHeight:Zt,row:ei}of ct)if(Kt!==s&&ei+Zt>ne){const pi=Zt+He;Pe.setAttribute("rowspan",pi,Kt)}const kt={};fe>1&&(kt.colspan=fe),Ci(Pe,G,ne+1,He,1,kt);const Bt=G.getAttribute("headingRows")||0;Bt>ne&&h("headingRows",Bt+He,G,Pe)}})}getColumns(s){return[...s.getChild(0).getChildren()].reduce((g,L)=>g+parseInt(L.getAttribute("colspan")||"1"),0)}getRows(s){return Array.from(s.getChildren()).reduce((g,L)=>L.is("element","tableRow")?g+1:g,0)}createTableWalker(s,g={}){return new f(s,g)}getSelectedTableCells(s){const g=[];for(const L of this.sortRanges(s.getRanges())){const R=L.getContainedElement();R&&R.is("element","tableCell")&&g.push(R)}return g}getTableCellsContainingSelection(s){const g=[];for(const L of s.getRanges()){const R=L.start.findAncestor("tableCell");R&&g.push(R)}return g}getSelectionAffectedTableCells(s){const g=this.getSelectedTableCells(s);return g.length?g:this.getTableCellsContainingSelection(s)}getRowIndexes(s){const g=s.map(L=>L.parent.index);return this._getFirstLastIndexesObject(g)}getColumnIndexes(s){const g=s[0].findAncestor("table"),L=[...new f(g)].filter(R=>s.includes(R.cell)).map(R=>R.column);return this._getFirstLastIndexesObject(L)}isSelectionRectangular(s){if(s.length<2||!this._areCellInTheSameTableSection(s))return!1;const g=new Set,L=new Set;let R=0;for(const ne of s){const{row:we,column:fe}=this.getCellLocation(ne),Pe=parseInt(ne.getAttribute("rowspan"))||1,He=parseInt(ne.getAttribute("colspan"))||1;g.add(we),L.add(fe),Pe>1&&g.add(we+Pe-1),He>1&&L.add(fe+He-1),R+=Pe*He}return function(ne,we){const fe=Array.from(ne.values()),Pe=Array.from(we.values()),He=Math.max(...fe),ct=Math.min(...fe),kt=Math.max(...Pe),Bt=Math.min(...Pe);return(He-ct+1)*(kt-Bt+1)}(g,L)==R}sortRanges(s){return Array.from(s).sort(Vi)}_getFirstLastIndexesObject(s){const g=s.sort((L,R)=>L-R);return{first:g[0],last:g[g.length-1]}}_areCellInTheSameTableSection(s){const g=s[0].findAncestor("table"),L=this.getRowIndexes(s),R=parseInt(g.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(L,R))return!1;const G=this.getColumnIndexes(s),ne=parseInt(g.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(G,ne)}_areIndexesInSameSection({first:s,last:g},L){return s<L==g<L}}function Ci(O,s,g,L,R,G={}){for(let ne=0;ne<L;ne++){const we=O.createElement("tableRow");O.insert(we,s,g),Oi(R,O,O.createPositionAt(we,"end"),G)}}function Oi(O,s,g,L={}){for(let R=0;R<O;R++)j(s,g,L)}function Di(O,s){if(O<s)return{newCellsSpan:1,updatedSpan:1};const g=Math.floor(O/s);return{newCellsSpan:g,updatedSpan:O-g*s+g}}function Vi(O,s){const g=O.start,L=s.start;return g.isBefore(L)?-1:1}class Pi extends p.Command{refresh(){const s=this.editor.plugins.get(hi),g=s.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=s.isSelectionRectangular(g)}execute(){const s=this.editor.model,g=this.editor.plugins.get(hi);s.change(L=>{const R=g.getSelectedTableCells(s.document.selection),G=R.shift(),{mergeWidth:ne,mergeHeight:we}=function(fe,Pe,He){let ct=0,kt=0;for(const pi of Pe){const{row:xi,column:Bi}=He.getCellLocation(pi);ct=ue(pi,Bi,ct,"colspan"),kt=ue(pi,xi,kt,"rowspan")}const{row:Bt,column:Kt}=He.getCellLocation(fe),Zt=ct-Kt,ei=kt-Bt;return{mergeWidth:Zt,mergeHeight:ei}}(G,R,g);h("colspan",ne,G,L),h("rowspan",we,G,L);for(const fe of R)$i(fe,G,L);lt(G.findAncestor("table"),g),L.setSelection(G,"in")})}}function $i(O,s,g){at(O)||(at(s)&&g.remove(g.createRangeIn(s)),g.move(g.createRangeIn(O),g.createPositionAt(s,"end"))),g.remove(O)}function at(O){const s=O.getChild(0);return O.childCount==1&&s.is("element","paragraph")&&s.isEmpty}function ue(O,s,g,L){const R=parseInt(O.getAttribute(L)||"1");return Math.max(g,s+R)}class ye extends p.Command{constructor(s){super(s),this.affectsData=!1}refresh(){const s=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=s.length>0}execute(){const s=this.editor.model,g=this.editor.plugins.get("TableUtils"),L=g.getSelectionAffectedTableCells(s.document.selection),R=g.getRowIndexes(L),G=L[0].findAncestor("table"),ne=[];for(let we=R.first;we<=R.last;we++)for(const fe of G.getChild(we).getChildren())ne.push(s.createRangeOn(fe));s.change(we=>{we.setSelection(ne)})}}class Le extends p.Command{constructor(s){super(s),this.affectsData=!1}refresh(){const s=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=s.length>0}execute(){const s=this.editor.plugins.get("TableUtils"),g=this.editor.model,L=s.getSelectionAffectedTableCells(g.document.selection),R=L[0],G=L.pop(),ne=R.findAncestor("table"),we=s.getCellLocation(R),fe=s.getCellLocation(G),Pe=Math.min(we.column,fe.column),He=Math.max(we.column,fe.column),ct=[];for(const kt of new f(ne,{startColumn:Pe,endColumn:He}))ct.push(g.createRangeOn(kt.cell));g.change(kt=>{kt.setSelection(ct)})}}function Ge(O){O.document.registerPostFixer(s=>function(g,L){const R=L.document.differ.getChanges();let G=!1;const ne=new Set;for(const we of R){let fe=null;we.type=="insert"&&we.name=="table"&&(fe=we.position.nodeAfter),we.type!="insert"&&we.type!="remove"||we.name!="tableRow"&&we.name!="tableCell"||(fe=we.position.findAncestor("table")),Ot(we)&&(fe=we.range.start.findAncestor("table")),fe&&!ne.has(fe)&&(G=rt(fe,g)||G,G=gt(fe,g)||G,ne.add(fe))}return G}(s,O))}function rt(O,s){let g=!1;const L=function(R){const G=parseInt(R.getAttribute("headingRows")||"0"),ne=Array.from(R.getChildren()).reduce((fe,Pe)=>Pe.is("element","tableRow")?fe+1:fe,0),we=[];for(const{row:fe,cell:Pe,cellHeight:He}of new f(R)){if(He<2)continue;const ct=fe<G?G:ne;if(fe+He>ct){const kt=ct-fe;we.push({cell:Pe,rowspan:kt})}}return we}(O);if(L.length){g=!0;for(const R of L)h("rowspan",R.rowspan,R.cell,s,1)}return g}function gt(O,s){let g=!1;const L=function(we){const fe=new Array(we.childCount).fill(0);for(const{rowIndex:Pe}of new f(we,{includeAllSlots:!0}))fe[Pe]++;return fe}(O),R=[];for(const[we,fe]of L.entries())!fe&&O.getChild(we).is("element","tableRow")&&R.push(we);if(R.length){g=!0;for(const we of R.reverse())s.remove(O.getChild(we)),L.splice(we,1)}const G=L.filter((we,fe)=>O.getChild(fe).is("element","tableRow")),ne=G[0];if(!G.every(we=>we===ne)){const we=G.reduce((fe,Pe)=>Pe>fe?Pe:fe,0);for(const[fe,Pe]of G.entries()){const He=we-Pe;if(He){for(let ct=0;ct<He;ct++)j(s,s.createPositionAt(O.getChild(fe),"end"));g=!0}}}return g}function Ot(O){if(O.type!=="attribute")return!1;const s=O.attributeKey;return s==="headingRows"||s==="colspan"||s==="rowspan"}function Mt(O){O.document.registerPostFixer(s=>function(g,L){const R=L.document.differ.getChanges();let G=!1;for(const ne of R)ne.type=="insert"&&ne.name=="table"&&(G=Ut(ne.position.nodeAfter,g)||G),ne.type=="insert"&&ne.name=="tableRow"&&(G=ri(ne.position.nodeAfter,g)||G),ne.type=="insert"&&ne.name=="tableCell"&&(G=oi(ne.position.nodeAfter,g)||G),ne.type!="remove"&&ne.type!="insert"||!wi(ne)||(G=oi(ne.position.parent,g)||G);return G}(s,O))}function Ut(O,s){let g=!1;for(const L of O.getChildren())L.is("element","tableRow")&&(g=ri(L,s)||g);return g}function ri(O,s){let g=!1;for(const L of O.getChildren())g=oi(L,s)||g;return g}function oi(O,s){if(O.childCount==0)return s.insertElement("paragraph",O),!0;const g=Array.from(O.getChildren()).filter(L=>L.is("$text"));for(const L of g)s.wrap(s.createRangeOn(L),"paragraph");return!!g.length}function wi(O){return!!O.position.parent.is("element","tableCell")&&(O.type=="insert"&&O.name=="$text"||O.type=="remove")}function Ii(O,s){if(!O.is("element","paragraph"))return!1;const g=s.toViewElement(O);return!!g&&ae(O)!==g.is("element","span")}var Li=M(62),yi=M.n(Li),ji=M(51),Ki={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(ji.Z,Ki),ji.Z.locals;class Mi extends p.Plugin{static get pluginName(){return"TableEditing"}static get requires(){return[hi]}constructor(s){super(s),this._additionalSlots=[]}init(){const s=this.editor,g=s.model,L=g.schema,R=s.conversion,G=s.plugins.get(hi);L.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),L.register("tableRow",{allowIn:"table",isLimit:!0}),L.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),R.for("upcast").add(ne=>{ne.on("element:figure",(we,fe,Pe)=>{if(!Pe.consumable.test(fe.viewItem,{name:!0,classes:"table"}))return;const He=function(Bt){for(const Kt of Bt.getChildren())if(Kt.is("element","table"))return Kt}(fe.viewItem);if(!He||!Pe.consumable.test(He,{name:!0}))return;Pe.consumable.consume(fe.viewItem,{name:!0,classes:"table"});const ct=Pe.convertItem(He,fe.modelCursor),kt=(0,oe.first)(ct.modelRange.getItems());kt?(Pe.convertChildren(fe.viewItem,Pe.writer.createPositionAt(kt,"end")),Pe.updateConversionResult(kt,fe)):Pe.consumable.revert(fe.viewItem,{name:!0,classes:"table"})})}),R.for("upcast").add(ie()),R.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:A(G,{asWidget:!0,additionalSlots:this._additionalSlots})}),R.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:A(G,{additionalSlots:this._additionalSlots})}),R.for("upcast").elementToElement({model:"tableRow",view:"tr"}),R.for("upcast").add(ne=>{ne.on("element:tr",(we,fe)=>{fe.viewItem.isEmpty&&fe.modelCursor.index==0&&we.stop()},{priority:"high"})}),R.for("downcast").elementToElement({model:"tableRow",view:(ne,{writer:we})=>ne.isEmpty?we.createEmptyElement("tr"):we.createContainerElement("tr")}),R.for("upcast").elementToElement({model:"tableCell",view:"td"}),R.for("upcast").elementToElement({model:"tableCell",view:"th"}),R.for("upcast").add(u("td")),R.for("upcast").add(u("th")),R.for("editingDowncast").elementToElement({model:"tableCell",view:T({asWidget:!0})}),R.for("dataDowncast").elementToElement({model:"tableCell",view:T()}),R.for("editingDowncast").elementToElement({model:"paragraph",view:E({asWidget:!0}),converterPriority:"high"}),R.for("dataDowncast").elementToElement({model:"paragraph",view:E(),converterPriority:"high"}),R.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),R.for("upcast").attributeToAttribute({model:{key:"colspan",value:tn("colspan")},view:"colspan"}),R.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),R.for("upcast").attributeToAttribute({model:{key:"rowspan",value:tn("rowspan")},view:"rowspan"}),s.config.define("table.defaultHeadings.rows",0),s.config.define("table.defaultHeadings.columns",0),s.commands.add("insertTable",new q(s)),s.commands.add("insertTableRowAbove",new z(s,{order:"above"})),s.commands.add("insertTableRowBelow",new z(s,{order:"below"})),s.commands.add("insertTableColumnLeft",new b(s,{order:"left"})),s.commands.add("insertTableColumnRight",new b(s,{order:"right"})),s.commands.add("removeTableRow",new Qe(s)),s.commands.add("removeTableColumn",new ft(s)),s.commands.add("splitTableCellVertically",new V(s,{direction:"vertically"})),s.commands.add("splitTableCellHorizontally",new V(s,{direction:"horizontally"})),s.commands.add("mergeTableCells",new Pi(s)),s.commands.add("mergeTableCellRight",new _t(s,{direction:"right"})),s.commands.add("mergeTableCellLeft",new _t(s,{direction:"left"})),s.commands.add("mergeTableCellDown",new _t(s,{direction:"down"})),s.commands.add("mergeTableCellUp",new _t(s,{direction:"up"})),s.commands.add("setTableColumnHeader",new Te(s)),s.commands.add("setTableRowHeader",new Ve(s)),s.commands.add("selectTableRow",new ye(s)),s.commands.add("selectTableColumn",new Le(s)),Ge(g),Mt(g),this.listenTo(g.document,"change:data",()=>{(function(ne,we){const fe=ne.document.differ;for(const Pe of fe.getChanges()){let He,ct=!1;if(Pe.type=="attribute"){const Zt=Pe.range.start.nodeAfter;if(!Zt||!Zt.is("element","table")||Pe.attributeKey!="headingRows"&&Pe.attributeKey!="headingColumns")continue;He=Zt,ct=Pe.attributeKey=="headingRows"}else Pe.name!="tableRow"&&Pe.name!="tableCell"||(He=Pe.position.findAncestor("table"),ct=Pe.name=="tableRow");if(!He)continue;const kt=He.getAttribute("headingRows")||0,Bt=He.getAttribute("headingColumns")||0,Kt=new f(He);for(const Zt of Kt){const ei=Zt.row<kt||Zt.column<Bt?"th":"td",pi=we.mapper.toViewElement(Zt.cell);pi&&pi.is("element")&&pi.name!=ei&&we.reconvertItem(ct?Zt.cell.parent:Zt.cell)}}})(g,s.editing),function(ne,we){const fe=ne.document.differ,Pe=new Set;for(const He of fe.getChanges()){const ct=He.type=="attribute"?He.range.start.parent:He.position.parent;ct.is("element","tableCell")&&Pe.add(ct)}for(const He of Pe.values()){const ct=Array.from(He.getChildren()).filter(kt=>Ii(kt,we.mapper));for(const kt of ct)we.reconvertItem(kt)}}(g,s.editing)})}registerAdditionalSlot(s){this._additionalSlots.push(s)}}function tn(O){return s=>{const g=parseInt(s.getAttribute(O));return Number.isNaN(g)||g<=0?null:g}}var $t=M(273),wn=M(430),Ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(wn.Z,Ne),wn.Z.locals;class H extends $t.View{constructor(s){super(s);const g=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new oe.KeystrokeHandler,this.focusTracker=new oe.FocusTracker,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(L,R)=>`${R} \xD7 ${L}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":g.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:g.to("label")}]}],on:{mousedown:g.to(L=>{L.preventDefault()}),click:g.to(()=>{this.fire("execute")})}}),this.on("boxover",(L,R)=>{const{row:G,column:ne}=R.target.dataset;this.items.get(10*(parseInt(G,10)-1)+(parseInt(ne,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(L,R,G)=>{if(!G)return;const{row:ne,column:we}=G.dataset;this.set({rows:parseInt(ne),columns:parseInt(we)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),(0,$t.addKeyboardHandlingForGrid)({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const s of this.items)this.focusTracker.add(s.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const s=this.rows,g=this.columns;this.items.map((L,R)=>{const G=Math.floor(R/10)<s&&R%10<g;L.set("isOn",G)})}_createGridButton(s,g,L,R){const G=new $t.ButtonView(s);return G.set({label:R,class:"ck-insert-table-dropdown-grid-box"}),G.extendTemplate({attributes:{"data-row":g,"data-column":L}}),G}_createGridCollection(){const s=[];for(let g=0;g<100;g++){const L=Math.floor(g/10),R=g%10,G=`${L+1} \xD7 ${R+1}`;s.push(this._createGridButton(this.locale,L+1,R+1,G))}return this.createCollection(s)}}class ee extends p.Plugin{static get pluginName(){return"TableUI"}init(){const s=this.editor,g=this.editor.t,L=s.locale.contentLanguageDirection==="ltr";s.ui.componentFactory.add("insertTable",R=>{const G=s.commands.get("insertTable"),ne=(0,$t.createDropdown)(R);let we;return ne.bind("isEnabled").to(G),ne.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:g("Insert table"),tooltip:!0}),ne.on("change:isOpen",()=>{we||(we=new H(R),ne.panelView.children.add(we),we.delegate("execute").to(ne),ne.on("execute",()=>{s.execute("insertTable",{rows:we.rows,columns:we.columns}),s.editing.view.focus()}))}),ne}),s.ui.componentFactory.add("tableColumn",R=>{const G=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:g("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:L?"insertTableColumnLeft":"insertTableColumnRight",label:g("Insert column left")}},{type:"button",model:{commandName:L?"insertTableColumnRight":"insertTableColumnLeft",label:g("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:g("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:g("Select column")}}];return this._prepareDropdown(g("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',G,R)}),s.ui.componentFactory.add("tableRow",R=>{const G=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:g("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:g("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:g("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:g("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:g("Select row")}}];return this._prepareDropdown(g("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',G,R)}),s.ui.componentFactory.add("mergeTableCells",R=>{const G=[{type:"button",model:{commandName:"mergeTableCellUp",label:g("Merge cell up")}},{type:"button",model:{commandName:L?"mergeTableCellRight":"mergeTableCellLeft",label:g("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:g("Merge cell down")}},{type:"button",model:{commandName:L?"mergeTableCellLeft":"mergeTableCellRight",label:g("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:g("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:g("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(g("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',G,R)})}_prepareDropdown(s,g,L,R){const G=this.editor,ne=(0,$t.createDropdown)(R),we=this._fillDropdownWithListOptions(ne,L);return ne.buttonView.set({label:s,icon:g,tooltip:!0}),ne.bind("isEnabled").toMany(we,"isEnabled",(...fe)=>fe.some(Pe=>Pe)),this.listenTo(ne,"execute",fe=>{G.execute(fe.source.commandName),fe.source instanceof $t.SwitchButtonView||G.editing.view.focus()}),ne}_prepareMergeSplitButtonDropdown(s,g,L,R){const G=this.editor,ne=(0,$t.createDropdown)(R,$t.SplitButtonView),we="mergeTableCells",fe=G.commands.get(we),Pe=this._fillDropdownWithListOptions(ne,L);return ne.buttonView.set({label:s,icon:g,tooltip:!0,isEnabled:!0}),ne.bind("isEnabled").toMany([fe,...Pe],"isEnabled",(...He)=>He.some(ct=>ct)),this.listenTo(ne.buttonView,"execute",()=>{G.execute(we),G.editing.view.focus()}),this.listenTo(ne,"execute",He=>{G.execute(He.source.commandName),G.editing.view.focus()}),ne}_fillDropdownWithListOptions(s,g){const L=this.editor,R=[],G=new oe.Collection;for(const ne of g)se(ne,L,R,G);return(0,$t.addListToDropdown)(s,G),R}}function se(O,s,g,L){if(O.type==="button"||O.type==="switchbutton"){const R=O.model=new $t.Model(O.model),{commandName:G,bindIsOn:ne}=O.model,we=s.commands.get(G);g.push(we),R.set({commandName:G}),R.bind("isEnabled").to(we),ne&&R.bind("isOn").to(we,"value"),R.set({withText:!0})}L.add(O)}var be=M(522),ht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(be.Z,ht),be.Z.locals;class jt extends p.Plugin{static get pluginName(){return"TableSelection"}static get requires(){return[hi,hi]}init(){const s=this.editor,g=s.model,L=s.editing.view;this.listenTo(g,"deleteContent",(R,G)=>this._handleDeleteContent(R,G),{priority:"high"}),this.listenTo(L.document,"insertText",(R,G)=>this._handleInsertTextEvent(R,G),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const s=this.editor.plugins.get(hi),g=this.editor.model.document.selection,L=s.getSelectedTableCells(g);return L.length==0?null:L}getSelectionAsFragment(){const s=this.editor.plugins.get(hi),g=this.getSelectedTableCells();return g?this.editor.model.change(L=>{const R=L.createDocumentFragment(),{first:G,last:ne}=s.getColumnIndexes(g),{first:we,last:fe}=s.getRowIndexes(g),Pe=g[0].findAncestor("table");let He=fe,ct=ne;if(s.isSelectionRectangular(g)){const Bt={firstColumn:G,lastColumn:ne,firstRow:we,lastRow:fe};He=ut(Pe,Bt),ct=dt(Pe,Bt)}const kt=$(Pe,{startRow:we,startColumn:G,endRow:He,endColumn:ct},L);return L.insert(kt,R,0),R}):null}setCellSelection(s,g){const L=this._getCellsToSelect(s,g);this.editor.model.change(R=>{R.setSelection(L.cells.map(G=>R.createRangeOn(G)),{backward:L.backward})})}getFocusCell(){const s=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return s&&s.is("element","tableCell")?s:null}getAnchorCell(){const s=this.editor.model.document.selection,g=(0,oe.first)(s.getRanges()).getContainedElement();return g&&g.is("element","tableCell")?g:null}_defineSelectionConverter(){const s=this.editor,g=new Set;s.conversion.for("editingDowncast").add(L=>L.on("selection",(R,G,ne)=>{const we=ne.writer;(function(He){for(const ct of g)He.removeClass("ck-editor__editable_selected",ct);g.clear()})(we);const fe=this.getSelectedTableCells();if(!fe)return;for(const He of fe){const ct=ne.mapper.toViewElement(He);we.addClass("ck-editor__editable_selected",ct),g.add(ct)}const Pe=ne.mapper.toViewElement(fe[fe.length-1]);we.setSelection(Pe,0)},{priority:"lowest"}))}_enablePluginDisabling(){const s=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const g=this.getSelectedTableCells();if(!g)return;s.model.change(L=>{const R=L.createPositionAt(g[0],0),G=s.model.schema.getNearestSelectionRange(R);L.setSelection(G)})}})}_handleDeleteContent(s,g){const L=this.editor.plugins.get(hi),R=g[0],G=g[1],ne=this.editor.model,we=!G||G.direction=="backward",fe=L.getSelectedTableCells(R);fe.length&&(s.stop(),ne.change(Pe=>{const He=fe[we?fe.length-1:0];ne.change(kt=>{for(const Bt of fe)ne.deleteContent(kt.createSelection(Bt,"in"))});const ct=ne.schema.getNearestSelectionRange(Pe.createPositionAt(He,0));R.is("documentSelection")?Pe.setSelection(ct):R.setTo(ct)}))}_handleInsertTextEvent(s,g){const L=this.editor,R=this.getSelectedTableCells();if(!R)return;const G=L.editing.view,ne=L.editing.mapper,we=R.map(fe=>G.createRangeOn(ne.toViewElement(fe)));g.selection=G.createSelection(we)}_getCellsToSelect(s,g){const L=this.editor.plugins.get("TableUtils"),R=L.getCellLocation(s),G=L.getCellLocation(g),ne=Math.min(R.row,G.row),we=Math.max(R.row,G.row),fe=Math.min(R.column,G.column),Pe=Math.max(R.column,G.column),He=new Array(we-ne+1).fill(null).map(()=>[]),ct={startRow:ne,endRow:we,startColumn:fe,endColumn:Pe};for(const{row:Kt,cell:Zt}of new f(s.findAncestor("table"),ct))He[Kt-ne].push(Zt);const kt=G.row<R.row,Bt=G.column<R.column;return kt&&He.reverse(),Bt&&He.forEach(Kt=>Kt.reverse()),{cells:He.flat(),backward:kt||Bt}}}class Qt extends p.Plugin{static get pluginName(){return"TableClipboard"}static get requires(){return[jt,hi]}init(){const s=this.editor,g=s.editing.view.document;this.listenTo(g,"copy",(L,R)=>this._onCopyCut(L,R)),this.listenTo(g,"cut",(L,R)=>this._onCopyCut(L,R)),this.listenTo(s.model,"insertContent",(L,[R,G])=>this._onInsertContent(L,R,G),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(s,g){const L=this.editor.plugins.get(jt);if(!L.getSelectedTableCells()||s.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;g.preventDefault(),s.stop();const R=this.editor.data,G=this.editor.editing.view.document,ne=R.toView(L.getSelectionAsFragment());G.fire("clipboardOutput",{dataTransfer:g.dataTransfer,content:ne,method:s.name})}_onInsertContent(s,g,L){if(L&&!L.is("documentSelection"))return;const R=this.editor.model,G=this.editor.plugins.get(hi);let ne=this.getTableIfOnlyTableInContent(g,R);if(!ne)return;const we=G.getSelectionAffectedTableCells(R.document.selection);we.length?(s.stop(),R.change(fe=>{const Pe={width:G.getColumns(ne),height:G.getRows(ne)},He=function(ei,pi,xi,Bi){const en=ei[0].findAncestor("table"),Vn=Bi.getColumnIndexes(ei),Un=Bi.getRowIndexes(ei),yn={firstColumn:Vn.first,lastColumn:Vn.last,firstRow:Un.first,lastRow:Un.last},Tr=ei.length===1;return Tr&&(yn.lastRow+=pi.height-1,yn.lastColumn+=pi.width-1,function(yo,Nr,ur,Jo){const Ar=Jo.getColumns(yo),Br=Jo.getRows(yo);ur>Ar&&Jo.insertColumns(yo,{at:Ar,columns:ur-Ar}),Nr>Br&&Jo.insertRows(yo,{at:Br,rows:Nr-Br})}(en,yn.lastRow+1,yn.lastColumn+1,Bi)),Tr||!Bi.isSelectionRectangular(ei)?function(yo,Nr,ur){const{firstRow:Jo,lastRow:Ar,firstColumn:Br,lastColumn:Os}=Nr,Us={first:Jo,last:Ar},Ws={first:Br,last:Os};Ce(yo,Br,Us,ur),Ce(yo,Os+1,Us,ur),yt(yo,Jo,Ws,ur),yt(yo,Ar+1,Ws,ur,Jo)}(en,yn,xi):(yn.lastRow=ut(en,yn),yn.lastColumn=dt(en,yn)),yn}(we,Pe,fe,G),ct=He.lastRow-He.firstRow+1,kt=He.lastColumn-He.firstColumn+1,Bt={startRow:0,startColumn:0,endRow:Math.min(ct,Pe.height)-1,endColumn:Math.min(kt,Pe.width)-1};ne=$(ne,Bt,fe);const Kt=we[0].findAncestor("table"),Zt=this._replaceSelectedCellsWithPasted(ne,Pe,Kt,He,fe);if(this.editor.plugins.get("TableSelection").isEnabled){const ei=G.sortRanges(Zt.map(pi=>fe.createRangeOn(pi)));fe.setSelection(ei)}else fe.setSelection(Zt[0],0)})):lt(ne,G)}_replaceSelectedCellsWithPasted(s,g,L,R,G){const{width:ne,height:we}=g,fe=function(ei,pi,xi){const Bi=new Array(xi).fill(null).map(()=>new Array(pi).fill(null));for(const{column:en,row:Vn,cell:Un}of new f(ei))Bi[Vn][en]=Un;return Bi}(s,ne,we),Pe=[...new f(L,{startRow:R.firstRow,endRow:R.lastRow,startColumn:R.firstColumn,endColumn:R.lastColumn,includeAllSlots:!0})],He=[];let ct;for(const ei of Pe){const{row:pi,column:xi}=ei;xi===R.firstColumn&&(ct=ei.getPositionBefore());const Bi=pi-R.firstRow,en=xi-R.firstColumn,Vn=fe[Bi%we][en%ne],Un=Vn?G.cloneElement(Vn):null,yn=this._replaceTableSlotCell(ei,Un,ct,G);yn&&(Ie(yn,pi,xi,R.lastRow,R.lastColumn,G),He.push(yn),ct=G.createPositionAfter(yn))}const kt=parseInt(L.getAttribute("headingRows")||"0"),Bt=parseInt(L.getAttribute("headingColumns")||"0"),Kt=R.firstRow<kt&&kt<=R.lastRow,Zt=R.firstColumn<Bt&&Bt<=R.lastColumn;if(Kt){const ei=yt(L,kt,{first:R.firstColumn,last:R.lastColumn},G,R.firstRow);He.push(...ei)}if(Zt){const ei=Ce(L,Bt,{first:R.firstRow,last:R.lastRow},G);He.push(...ei)}return He}_replaceTableSlotCell(s,g,L,R){const{cell:G,isAnchor:ne}=s;return ne&&R.remove(G),g?(R.insert(g,L),g):null}getTableIfOnlyTableInContent(s,g){if(!s.is("documentFragment")&&!s.is("element"))return null;if(s.is("element","table"))return s;if(s.childCount==1&&s.getChild(0).is("element","table"))return s.getChild(0);const L=g.createRangeIn(s);for(const R of L.getItems())if(R.is("element","table")){const G=g.createRange(L.start,g.createPositionBefore(R));if(g.hasContent(G,{ignoreWhitespaces:!0}))return null;const ne=g.createRange(g.createPositionAfter(R),L.end);return g.hasContent(ne,{ignoreWhitespaces:!0})?null:R}return null}}function yt(O,s,g,L,R=0){if(!(s<1))return D(O,s,R).filter(({column:G,cellWidth:ne})=>ze(G,ne,g)).map(({cell:G})=>re(G,s,L))}function Ce(O,s,g,L){if(!(s<1))return Ee(O,s).filter(({row:R,cellHeight:G})=>ze(R,G,g)).map(({cell:R,column:G})=>je(R,G,s,L))}function ze(O,s,g){const L=O+s-1,{first:R,last:G}=g;return O>=R&&O<=G||O<R&&L>=R}class nt extends p.Plugin{static get pluginName(){return"TableKeyboard"}static get requires(){return[jt,hi]}init(){const s=this.editor.editing.view.document;this.listenTo(s,"arrowKey",(...g)=>this._onArrowKey(...g),{context:"table"}),this.listenTo(s,"tab",(...g)=>this._handleTabOnSelectedTable(...g),{context:"figure"}),this.listenTo(s,"tab",(...g)=>this._handleTab(...g),{context:["th","td"]})}_handleTabOnSelectedTable(s,g){const L=this.editor,R=L.model.document.selection.getSelectedElement();R&&R.is("element","table")&&(g.preventDefault(),g.stopPropagation(),s.stop(),L.model.change(G=>{G.setSelection(G.createRangeIn(R.getChild(0).getChild(0)))}))}_handleTab(s,g){const L=this.editor,R=this.editor.plugins.get(hi),G=this.editor.plugins.get("TableSelection"),ne=L.model.document.selection,we=!g.shiftKey;let fe=R.getTableCellsContainingSelection(ne)[0];if(fe||(fe=G.getFocusCell()),!fe)return;g.preventDefault(),g.stopPropagation(),s.stop();const Pe=fe.parent,He=Pe.parent,ct=He.getChildIndex(Pe),kt=Pe.getChildIndex(fe),Bt=kt===0;if(!we&&Bt&&ct===0)return void L.model.change(pi=>{pi.setSelection(pi.createRangeOn(He))});const Kt=kt===Pe.childCount-1,Zt=ct===R.getRows(He)-1;if(we&&Zt&&Kt&&(L.execute("insertTableRowBelow"),ct===R.getRows(He)-1))return void L.model.change(pi=>{pi.setSelection(pi.createRangeOn(He))});let ei;if(we&&Kt)ei=He.getChild(ct+1).getChild(0);else if(!we&&Bt){const pi=He.getChild(ct-1);ei=pi.getChild(pi.childCount-1)}else ei=Pe.getChild(kt+(we?1:-1));L.model.change(pi=>{pi.setSelection(pi.createRangeIn(ei))})}_onArrowKey(s,g){const L=this.editor,R=g.keyCode,G=(0,oe.getLocalizedArrowKeyCodeDirection)(R,L.locale.contentLanguageDirection);this._handleArrowKeys(G,g.shiftKey)&&(g.preventDefault(),g.stopPropagation(),s.stop())}_handleArrowKeys(s,g){const L=this.editor.plugins.get(hi),R=this.editor.plugins.get("TableSelection"),G=this.editor.model,ne=G.document.selection,we=["right","down"].includes(s),fe=L.getSelectedTableCells(ne);if(fe.length){let He;return He=g?R.getFocusCell():we?fe[fe.length-1]:fe[0],this._navigateFromCellInDirection(He,s,g),!0}const Pe=ne.focus.findAncestor("tableCell");if(!Pe)return!1;if(!ne.isCollapsed)if(g){if(ne.isBackward==we&&!ne.containsEntireContent(Pe))return!1}else{const He=ne.getSelectedElement();if(!He||!G.schema.isObject(He))return!1}return!!this._isSelectionAtCellEdge(ne,Pe,we)&&(this._navigateFromCellInDirection(Pe,s,g),!0)}_isSelectionAtCellEdge(s,g,L){const R=this.editor.model,G=this.editor.model.schema,ne=L?s.getLastPosition():s.getFirstPosition();if(!G.getLimitElement(ne).is("element","tableCell"))return R.createPositionAt(g,L?"end":0).isTouching(ne);const we=R.createSelection(ne);return R.modifySelection(we,{direction:L?"forward":"backward"}),ne.isEqual(we.focus)}_navigateFromCellInDirection(s,g,L=!1){const R=this.editor.model,G=s.findAncestor("table"),ne=[...new f(G,{includeAllSlots:!0})],{row:we,column:fe}=ne[ne.length-1],Pe=ne.find(({cell:Zt})=>Zt==s);let{row:He,column:ct}=Pe;switch(g){case"left":ct--;break;case"up":He--;break;case"right":ct+=Pe.cellWidth;break;case"down":He+=Pe.cellHeight}if(He<0||He>we||ct<0&&He<=0||ct>fe&&He>=we)return void R.change(Zt=>{Zt.setSelection(Zt.createRangeOn(G))});ct<0?(ct=L?0:fe,He--):ct>fe&&(ct=L?fe:0,He++);const kt=ne.find(Zt=>Zt.row==He&&Zt.column==ct).cell,Bt=["right","down"].includes(g),Kt=this.editor.plugins.get("TableSelection");if(L&&Kt.isEnabled){const Zt=Kt.getAnchorCell()||s;Kt.setCellSelection(Zt,kt)}else{const Zt=R.createPositionAt(kt,Bt?0:"end");R.change(ei=>{ei.setSelection(Zt)})}}}var Ke=M(492);class xt extends Ke.DomEventObserver{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(s){this.fire(s.type,s)}}class si extends p.Plugin{static get pluginName(){return"TableMouse"}static get requires(){return[jt,hi]}init(){this.editor.editing.view.addObserver(xt),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const s=this.editor,g=s.plugins.get(hi);let L=!1;const R=s.plugins.get(jt);this.listenTo(s.editing.view.document,"mousedown",(G,ne)=>{const we=s.model.document.selection;if(!this.isEnabled||!R.isEnabled||!ne.domEvent.shiftKey)return;const fe=R.getAnchorCell()||g.getTableCellsContainingSelection(we)[0];if(!fe)return;const Pe=this._getModelTableCellFromDomEvent(ne);Pe&&ni(fe,Pe)&&(L=!0,R.setCellSelection(fe,Pe),ne.preventDefault())}),this.listenTo(s.editing.view.document,"mouseup",()=>{L=!1}),this.listenTo(s.editing.view.document,"selectionChange",G=>{L&&G.stop()},{priority:"highest"})}_enableMouseDragSelection(){const s=this.editor;let g,L,R=!1,G=!1;const ne=s.plugins.get(jt);this.listenTo(s.editing.view.document,"mousedown",(we,fe)=>{this.isEnabled&&ne.isEnabled&&(fe.domEvent.shiftKey||fe.domEvent.ctrlKey||fe.domEvent.altKey||(g=this._getModelTableCellFromDomEvent(fe)))}),this.listenTo(s.editing.view.document,"mousemove",(we,fe)=>{if(!fe.domEvent.buttons||!g)return;const Pe=this._getModelTableCellFromDomEvent(fe);Pe&&ni(g,Pe)&&(L=Pe,R||L==g||(R=!0)),R&&(G=!0,ne.setCellSelection(g,L),fe.preventDefault())}),this.listenTo(s.editing.view.document,"mouseup",()=>{R=!1,G=!1,g=null,L=null}),this.listenTo(s.editing.view.document,"selectionChange",we=>{G&&we.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(s){const g=s.target,L=this.editor.editing.view.createPositionAt(g,0);return this.editor.editing.mapper.toModelPosition(L).parent.findAncestor("tableCell",{includeSelf:!0})}}function ni(O,s){return O.parent.parent==s.parent.parent}var ki=M(943),di={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(ki.Z,di),ki.Z.locals;class Ti extends p.Plugin{static get requires(){return[Mi,ee,jt,si,nt,Qt,_.Widget]}static get pluginName(){return"Table"}}class Ni extends p.Plugin{static get pluginName(){return"PlainTableOutput"}static get requires(){return[Ti]}init(){const s=this.editor;s.conversion.for("dataDowncast").elementToStructure({model:"table",view:Gi,converterPriority:"high"}),s.plugins.has("TableCaption")&&s.conversion.for("dataDowncast").elementToElement({model:"caption",view:(g,{writer:L})=>{if(g.parent.name==="table")return L.createContainerElement("caption")},converterPriority:"high"}),s.plugins.has("TableProperties")&&function(g){const L={"border-width":"tableBorderWidth","border-color":"tableBorderColor","border-style":"tableBorderStyle","background-color":"tableBackgroundColor"};for(const[R,G]of Object.entries(L))g.conversion.for("dataDowncast").add(ne=>ne.on(`attribute:${G}:table`,(we,fe,Pe)=>{const{item:He,attributeNewValue:ct}=fe,{mapper:kt,writer:Bt}=Pe;if(!Pe.consumable.consume(He,we.name))return;const Kt=kt.toViewElement(He);ct?Bt.setStyle(R,ct,Kt):Bt.removeStyle(R,Kt)},{priority:"high"}))}(s)}}function Gi(O,{writer:s}){const g=O.getAttribute("headingRows")||0,L=s.createSlot(Pe=>Pe.is("element","tableRow")&&Pe.index<g),R=s.createSlot(Pe=>Pe.is("element","tableRow")&&Pe.index>=g),G=s.createSlot(Pe=>!Pe.is("element","tableRow")),ne=s.createContainerElement("thead",null,L),we=s.createContainerElement("tbody",null,R),fe=[];return g&&fe.push(ne),g<O.childCount&&fe.push(we),s.createContainerElement("table",null,[G,...fe])}function on(O){return Zi(O)||hn(O)}function Zi(O){const s=O.getSelectedElement();return s&&kn(s)?s:null}function hn(O){const s=O.getFirstPosition();if(!s)return null;let g=s.parent;for(;g;){if(g.is("element")&&kn(g))return g;g=g.parent}return null}function kn(O){return!!O.getCustomProperty("table")&&(0,_.isWidget)(O)}class qn extends p.Plugin{static get requires(){return[_.WidgetToolbarRepository]}static get pluginName(){return"TableToolbar"}afterInit(){const s=this.editor,g=s.t,L=s.plugins.get(_.WidgetToolbarRepository),R=s.config.get("table.contentToolbar"),G=s.config.get("table.tableToolbar");R&&L.register("tableContent",{ariaLabel:g("Table toolbar"),items:R,getRelatedElement:hn}),G&&L.register("table",{ariaLabel:g("Table toolbar"),items:G,getRelatedElement:Zi})}}var rn=M(993),Sn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(rn.Z,Sn),rn.Z.locals;class In extends $t.View{constructor(s,g){super(s),this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=g,this.focusTracker=new oe.FocusTracker,this._focusables=new $t.ViewCollection,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new oe.KeystrokeHandler,this._stillTyping=!1,this.focusCycler=new $t.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",(L,R,G)=>this._setInputValue(G))}render(){super.render(),[this.inputView,this.dropdownView.buttonView].forEach(s=>{this.focusTracker.add(s.element),this._focusables.add(s)}),this.keystrokes.listenTo(this.element)}focus(s){s===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const s=this.locale,g=s.t,L=this.bindTemplate,R=this._createColorSelector(s),G=(0,$t.createDropdown)(s),ne=new $t.View;return ne.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:L.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",L.if("value","ck-hidden",we=>we!="")]}}]}),G.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),G.buttonView.children.add(ne),G.buttonView.label=g("Color picker"),G.buttonView.tooltip=!0,G.panelPosition=s.uiLanguageDirection==="rtl"?"se":"sw",G.panelView.children.add(R),G.bind("isEnabled").to(this,"isReadOnly",we=>!we),G.on("change:isOpen",(we,fe,Pe)=>{Pe&&(R.updateSelectedColors(),R.showColorGridsFragment())}),G}_createInputTextView(){const s=this.locale,g=new $t.InputTextView(s);return g.extendTemplate({on:{blur:g.bindTemplate.to("blur")}}),g.value=this.value,g.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(g),g.on("input",()=>{const L=g.element.value,R=this.options.colorDefinitions.find(G=>L===G.label);this._stillTyping=!0,this.value=R&&R.color||L}),g.on("blur",()=>{this._stillTyping=!1,this._setInputValue(g.element.value)}),g.delegate("input").to(this),g}_createColorSelector(s){const g=s.t,L=this.options.defaultColorValue||"",R=g(L?"Restore default":"Remove color"),G=new $t.ColorSelectorView(s,{colors:this.options.colorDefinitions,columns:this.options.columns,removeButtonLabel:R,colorPickerLabel:g("Color picker"),colorPickerViewConfig:this.options.colorPickerConfig!==!1&&{...this.options.colorPickerConfig,hideInput:!0}});G.appendUI(),G.on("execute",(we,fe)=>{fe.source!=="colorPickerSaveButton"?(this.value=fe.value||L,this.fire("input"),fe.source!=="colorPicker"&&(this.dropdownView.isOpen=!1)):this.dropdownView.isOpen=!1});let ne=this.value;return G.on("colorPicker:cancel",()=>{this.value=ne,this.fire("input"),this.dropdownView.isOpen=!1}),G.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{ne=this.value}),G.bind("selectedColor").to(this,"value"),G}_setInputValue(s){if(!this._stillTyping){const g=Yn(s),L=this.options.colorDefinitions.find(R=>g===Yn(R.color));this.inputView.value=L?L.label:s||""}}}function Yn(O){return O.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const ho=O=>O==="";function oo(O){return{none:O("None"),solid:O("Solid"),dotted:O("Dotted"),dashed:O("Dashed"),double:O("Double"),groove:O("Groove"),ridge:O("Ridge"),inset:O("Inset"),outset:O("Outset")}}function ro(O){return O('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function Ht(O){return O('The value is invalid. Try "10px" or "2em" or simply "2".')}function K(O){return O=O.trim().toLowerCase(),ho(O)||(0,Ke.isColor)(O)}function Ae(O){return O=O.trim(),ho(O)||vt(O)||(0,Ke.isLength)(O)||(0,Ke.isPercentage)(O)}function Ue(O){return O=O.trim(),ho(O)||vt(O)||(0,Ke.isLength)(O)}function Be(O,s){const g=new oe.Collection,L=oo(O.t);for(const R in L){const G={type:"button",model:new $t.Model({_borderStyleValue:R,label:L[R],role:"menuitemradio",withText:!0})};R==="none"?G.model.bind("isOn").to(O,"borderStyle",ne=>s==="none"?!ne:ne===R):G.model.bind("isOn").to(O,"borderStyle",ne=>ne===R),g.add(G)}return g}function et(O){const{view:s,icons:g,toolbar:L,labels:R,propertyName:G,nameToValue:ne,defaultValue:we}=O;for(const fe in R){const Pe=new $t.ButtonView(s.locale);Pe.set({label:R[fe],icon:g[fe],tooltip:R[fe]});const He=ne?ne(fe):fe;Pe.bind("isOn").to(s,G,ct=>{let kt=ct;return ct===""&&we&&(kt=we),He===kt}),Pe.on("execute",()=>{s[G]=He}),L.items.add(Pe)}}const Xe=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function It(O){return(s,g,L)=>{const R=new In(s.locale,{colorDefinitions:(G=O.colorConfig,G.map(ne=>({color:ne.model,label:ne.label,options:{hasBorder:ne.hasBorder}}))),columns:O.columns,defaultColorValue:O.defaultColorValue,colorPickerConfig:O.colorPickerConfig});var G;return R.inputView.set({id:g,ariaDescribedById:L}),R.bind("isReadOnly").to(s,"isEnabled",ne=>!ne),R.bind("hasError").to(s,"errorText",ne=>!!ne),R.on("input",()=>{s.errorText=null}),s.bind("isEmpty","isFocused").to(R),R}}function vt(O){const s=parseFloat(O);return!Number.isNaN(s)&&O===String(s)}var St=M(865),zt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(St.Z,zt),St.Z.locals;class Wt extends $t.View{constructor(s,g={}){super(s);const L=this.bindTemplate;this.set("class",g.class||null),this.children=this.createCollection(),g.children&&g.children.forEach(R=>this.children.add(R)),this.set("_role",null),this.set("_ariaLabelledBy",null),g.labelView&&this.set({_role:"group",_ariaLabelledBy:g.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",L.to("class")],role:L.to("_role"),"aria-labelledby":L.to("_ariaLabelledBy")},children:this.children})}}var mi=M(102),ai={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(mi.Z,ai),mi.Z.locals;var gi=M(424),Ri={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(gi.Z,Ri),gi.Z.locals;var Qi=M(770),Pn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(Qi.Z,Pn),Qi.Z.locals;const Mn={left:p.icons.alignLeft,center:p.icons.alignCenter,right:p.icons.alignRight,justify:p.icons.alignJustify,top:p.icons.alignTop,middle:p.icons.alignMiddle,bottom:p.icons.alignBottom};class Qn extends $t.View{constructor(s,g){super(s),this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=g;const{borderStyleDropdown:L,borderWidthInput:R,borderColorInput:G,borderRowLabel:ne}=this._createBorderFields(),{backgroundRowLabel:we,backgroundInput:fe}=this._createBackgroundFields(),{widthInput:Pe,operatorLabel:He,heightInput:ct,dimensionsLabel:kt}=this._createDimensionFields(),{horizontalAlignmentToolbar:Bt,verticalAlignmentToolbar:Kt,alignmentLabel:Zt}=this._createAlignmentFields();this.focusTracker=new oe.FocusTracker,this.keystrokes=new oe.KeystrokeHandler,this.children=this.createCollection(),this.borderStyleDropdown=L,this.borderWidthInput=R,this.borderColorInput=G,this.backgroundInput=fe,this.paddingInput=this._createPaddingField(),this.widthInput=Pe,this.heightInput=ct,this.horizontalAlignmentToolbar=Bt,this.verticalAlignmentToolbar=Kt;const{saveButtonView:ei,cancelButtonView:pi}=this._createActionButtons();this.saveButtonView=ei,this.cancelButtonView=pi,this._focusables=new $t.ViewCollection,this._focusCycler=new $t.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new $t.FormHeaderView(s,{label:this.t("Cell properties")})),this.children.add(new Wt(s,{labelView:ne,children:[ne,L,G,R],class:"ck-table-form__border-row"})),this.children.add(new Wt(s,{labelView:we,children:[we,fe],class:"ck-table-form__background-row"})),this.children.add(new Wt(s,{children:[new Wt(s,{labelView:kt,children:[kt,Pe,He,ct],class:"ck-table-form__dimensions-row"}),new Wt(s,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new Wt(s,{labelView:Zt,children:[Zt,Bt,Kt],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new Wt(s,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,$t.submitHandler)({view:this}),[this.borderColorInput,this.backgroundInput].forEach(s=>{s.fieldView.focusCycler.on("forwardCycle",g=>{this._focusCycler.focusNext(),g.stop()}),s.fieldView.focusCycler.on("backwardCycle",g=>{this._focusCycler.focusPrevious(),g.stop()})}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(s=>{this._focusables.add(s),this.focusTracker.add(s.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const s=this.options.defaultTableCellProperties,g={style:s.borderStyle,width:s.borderWidth,color:s.borderColor},L=It({colorConfig:this.options.borderColors,columns:5,defaultColorValue:g.color,colorPickerConfig:this.options.colorPickerConfig}),R=this.locale,G=this.t,ne=G("Style"),we=new $t.LabelView(R);we.text=G("Border");const fe=oo(G),Pe=new $t.LabeledFieldView(R,$t.createLabeledDropdown);Pe.set({label:ne,class:"ck-table-form__border-style"}),Pe.fieldView.buttonView.set({ariaLabel:ne,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:ne}),Pe.fieldView.buttonView.bind("label").to(this,"borderStyle",kt=>fe[kt||"none"]),Pe.fieldView.on("execute",kt=>{this.borderStyle=kt.source._borderStyleValue}),Pe.bind("isEmpty").to(this,"borderStyle",kt=>!kt),(0,$t.addListToDropdown)(Pe.fieldView,Be(this,g.style),{role:"menu",ariaLabel:ne});const He=new $t.LabeledFieldView(R,$t.createLabeledInputText);He.set({label:G("Width"),class:"ck-table-form__border-width"}),He.fieldView.bind("value").to(this,"borderWidth"),He.bind("isEnabled").to(this,"borderStyle",Kn),He.fieldView.on("input",()=>{this.borderWidth=He.fieldView.element.value});const ct=new $t.LabeledFieldView(R,L);return ct.set({label:G("Color"),class:"ck-table-form__border-color"}),ct.fieldView.bind("value").to(this,"borderColor"),ct.bind("isEnabled").to(this,"borderStyle",Kn),ct.fieldView.on("input",()=>{this.borderColor=ct.fieldView.value}),this.on("change:borderStyle",(kt,Bt,Kt,Zt)=>{Kn(Kt)||(this.borderColor="",this.borderWidth=""),Kn(Zt)||(this.borderColor=g.color,this.borderWidth=g.width)}),{borderRowLabel:we,borderStyleDropdown:Pe,borderColorInput:ct,borderWidthInput:He}}_createBackgroundFields(){const s=this.locale,g=this.t,L=new $t.LabelView(s);L.text=g("Background");const R=It({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),G=new $t.LabeledFieldView(s,R);return G.set({label:g("Color"),class:"ck-table-cell-properties-form__background"}),G.fieldView.bind("value").to(this,"backgroundColor"),G.fieldView.on("input",()=>{this.backgroundColor=G.fieldView.value}),{backgroundRowLabel:L,backgroundInput:G}}_createDimensionFields(){const s=this.locale,g=this.t,L=new $t.LabelView(s);L.text=g("Dimensions");const R=new $t.LabeledFieldView(s,$t.createLabeledInputText);R.set({label:g("Width"),class:"ck-table-form__dimensions-row__width"}),R.fieldView.bind("value").to(this,"width"),R.fieldView.on("input",()=>{this.width=R.fieldView.element.value});const G=new $t.View(s);G.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});const ne=new $t.LabeledFieldView(s,$t.createLabeledInputText);return ne.set({label:g("Height"),class:"ck-table-form__dimensions-row__height"}),ne.fieldView.bind("value").to(this,"height"),ne.fieldView.on("input",()=>{this.height=ne.fieldView.element.value}),{dimensionsLabel:L,widthInput:R,operatorLabel:G,heightInput:ne}}_createPaddingField(){const s=this.locale,g=this.t,L=new $t.LabeledFieldView(s,$t.createLabeledInputText);return L.set({label:g("Padding"),class:"ck-table-cell-properties-form__padding"}),L.fieldView.bind("value").to(this,"padding"),L.fieldView.on("input",()=>{this.padding=L.fieldView.element.value}),L}_createAlignmentFields(){const s=this.locale,g=this.t,L=new $t.LabelView(s);L.text=g("Table cell text alignment");const R=new $t.ToolbarView(s),G=s.contentLanguageDirection==="rtl";R.set({isCompact:!0,ariaLabel:g("Horizontal text alignment toolbar")}),et({view:this,icons:Mn,toolbar:R,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:we=>{if(G){if(we==="left")return"right";if(we==="right")return"left"}return we},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const ne=new $t.ToolbarView(s);return ne.set({isCompact:!0,ariaLabel:g("Vertical text alignment toolbar")}),et({view:this,icons:Mn,toolbar:ne,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:R,verticalAlignmentToolbar:ne,alignmentLabel:L}}_createActionButtons(){const s=this.locale,g=this.t,L=new $t.ButtonView(s),R=new $t.ButtonView(s),G=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return L.set({label:g("Save"),icon:p.icons.check,class:"ck-button-save",type:"submit",withText:!0}),L.bind("isEnabled").toMany(G,"errorText",(...ne)=>ne.every(we=>!we)),R.set({label:g("Cancel"),icon:p.icons.cancel,class:"ck-button-cancel",withText:!0}),R.delegate("execute").to(this,"cancel"),{saveButtonView:L,cancelButtonView:R}}get _horizontalAlignmentLabels(){const s=this.locale,g=this.t,L=g("Align cell text to the left"),R=g("Align cell text to the center"),G=g("Align cell text to the right"),ne=g("Justify cell text");return s.uiLanguageDirection==="rtl"?{right:G,center:R,left:L,justify:ne}:{left:L,center:R,right:G,justify:ne}}get _verticalAlignmentLabels(){const s=this.t;return{top:s("Align cell text to the top"),middle:s("Align cell text to the middle"),bottom:s("Align cell text to the bottom")}}}function Kn(O){return O!=="none"}const Rn=function(O){var s=typeof O;return O!=null&&(s=="object"||s=="function")},mo=typeof J.g=="object"&&J.g&&J.g.Object===Object&&J.g;var xo=typeof self=="object"&&self&&self.Object===Object&&self;const Nn=mo||xo||Function("return this")(),so=function(){return Nn.Date.now()};var zn=/\s/;const _e=function(O){for(var s=O.length;s--&&zn.test(O.charAt(s)););return s};var k=/^\s+/;const d=function(O){return O&&O.slice(0,_e(O)+1).replace(k,"")},I=Nn.Symbol;var N=Object.prototype,X=N.hasOwnProperty,ce=N.toString,pe=I?I.toStringTag:void 0;const he=function(O){var s=X.call(O,pe),g=O[pe];try{O[pe]=void 0;var L=!0}catch{}var R=ce.call(O);return L&&(s?O[pe]=g:delete O[pe]),R};var ve=Object.prototype.toString;const Re=function(O){return ve.call(O)};var We=I?I.toStringTag:void 0;const Ye=function(O){return O==null?O===void 0?"[object Undefined]":"[object Null]":We&&We in Object(O)?he(O):Re(O)},pt=function(O){return O!=null&&typeof O=="object"},Tt=function(O){return typeof O=="symbol"||pt(O)&&Ye(O)=="[object Symbol]"};var Pt=/^[-+]0x[0-9a-f]+$/i,Ct=/^0b[01]+$/i,ii=/^0o[0-7]+$/i,Jt=parseInt;const bi=function(O){if(typeof O=="number")return O;if(Tt(O))return NaN;if(Rn(O)){var s=typeof O.valueOf=="function"?O.valueOf():O;O=Rn(s)?s+"":s}if(typeof O!="string")return O===0?O:+O;O=d(O);var g=Ct.test(O);return g||ii.test(O)?Jt(O.slice(2),g?2:8):Pt.test(O)?NaN:+O};var Ei=Math.max,Hi=Math.min;const sn=function(O,s,g){var L,R,G,ne,we,fe,Pe=0,He=!1,ct=!1,kt=!0;if(typeof O!="function")throw new TypeError("Expected a function");function Bt(xi){var Bi=L,en=R;return L=R=void 0,Pe=xi,ne=O.apply(en,Bi)}function Kt(xi){var Bi=xi-fe;return fe===void 0||Bi>=s||Bi<0||ct&&xi-Pe>=G}function Zt(){var xi=so();if(Kt(xi))return ei(xi);we=setTimeout(Zt,function(Bi){var en=s-(Bi-fe);return ct?Hi(en,G-(Bi-Pe)):en}(xi))}function ei(xi){return we=void 0,kt&&L?Bt(xi):(L=R=void 0,ne)}function pi(){var xi=so(),Bi=Kt(xi);if(L=arguments,R=this,fe=xi,Bi){if(we===void 0)return function(en){return Pe=en,we=setTimeout(Zt,s),He?Bt(en):ne}(fe);if(ct)return clearTimeout(we),we=setTimeout(Zt,s),Bt(fe)}return we===void 0&&(we=setTimeout(Zt,s)),ne}return s=bi(s)||0,Rn(g)&&(He=!!g.leading,G=(ct="maxWait"in g)?Ei(bi(g.maxWait)||0,s):G,kt="trailing"in g?!!g.trailing:kt),pi.cancel=function(){we!==void 0&&clearTimeout(we),Pe=0,L=fe=R=we=void 0},pi.flush=function(){return we===void 0?ne:ei(so())},pi},mn=$t.BalloonPanelView.defaultPositions,Cn=[mn.northArrowSouth,mn.northArrowSouthWest,mn.northArrowSouthEast,mn.southArrowNorth,mn.southArrowNorthWest,mn.southArrowNorthEast,mn.viewportStickyNorth];function fo(O,s){const g=O.plugins.get("ContextualBalloon"),L=O.editing.view.document.selection;let R;s==="cell"?hn(L)&&(R=zo(O)):on(L)&&(R=qo(O)),R&&g.updatePosition(R)}function qo(O){const s=te(O.model.document.selection),g=O.editing.mapper.toViewElement(s);return{target:O.editing.view.domConverter.mapViewToDom(g),positions:Cn}}function zo(O){const s=O.editing.mapper,g=O.editing.view.domConverter,L=O.model.document.selection;if(L.rangeCount>1)return{target:()=>function(ne,we){const fe=we.editing.mapper,Pe=we.editing.view.domConverter,He=Array.from(ne).map(ct=>{const kt=er(ct.start),Bt=fe.toViewElement(kt);return new oe.Rect(Pe.mapViewToDom(Bt))});return oe.Rect.getBoundingRect(He)}(L.getRanges(),O),positions:Cn};const R=er(L.getFirstPosition()),G=s.toViewElement(R);return{target:g.mapViewToDom(G),positions:Cn}}function er(O){return O.nodeAfter&&O.nodeAfter.is("element","tableCell")?O.nodeAfter:O.findAncestor("tableCell")}function bo(O){if(!O||!Rn(O))return O;const{top:s,right:g,bottom:L,left:R}=O;return s==g&&g==L&&L==R?s:void 0}function Jn(O,s){const g=parseFloat(O);return Number.isNaN(g)||String(g)!==String(O)?O:`${g}${s}`}function Po(O,s={}){const g={borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",...O};return s.includeAlignmentProperty&&!g.alignment&&(g.alignment="center"),s.includePaddingProperty&&!g.padding&&(g.padding=""),s.includeVerticalAlignmentProperty&&!g.verticalAlignment&&(g.verticalAlignment="middle"),s.includeHorizontalAlignmentProperty&&!g.horizontalAlignment&&(g.horizontalAlignment=s.isRightToLeftContent?"right":"left"),g}const Fo={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class Fn extends p.Plugin{static get requires(){return[$t.ContextualBalloon]}static get pluginName(){return"TableCellPropertiesUI"}constructor(s){super(s),s.config.define("table.tableCellProperties",{borderColors:Xe,backgroundColors:Xe})}init(){const s=this.editor,g=s.t;this._defaultTableCellProperties=Po(s.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:s.locale.contentLanguageDirection==="rtl"}),this._balloon=s.plugins.get($t.ContextualBalloon),this.view=null,this._isReady=!1,s.ui.componentFactory.add("tableCellProperties",L=>{const R=new $t.ButtonView(L);R.set({label:g("Cell properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>',tooltip:!0}),this.listenTo(R,"execute",()=>this._showView());const G=Object.values(Fo).map(ne=>s.commands.get(ne));return R.bind("isEnabled").toMany(G,"isEnabled",(...ne)=>ne.some(we=>we)),R})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const s=this.editor,g=s.config.get("table.tableCellProperties"),L=(0,$t.normalizeColorOptions)(g.borderColors),R=(0,$t.getLocalizedColorOptions)(s.locale,L),G=(0,$t.normalizeColorOptions)(g.backgroundColors),ne=(0,$t.getLocalizedColorOptions)(s.locale,G),we=g.colorPicker!==!1,fe=new Qn(s.locale,{borderColors:R,backgroundColors:ne,defaultTableCellProperties:this._defaultTableCellProperties,colorPickerConfig:!!we&&(g.colorPicker||{})}),Pe=s.t;fe.render(),this.listenTo(fe,"submit",()=>{this._hideView()}),this.listenTo(fe,"cancel",()=>{this._undoStepBatch.operations.length&&s.execute("undo",this._undoStepBatch),this._hideView()}),fe.keystrokes.set("Esc",(kt,Bt)=>{this._hideView(),Bt()}),(0,$t.clickOutsideHandler)({emitter:fe,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const He=ro(Pe),ct=Ht(Pe);return fe.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),fe.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:fe.borderColorInput,commandName:"tableCellBorderColor",errorText:He,validator:K})),fe.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:fe.borderWidthInput,commandName:"tableCellBorderWidth",errorText:ct,validator:Ue})),fe.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:fe.paddingInput,commandName:"tableCellPadding",errorText:ct,validator:Ae})),fe.on("change:width",this._getValidatedPropertyChangeCallback({viewField:fe.widthInput,commandName:"tableCellWidth",errorText:ct,validator:Ae})),fe.on("change:height",this._getValidatedPropertyChangeCallback({viewField:fe.heightInput,commandName:"tableCellHeight",errorText:ct,validator:Ae})),fe.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:fe.backgroundInput,commandName:"tableCellBackgroundColor",errorText:He,validator:K})),fe.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),fe.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),fe}_fillViewFormFromCommandValues(){const s=this.editor.commands,g=s.get("tableCellBorderStyle");Object.entries(Fo).map(([L,R])=>{const G=this._defaultTableCellProperties[L]||"";return[L,s.get(R).value||G]}).forEach(([L,R])=>{(L!=="borderColor"&&L!=="borderWidth"||g.value!=="none")&&this.view.set(L,R)}),this._isReady=!0}_showView(){const s=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(s.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:zo(s)}),this._undoStepBatch=s.model.createBatch(),this.view.focus()}_hideView(){const s=this.editor;this.stopListening(s.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const s=this.editor;hn(s.editing.view.document.selection)?this._isViewVisible&&fo(s,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(s){return(g,L,R)=>{this._isReady&&this.editor.execute(s,{value:R,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(s){const{commandName:g,viewField:L,validator:R,errorText:G}=s,ne=sn(()=>{L.errorText=G},500);return(we,fe,Pe)=>{ne.cancel(),this._isReady&&(R(Pe)?(this.editor.execute(g,{value:Pe,batch:this._undoStepBatch}),L.errorText=null):ne())}}}class Xn extends p.Command{constructor(s,g,L){super(s),this.attributeName=g,this._defaultValue=L}refresh(){const s=this.editor,g=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(s.model.document.selection);this.isEnabled=!!g.length,this.value=this._getSingleValue(g)}execute(s={}){const{value:g,batch:L}=s,R=this.editor.model,G=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(R.document.selection),ne=this._getValueToSet(g);R.enqueueChange(L,we=>{ne?G.forEach(fe=>we.setAttribute(this.attributeName,ne,fe)):G.forEach(fe=>we.removeAttribute(this.attributeName,fe))})}_getAttribute(s){if(!s)return;const g=s.getAttribute(this.attributeName);return g!==this._defaultValue?g:void 0}_getValueToSet(s){if(s!==this._defaultValue)return s}_getSingleValue(s){const g=this._getAttribute(s[0]);return s.every(L=>this._getAttribute(L)===g)?g:void 0}}class Dr extends Xn{constructor(s,g){super(s,"tableCellWidth",g)}_getValueToSet(s){if((s=Jn(s,"px"))!==this._defaultValue)return s}}class tr extends p.Plugin{static get pluginName(){return"TableCellWidthEditing"}static get requires(){return[Mi]}init(){const s=this.editor,g=Po(s.config.get("table.tableCellProperties.defaultProperties"));Y(s.model.schema,s.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:g.width}),s.commands.add("tableCellWidth",new Dr(s,g.width))}}class hr extends Xn{constructor(s,g){super(s,"tableCellPadding",g)}_getAttribute(s){if(!s)return;const g=bo(s.getAttribute(this.attributeName));return g!==this._defaultValue?g:void 0}_getValueToSet(s){const g=Jn(s,"px");if(g!==this._defaultValue)return g}}class Ho extends Xn{constructor(s,g){super(s,"tableCellHeight",g)}_getValueToSet(s){const g=Jn(s,"px");if(g!==this._defaultValue)return g}}class mr extends Xn{constructor(s,g){super(s,"tableCellBackgroundColor",g)}}class Ko extends Xn{constructor(s,g){super(s,"tableCellVerticalAlignment",g)}}class zr extends Xn{constructor(s,g){super(s,"tableCellHorizontalAlignment",g)}}class Sr extends Xn{constructor(s,g){super(s,"tableCellBorderStyle",g)}_getAttribute(s){if(!s)return;const g=bo(s.getAttribute(this.attributeName));return g!==this._defaultValue?g:void 0}}class ir extends Xn{constructor(s,g){super(s,"tableCellBorderColor",g)}_getAttribute(s){if(!s)return;const g=bo(s.getAttribute(this.attributeName));return g!==this._defaultValue?g:void 0}}class Er extends Xn{constructor(s,g){super(s,"tableCellBorderWidth",g)}_getAttribute(s){if(!s)return;const g=bo(s.getAttribute(this.attributeName));return g!==this._defaultValue?g:void 0}_getValueToSet(s){const g=Jn(s,"px");if(g!==this._defaultValue)return g}}const Ir=/^(top|middle|bottom)$/,gr=/^(left|center|right|justify)$/;class Ji extends p.Plugin{static get pluginName(){return"TableCellPropertiesEditing"}static get requires(){return[Mi,tr]}init(){const s=this.editor,g=s.model.schema,L=s.conversion;s.config.define("table.tableCellProperties.defaultProperties",{});const R=Po(s.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:s.locale.contentLanguageDirection==="rtl"});s.data.addStyleProcessorRules(Ke.addBorderRules),function(G,ne,we){const fe={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};G.extend("tableCell",{allowAttributes:Object.values(fe)}),c(ne,"td",fe,we),c(ne,"th",fe,we),P(ne,{modelElement:"tableCell",modelAttribute:fe.style,styleName:"border-style"}),P(ne,{modelElement:"tableCell",modelAttribute:fe.color,styleName:"border-color"}),P(ne,{modelElement:"tableCell",modelAttribute:fe.width,styleName:"border-width"})}(g,L,{color:R.borderColor,style:R.borderStyle,width:R.borderWidth}),s.commands.add("tableCellBorderStyle",new Sr(s,R.borderStyle)),s.commands.add("tableCellBorderColor",new ir(s,R.borderColor)),s.commands.add("tableCellBorderWidth",new Er(s,R.borderWidth)),Y(g,L,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:R.height}),s.commands.add("tableCellHeight",new Ho(s,R.height)),s.data.addStyleProcessorRules(Ke.addPaddingRules),Y(g,L,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:R.padding}),s.commands.add("tableCellPadding",new hr(s,R.padding)),s.data.addStyleProcessorRules(Ke.addBackgroundRules),Y(g,L,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:R.backgroundColor}),s.commands.add("tableCellBackgroundColor",new mr(s,R.backgroundColor)),function(G,ne,we){G.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),ne.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:fe=>({key:"style",value:{"text-align":fe}})}),ne.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":gr}},model:{key:"tableCellHorizontalAlignment",value:fe=>{const Pe=fe.getStyle("text-align");return Pe===we?null:Pe}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:gr}},model:{key:"tableCellHorizontalAlignment",value:fe=>{const Pe=fe.getAttribute("align");return Pe===we?null:Pe}}})}(g,L,R.horizontalAlignment),s.commands.add("tableCellHorizontalAlignment",new zr(s,R.horizontalAlignment)),function(G,ne,we){G.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),ne.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:fe=>({key:"style",value:{"vertical-align":fe}})}),ne.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":Ir}},model:{key:"tableCellVerticalAlignment",value:fe=>{const Pe=fe.getStyle("vertical-align");return Pe===we?null:Pe}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:Ir}},model:{key:"tableCellVerticalAlignment",value:fe=>{const Pe=fe.getAttribute("valign");return Pe===we?null:Pe}}})}(g,L,R.verticalAlignment),s.commands.add("tableCellVerticalAlignment",new Ko(s,R.verticalAlignment))}}class Co extends p.Plugin{static get pluginName(){return"TableCellProperties"}static get requires(){return[Ji,Fn]}}class To extends p.Command{constructor(s,g,L){super(s),this.attributeName=g,this._defaultValue=L}refresh(){const s=te(this.editor.model.document.selection);this.isEnabled=!!s,this.value=this._getValue(s)}execute(s={}){const g=this.editor.model,L=g.document.selection,{value:R,batch:G}=s,ne=te(L),we=this._getValueToSet(R);g.enqueueChange(G,fe=>{we?fe.setAttribute(this.attributeName,we,ne):fe.removeAttribute(this.attributeName,ne)})}_getValue(s){if(!s)return;const g=s.getAttribute(this.attributeName);return g!==this._defaultValue?g:void 0}_getValueToSet(s){if(s!==this._defaultValue)return s}}class Lo extends To{constructor(s,g){super(s,"tableBackgroundColor",g)}}class wo extends To{constructor(s,g){super(s,"tableBorderColor",g)}_getValue(s){if(!s)return;const g=bo(s.getAttribute(this.attributeName));return g!==this._defaultValue?g:void 0}}class Ln extends To{constructor(s,g){super(s,"tableBorderStyle",g)}_getValue(s){if(!s)return;const g=bo(s.getAttribute(this.attributeName));return g!==this._defaultValue?g:void 0}}class an extends To{constructor(s,g){super(s,"tableBorderWidth",g)}_getValue(s){if(!s)return;const g=bo(s.getAttribute(this.attributeName));return g!==this._defaultValue?g:void 0}_getValueToSet(s){const g=Jn(s,"px");if(g!==this._defaultValue)return g}}class Wn extends To{constructor(s,g){super(s,"tableWidth",g)}_getValueToSet(s){if((s=Jn(s,"px"))!==this._defaultValue)return s}}class ln extends To{constructor(s,g){super(s,"tableHeight",g)}_getValueToSet(s){if((s=Jn(s,"px"))!==this._defaultValue)return s}}class ko extends To{constructor(s,g){super(s,"tableAlignment",g)}}const Ao=/^(left|center|right)$/,Xt=/^(left|none|right)$/;class nn extends p.Plugin{static get pluginName(){return"TablePropertiesEditing"}static get requires(){return[Mi]}init(){const s=this.editor,g=s.model.schema,L=s.conversion;s.config.define("table.tableProperties.defaultProperties",{});const R=Po(s.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});s.data.addStyleProcessorRules(Ke.addBorderRules),function(G,ne,we){const fe={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};G.extend("table",{allowAttributes:Object.values(fe)}),c(ne,"table",fe,we),B(ne,{modelAttribute:fe.color,styleName:"border-color"}),B(ne,{modelAttribute:fe.style,styleName:"border-style"}),B(ne,{modelAttribute:fe.width,styleName:"border-width"})}(g,L,{color:R.borderColor,style:R.borderStyle,width:R.borderWidth}),s.commands.add("tableBorderColor",new wo(s,R.borderColor)),s.commands.add("tableBorderStyle",new Ln(s,R.borderStyle)),s.commands.add("tableBorderWidth",new an(s,R.borderWidth)),function(G,ne,we){G.extend("table",{allowAttributes:["tableAlignment"]}),ne.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:fe=>({key:"style",value:{float:fe==="center"?"none":fe}}),converterPriority:"high"}),ne.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:Xt}},model:{key:"tableAlignment",value:fe=>{let Pe=fe.getStyle("float");return Pe==="none"&&(Pe="center"),Pe===we?null:Pe}}}).attributeToAttribute({view:{attributes:{align:Ao}},model:{name:"table",key:"tableAlignment",value:fe=>{const Pe=fe.getAttribute("align");return Pe===we?null:Pe}}})}(g,L,R.alignment),s.commands.add("tableAlignment",new ko(s,R.alignment)),Go(g,L,{modelAttribute:"tableWidth",styleName:"width",defaultValue:R.width}),s.commands.add("tableWidth",new Wn(s,R.width)),Go(g,L,{modelAttribute:"tableHeight",styleName:"height",defaultValue:R.height}),s.commands.add("tableHeight",new ln(s,R.height)),s.data.addStyleProcessorRules(Ke.addBackgroundRules),function(G,ne,we){const{modelAttribute:fe}=we;G.extend("table",{allowAttributes:[fe]}),l(ne,{viewElement:"table",...we}),B(ne,we)}(g,L,{modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:R.backgroundColor}),s.commands.add("tableBackgroundColor",new Lo(s,R.backgroundColor))}}function Go(O,s,g){const{modelAttribute:L}=g;O.extend("table",{allowAttributes:[L]}),l(s,{viewElement:/^(table|figure)$/,shouldUpcast:R=>!(R.name=="table"&&R.parent.name=="figure"),...g}),P(s,{modelElement:"table",...g})}var pr=M(500),nr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(pr.Z,nr),pr.Z.locals;const or={left:p.icons.objectLeft,center:p.icons.objectCenter,right:p.icons.objectRight};class Dt extends $t.View{constructor(s,g){super(s),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=g;const{borderStyleDropdown:L,borderWidthInput:R,borderColorInput:G,borderRowLabel:ne}=this._createBorderFields(),{backgroundRowLabel:we,backgroundInput:fe}=this._createBackgroundFields(),{widthInput:Pe,operatorLabel:He,heightInput:ct,dimensionsLabel:kt}=this._createDimensionFields(),{alignmentToolbar:Bt,alignmentLabel:Kt}=this._createAlignmentFields();this.focusTracker=new oe.FocusTracker,this.keystrokes=new oe.KeystrokeHandler,this.children=this.createCollection(),this.borderStyleDropdown=L,this.borderWidthInput=R,this.borderColorInput=G,this.backgroundInput=fe,this.widthInput=Pe,this.heightInput=ct,this.alignmentToolbar=Bt;const{saveButtonView:Zt,cancelButtonView:ei}=this._createActionButtons();this.saveButtonView=Zt,this.cancelButtonView=ei,this._focusables=new $t.ViewCollection,this._focusCycler=new $t.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new $t.FormHeaderView(s,{label:this.t("Table properties")})),this.children.add(new Wt(s,{labelView:ne,children:[ne,L,G,R],class:"ck-table-form__border-row"})),this.children.add(new Wt(s,{labelView:we,children:[we,fe],class:"ck-table-form__background-row"})),this.children.add(new Wt(s,{children:[new Wt(s,{labelView:kt,children:[kt,Pe,He,ct],class:"ck-table-form__dimensions-row"}),new Wt(s,{labelView:Kt,children:[Kt,Bt],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new Wt(s,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,$t.submitHandler)({view:this}),[this.borderColorInput,this.backgroundInput].forEach(s=>{s.fieldView.focusCycler.on("forwardCycle",g=>{this._focusCycler.focusNext(),g.stop()}),s.fieldView.focusCycler.on("backwardCycle",g=>{this._focusCycler.focusPrevious(),g.stop()})}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(s=>{this._focusables.add(s),this.focusTracker.add(s.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const s=this.options.defaultTableProperties,g={style:s.borderStyle,width:s.borderWidth,color:s.borderColor},L=It({colorConfig:this.options.borderColors,columns:5,defaultColorValue:g.color,colorPickerConfig:this.options.colorPickerConfig}),R=this.locale,G=this.t,ne=G("Style"),we=new $t.LabelView(R);we.text=G("Border");const fe=oo(G),Pe=new $t.LabeledFieldView(R,$t.createLabeledDropdown);Pe.set({label:ne,class:"ck-table-form__border-style"}),Pe.fieldView.buttonView.set({ariaLabel:ne,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:ne}),Pe.fieldView.buttonView.bind("label").to(this,"borderStyle",kt=>fe[kt||"none"]),Pe.fieldView.on("execute",kt=>{this.borderStyle=kt.source._borderStyleValue}),Pe.bind("isEmpty").to(this,"borderStyle",kt=>!kt),(0,$t.addListToDropdown)(Pe.fieldView,Be(this,g.style),{role:"menu",ariaLabel:ne});const He=new $t.LabeledFieldView(R,$t.createLabeledInputText);He.set({label:G("Width"),class:"ck-table-form__border-width"}),He.fieldView.bind("value").to(this,"borderWidth"),He.bind("isEnabled").to(this,"borderStyle",No),He.fieldView.on("input",()=>{this.borderWidth=He.fieldView.element.value});const ct=new $t.LabeledFieldView(R,L);return ct.set({label:G("Color"),class:"ck-table-form__border-color"}),ct.fieldView.bind("value").to(this,"borderColor"),ct.bind("isEnabled").to(this,"borderStyle",No),ct.fieldView.on("input",()=>{this.borderColor=ct.fieldView.value}),this.on("change:borderStyle",(kt,Bt,Kt,Zt)=>{No(Kt)||(this.borderColor="",this.borderWidth=""),No(Zt)||(this.borderColor=g.color,this.borderWidth=g.width)}),{borderRowLabel:we,borderStyleDropdown:Pe,borderColorInput:ct,borderWidthInput:He}}_createBackgroundFields(){const s=this.locale,g=this.t,L=new $t.LabelView(s);L.text=g("Background");const R=It({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),G=new $t.LabeledFieldView(s,R);return G.set({label:g("Color"),class:"ck-table-properties-form__background"}),G.fieldView.bind("value").to(this,"backgroundColor"),G.fieldView.on("input",()=>{this.backgroundColor=G.fieldView.value}),{backgroundRowLabel:L,backgroundInput:G}}_createDimensionFields(){const s=this.locale,g=this.t,L=new $t.LabelView(s);L.text=g("Dimensions");const R=new $t.LabeledFieldView(s,$t.createLabeledInputText);R.set({label:g("Width"),class:"ck-table-form__dimensions-row__width"}),R.fieldView.bind("value").to(this,"width"),R.fieldView.on("input",()=>{this.width=R.fieldView.element.value});const G=new $t.View(s);G.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});const ne=new $t.LabeledFieldView(s,$t.createLabeledInputText);return ne.set({label:g("Height"),class:"ck-table-form__dimensions-row__height"}),ne.fieldView.bind("value").to(this,"height"),ne.fieldView.on("input",()=>{this.height=ne.fieldView.element.value}),{dimensionsLabel:L,widthInput:R,operatorLabel:G,heightInput:ne}}_createAlignmentFields(){const s=this.locale,g=this.t,L=new $t.LabelView(s);L.text=g("Alignment");const R=new $t.ToolbarView(s);return R.set({isCompact:!0,ariaLabel:g("Table alignment toolbar")}),et({view:this,icons:or,toolbar:R,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:L,alignmentToolbar:R}}_createActionButtons(){const s=this.locale,g=this.t,L=new $t.ButtonView(s),R=new $t.ButtonView(s),G=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return L.set({label:g("Save"),icon:p.icons.check,class:"ck-button-save",type:"submit",withText:!0}),L.bind("isEnabled").toMany(G,"errorText",(...ne)=>ne.every(we=>!we)),R.set({label:g("Cancel"),icon:p.icons.cancel,class:"ck-button-cancel",withText:!0}),R.delegate("execute").to(this,"cancel"),{saveButtonView:L,cancelButtonView:R}}get _alignmentLabels(){const s=this.locale,g=this.t,L=g("Align table to the left"),R=g("Center table"),G=g("Align table to the right");return s.uiLanguageDirection==="rtl"?{right:G,center:R,left:L}:{left:L,center:R,right:G}}}function No(O){return O!=="none"}const fr={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class Uo extends p.Plugin{static get requires(){return[$t.ContextualBalloon]}static get pluginName(){return"TablePropertiesUI"}constructor(s){super(s),this.view=null,s.config.define("table.tableProperties",{borderColors:Xe,backgroundColors:Xe})}init(){const s=this.editor,g=s.t;this._defaultTableProperties=Po(s.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=s.plugins.get($t.ContextualBalloon),s.ui.componentFactory.add("tableProperties",L=>{const R=new $t.ButtonView(L);R.set({label:g("Table properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>',tooltip:!0}),this.listenTo(R,"execute",()=>this._showView());const G=Object.values(fr).map(ne=>s.commands.get(ne));return R.bind("isEnabled").toMany(G,"isEnabled",(...ne)=>ne.some(we=>we)),R})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const s=this.editor,g=s.config.get("table.tableProperties"),L=(0,$t.normalizeColorOptions)(g.borderColors),R=(0,$t.getLocalizedColorOptions)(s.locale,L),G=(0,$t.normalizeColorOptions)(g.backgroundColors),ne=(0,$t.getLocalizedColorOptions)(s.locale,G),we=g.colorPicker!==!1,fe=new Dt(s.locale,{borderColors:R,backgroundColors:ne,defaultTableProperties:this._defaultTableProperties,colorPickerConfig:!!we&&(g.colorPicker||{})}),Pe=s.t;fe.render(),this.listenTo(fe,"submit",()=>{this._hideView()}),this.listenTo(fe,"cancel",()=>{this._undoStepBatch.operations.length&&s.execute("undo",this._undoStepBatch),this._hideView()}),fe.keystrokes.set("Esc",(kt,Bt)=>{this._hideView(),Bt()}),(0,$t.clickOutsideHandler)({emitter:fe,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const He=ro(Pe),ct=Ht(Pe);return fe.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),fe.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:fe.borderColorInput,commandName:"tableBorderColor",errorText:He,validator:K})),fe.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:fe.borderWidthInput,commandName:"tableBorderWidth",errorText:ct,validator:Ue})),fe.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:fe.backgroundInput,commandName:"tableBackgroundColor",errorText:He,validator:K})),fe.on("change:width",this._getValidatedPropertyChangeCallback({viewField:fe.widthInput,commandName:"tableWidth",errorText:ct,validator:Ae})),fe.on("change:height",this._getValidatedPropertyChangeCallback({viewField:fe.heightInput,commandName:"tableHeight",errorText:ct,validator:Ae})),fe.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),fe}_fillViewFormFromCommandValues(){const s=this.editor.commands,g=s.get("tableBorderStyle");Object.entries(fr).map(([L,R])=>{const G=L,ne=this._defaultTableProperties[G]||"";return[G,s.get(R).value||ne]}).forEach(([L,R])=>{(L!=="borderColor"&&L!=="borderWidth"||g.value!=="none")&&this.view.set(L,R)}),this._isReady=!0}_showView(){const s=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(s.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:qo(s)}),this._undoStepBatch=s.model.createBatch(),this.view.focus()}_hideView(){const s=this.editor;this.stopListening(s.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const s=this.editor;on(s.editing.view.document.selection)?this._isViewVisible&&fo(s,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(s){return(g,L,R)=>{this._isReady&&this.editor.execute(s,{value:R,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(s){const{commandName:g,viewField:L,validator:R,errorText:G}=s,ne=sn(()=>{L.errorText=G},500);return(we,fe,Pe)=>{ne.cancel(),this._isReady&&(R(Pe)?(this.editor.execute(g,{value:Pe,batch:this._undoStepBatch}),L.errorText=null):ne())}}}class br extends p.Plugin{static get pluginName(){return"TableProperties"}static get requires(){return[nn,Uo]}}function wr(O){O.document.registerPostFixer(s=>function(g,L){const R=L.document.differ.getChanges();let G=!1;for(const ne of R){if(ne.type!="insert")continue;const we=ne.position.parent;if(we.is("element","table")||ne.name=="table"){const fe=ne.name=="table"?ne.position.nodeAfter:we,Pe=Array.from(fe.getChildren()).filter(ct=>ct.is("element","caption")),He=Pe.shift();if(!He)continue;for(const ct of Pe)g.move(g.createRangeIn(ct),He,"end"),g.remove(ct);He.nextSibling&&(g.move(g.createRangeOn(He),fe,"end"),G=!0),G=!!Pe.length||G}}return G}(s,O))}function rr(O){return!!O&&O.is("element","table")}function So(O){for(const s of O.getChildren())if(s.is("element","caption"))return s;return null}function Pr(O){const s=O.parent;return O.name=="figcaption"&&s&&s.is("element","figure")&&s.hasClass("table")||O.name=="caption"&&s&&s.is("element","table")?{name:!0}:null}class sr extends p.Command{refresh(){const s=te(this.editor.model.document.selection);this.isEnabled=!!s,this.isEnabled?this.value=!!So(s):this.value=!1}execute({focusCaptionOnShow:s=!1}={}){this.editor.model.change(g=>{this.value?this._hideTableCaption(g):this._showTableCaption(g,s)})}_showTableCaption(s,g){const L=this.editor.model,R=te(L.document.selection),G=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(R)||s.createElement("caption");L.insertContent(G,R,"end"),g&&s.setSelection(G,"in")}_hideTableCaption(s){const g=this.editor.model,L=te(g.document.selection),R=this.editor.plugins.get("TableCaptionEditing"),G=So(L);R._saveCaption(L,G),g.deleteContent(s.createSelection(G,"on"))}}class ar extends p.Plugin{static get pluginName(){return"TableCaptionEditing"}constructor(s){super(s),this._savedCaptionsMap=new WeakMap}init(){const s=this.editor,g=s.model.schema,L=s.editing.view,R=s.t;g.isRegistered("caption")?g.extend("caption",{allowIn:"table"}):g.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),s.commands.add("toggleTableCaption",new sr(this.editor)),s.conversion.for("upcast").elementToElement({view:Pr,model:"caption"}),s.conversion.for("dataDowncast").elementToElement({model:"caption",view:(G,{writer:ne})=>rr(G.parent)?ne.createContainerElement("figcaption"):null}),s.conversion.for("editingDowncast").elementToElement({model:"caption",view:(G,{writer:ne})=>{if(!rr(G.parent))return null;const we=ne.createEditableElement("figcaption");return ne.setCustomProperty("tableCaption",!0,we),we.placeholder=R("Enter table caption"),(0,Ke.enablePlaceholder)({view:L,element:we,keepOnFocus:!0}),(0,_.toWidgetEditable)(we,ne)}}),wr(s.model)}_getSavedCaption(s){const g=this._savedCaptionsMap.get(s);return g?Ke.Element.fromJSON(g):null}_saveCaption(s,g){this._savedCaptionsMap.set(s,g.toJSON())}}class me extends p.Plugin{static get pluginName(){return"TableCaptionUI"}init(){const s=this.editor,g=s.editing.view,L=s.t;s.ui.componentFactory.add("toggleTableCaption",R=>{const G=s.commands.get("toggleTableCaption"),ne=new $t.ButtonView(R);return ne.set({icon:p.icons.caption,tooltip:!0,isToggleable:!0}),ne.bind("isOn","isEnabled").to(G,"value","isEnabled"),ne.bind("label").to(G,"value",we=>L(we?"Toggle caption off":"Toggle caption on")),this.listenTo(ne,"execute",()=>{if(s.execute("toggleTableCaption",{focusCaptionOnShow:!0}),G.value){const we=function(Pe){const He=te(Pe);return He?So(He):null}(s.model.document.selection),fe=s.editing.mapper.toViewElement(we);if(!fe)return;g.scrollToTheSelection(),g.change(Pe=>{Pe.addClass("table__caption_highlighted",fe)})}s.editing.view.focus()}),ne})}}var ge=M(966),qe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(ge.Z,qe),ge.Z.locals;class At extends p.Plugin{static get pluginName(){return"TableCaption"}static get requires(){return[ar,me]}}const li=function(){this.__data__=[],this.size=0},_i=function(O,s){return O===s||O!=O&&s!=s},Ai=function(O,s){for(var g=O.length;g--;)if(_i(O[g][0],s))return g;return-1};var Si=Array.prototype.splice;const Yi=function(O){var s=this.__data__,g=Ai(s,O);return!(g<0)&&(g==s.length-1?s.pop():Si.call(s,g,1),--this.size,!0)},qi=function(O){var s=this.__data__,g=Ai(s,O);return g<0?void 0:s[g][1]},ao=function(O){return Ai(this.__data__,O)>-1},$n=function(O,s){var g=this.__data__,L=Ai(g,O);return L<0?(++this.size,g.push([O,s])):g[L][1]=s,this};function cn(O){var s=-1,g=O==null?0:O.length;for(this.clear();++s<g;){var L=O[s];this.set(L[0],L[1])}}cn.prototype.clear=li,cn.prototype.delete=Yi,cn.prototype.get=qi,cn.prototype.has=ao,cn.prototype.set=$n;const lo=cn,Oo=function(){this.__data__=new lo,this.size=0},eo=function(O){var s=this.__data__,g=s.delete(O);return this.size=s.size,g},vn=function(O){return this.__data__.get(O)},to=function(O){return this.__data__.has(O)},An=function(O){if(!Rn(O))return!1;var s=Ye(O);return s=="[object Function]"||s=="[object GeneratorFunction]"||s=="[object AsyncFunction]"||s=="[object Proxy]"},Gn=Nn["__core-js_shared__"];var vo,kr=(vo=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||""))?"Symbol(src)_1."+vo:"";const Lr=function(O){return!!kr&&kr in O};var Or=Function.prototype.toString;const go=function(O){if(O!=null){try{return Or.call(O)}catch{}try{return O+""}catch{}}return""};var vr=/^\[object .+?Constructor\]$/,Mr=Function.prototype,Ui=Object.prototype,fn=Mr.toString,Xi=Ui.hasOwnProperty,io=RegExp("^"+fn.call(Xi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Mo=function(O){return!(!Rn(O)||Lr(O))&&(An(O)?io:vr).test(go(O))},Eo=function(O,s){return O?.[s]},Bn=function(O,s){var g=Eo(O,s);return Mo(g)?g:void 0},Zn=Bn(Nn,"Map"),_n=Bn(Object,"create"),_o=function(){this.__data__=_n?_n(null):{},this.size=0},no=function(O){var s=this.has(O)&&delete this.__data__[O];return this.size-=s?1:0,s};var Tn=Object.prototype.hasOwnProperty;const Dn=function(O){var s=this.__data__;if(_n){var g=s[O];return g==="__lodash_hash_undefined__"?void 0:g}return Tn.call(s,O)?s[O]:void 0};var Wo=Object.prototype.hasOwnProperty;const Yr=function(O){var s=this.__data__;return _n?s[O]!==void 0:Wo.call(s,O)},Qr=function(O,s){var g=this.__data__;return this.size+=this.has(O)?0:1,g[O]=_n&&s===void 0?"__lodash_hash_undefined__":s,this};function lr(O){var s=-1,g=O==null?0:O.length;for(this.clear();++s<g;){var L=O[s];this.set(L[0],L[1])}}lr.prototype.clear=_o,lr.prototype.delete=no,lr.prototype.get=Dn,lr.prototype.has=Yr,lr.prototype.set=Qr;const Rr=lr,Fr=function(){this.size=0,this.__data__={hash:new Rr,map:new(Zn||lo),string:new Rr}},Hr=function(O){var s=typeof O;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?O!=="__proto__":O===null},cr=function(O,s){var g=O.__data__;return Hr(s)?g[typeof s=="string"?"string":"hash"]:g.map},Ur=function(O){var s=cr(this,O).delete(O);return this.size-=s?1:0,s},Wr=function(O){return cr(this,O).get(O)},ms=function(O){return cr(this,O).has(O)},jr=function(O,s){var g=cr(this,O),L=g.size;return g.set(O,s),this.size+=g.size==L?0:1,this};function Bo(O){var s=-1,g=O==null?0:O.length;for(this.clear();++s<g;){var L=O[s];this.set(L[0],L[1])}}Bo.prototype.clear=Fr,Bo.prototype.delete=Ur,Bo.prototype.get=Wr,Bo.prototype.has=ms,Bo.prototype.set=jr;const $r=Bo,gs=function(O,s){var g=this.__data__;if(g instanceof lo){var L=g.__data__;if(!Zn||L.length<199)return L.push([O,s]),this.size=++g.size,this;g=this.__data__=new $r(L)}return g.set(O,s),this.size=g.size,this};function Ro(O){var s=this.__data__=new lo(O);this.size=s.size}Ro.prototype.clear=Oo,Ro.prototype.delete=eo,Ro.prototype.get=vn,Ro.prototype.has=to,Ro.prototype.set=gs;const dr=Ro,Jr=function(O){return this.__data__.set(O,"__lodash_hash_undefined__"),this},ps=function(O){return this.__data__.has(O)};function Io(O){var s=-1,g=O==null?0:O.length;for(this.__data__=new $r;++s<g;)this.add(O[s])}Io.prototype.add=Io.prototype.push=Jr,Io.prototype.has=ps;const Xr=Io,fs=function(O,s){for(var g=-1,L=O==null?0:O.length;++g<L;)if(s(O[g],g,O))return!0;return!1},bs=function(O,s){return O.has(s)},Zr=function(O,s,g,L,R,G){var ne=1&g,we=O.length,fe=s.length;if(we!=fe&&!(ne&&fe>we))return!1;var Pe=G.get(O),He=G.get(s);if(Pe&&He)return Pe==s&&He==O;var ct=-1,kt=!0,Bt=2&g?new Xr:void 0;for(G.set(O,s),G.set(s,O);++ct<we;){var Kt=O[ct],Zt=s[ct];if(L)var ei=ne?L(Zt,Kt,ct,s,O,G):L(Kt,Zt,ct,O,s,G);if(ei!==void 0){if(ei)continue;kt=!1;break}if(Bt){if(!fs(s,function(pi,xi){if(!bs(Bt,xi)&&(Kt===pi||R(Kt,pi,g,L,G)))return Bt.push(xi)})){kt=!1;break}}else if(Kt!==Zt&&!R(Kt,Zt,g,L,G)){kt=!1;break}}return G.delete(O),G.delete(s),kt},es=Nn.Uint8Array,ws=function(O){var s=-1,g=Array(O.size);return O.forEach(function(L,R){g[++s]=[R,L]}),g},ts=function(O){var s=-1,g=Array(O.size);return O.forEach(function(L){g[++s]=L}),g};var is=I?I.prototype:void 0,qr=is?is.valueOf:void 0;const Yo=function(O,s,g,L,R,G,ne){switch(g){case"[object DataView]":if(O.byteLength!=s.byteLength||O.byteOffset!=s.byteOffset)return!1;O=O.buffer,s=s.buffer;case"[object ArrayBuffer]":return!(O.byteLength!=s.byteLength||!G(new es(O),new es(s)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _i(+O,+s);case"[object Error]":return O.name==s.name&&O.message==s.message;case"[object RegExp]":case"[object String]":return O==s+"";case"[object Map]":var we=ws;case"[object Set]":var fe=1&L;if(we||(we=ts),O.size!=s.size&&!fe)return!1;var Pe=ne.get(O);if(Pe)return Pe==s;L|=2,ne.set(O,s);var He=Zr(we(O),we(s),L,R,G,ne);return ne.delete(O),He;case"[object Symbol]":if(qr)return qr.call(O)==qr.call(s)}return!1},ks=function(O,s){for(var g=-1,L=s.length,R=O.length;++g<L;)O[R+g]=s[g];return O},_r=Array.isArray,ns=function(O,s,g){var L=s(O);return _r(O)?L:ks(L,g(O))},os=function(O,s){for(var g=-1,L=O==null?0:O.length,R=0,G=[];++g<L;){var ne=O[g];s(ne,g,O)&&(G[R++]=ne)}return G},vs=function(){return[]};var _s=Object.prototype.propertyIsEnumerable,Kr=Object.getOwnPropertySymbols;const ys=Kr?function(O){return O==null?[]:(O=Object(O),os(Kr(O),function(s){return _s.call(O,s)}))}:vs,U=function(O,s){for(var g=-1,L=Array(O);++g<O;)L[g]=s(g);return L},r=function(O){return pt(O)&&Ye(O)=="[object Arguments]"};var w=Object.prototype,F=w.hasOwnProperty,le=w.propertyIsEnumerable;const Me=r(function(){return arguments}())?r:function(O){return pt(O)&&F.call(O,"callee")&&!le.call(O,"callee")},Fe=function(){return!1};var it=wt&&!wt.nodeType&&wt,Rt=it&&!0&&Gt&&!Gt.nodeType&&Gt,fi=Rt&&Rt.exports===it?Nn.Buffer:void 0;const zi=(fi?fi.isBuffer:void 0)||Fe;var bn=/^(?:0|[1-9]\d*)$/;const Qo=function(O,s){var g=typeof O;return!!(s=s??9007199254740991)&&(g=="number"||g!="symbol"&&bn.test(O))&&O>-1&&O%1==0&&O<s},yr=function(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=9007199254740991};var gn={};gn["[object Float32Array]"]=gn["[object Float64Array]"]=gn["[object Int8Array]"]=gn["[object Int16Array]"]=gn["[object Int32Array]"]=gn["[object Uint8Array]"]=gn["[object Uint8ClampedArray]"]=gn["[object Uint16Array]"]=gn["[object Uint32Array]"]=!0,gn["[object Arguments]"]=gn["[object Array]"]=gn["[object ArrayBuffer]"]=gn["[object Boolean]"]=gn["[object DataView]"]=gn["[object Date]"]=gn["[object Error]"]=gn["[object Function]"]=gn["[object Map]"]=gn["[object Number]"]=gn["[object Object]"]=gn["[object RegExp]"]=gn["[object Set]"]=gn["[object String]"]=gn["[object WeakMap]"]=!1;const Gr=function(O){return pt(O)&&yr(O.length)&&!!gn[Ye(O)]},Rs=function(O){return function(s){return O(s)}};var dn=wt&&!wt.nodeType&&wt,On=dn&&!0&&Gt&&!Gt.nodeType&&Gt,pn=On&&On.exports===dn&&mo.process,En=function(){try{var O=On&&On.require&&On.require("util").types;return O||pn&&pn.binding&&pn.binding("util")}catch{}}(),co=En&&En.isTypedArray;const xs=co?Rs(co):Gr;var jn=Object.prototype.hasOwnProperty;const Hn=function(O,s){var g=_r(O),L=!g&&Me(O),R=!g&&!L&&zi(O),G=!g&&!L&&!R&&xs(O),ne=g||L||R||G,we=ne?U(O.length,String):[],fe=we.length;for(var Pe in O)!s&&!jn.call(O,Pe)||ne&&(Pe=="length"||R&&(Pe=="offset"||Pe=="parent")||G&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||Qo(Pe,fe))||we.push(Pe);return we};var po=Object.prototype;const $o=function(O){var s=O&&O.constructor;return O===(typeof s=="function"&&s.prototype||po)},Do=function(O,s){return function(g){return O(s(g))}}(Object.keys,Object);var jo=Object.prototype.hasOwnProperty;const js=function(O){if(!$o(O))return Do(O);var s=[];for(var g in Object(O))jo.call(O,g)&&g!="constructor"&&s.push(g);return s},Cs=function(O){return O!=null&&yr(O.length)&&!An(O)},un=function(O){return Cs(O)?Hn(O):js(O)},Vs=function(O){return ns(O,un,ys)};var Ns=Object.prototype.hasOwnProperty;const Gs=function(O,s,g,L,R,G){var ne=1&g,we=Vs(O),fe=we.length;if(fe!=Vs(s).length&&!ne)return!1;for(var Pe=fe;Pe--;){var He=we[Pe];if(!(ne?He in s:Ns.call(s,He)))return!1}var ct=G.get(O),kt=G.get(s);if(ct&&kt)return ct==s&&kt==O;var Bt=!0;G.set(O,s),G.set(s,O);for(var Kt=ne;++Pe<fe;){var Zt=O[He=we[Pe]],ei=s[He];if(L)var pi=ne?L(ei,Zt,He,s,O,G):L(Zt,ei,He,O,s,G);if(!(pi===void 0?Zt===ei||R(Zt,ei,g,L,G):pi)){Bt=!1;break}Kt||(Kt=He=="constructor")}if(Bt&&!Kt){var xi=O.constructor,Bi=s.constructor;xi==Bi||!("constructor"in O)||!("constructor"in s)||typeof xi=="function"&&xi instanceof xi&&typeof Bi=="function"&&Bi instanceof Bi||(Bt=!1)}return G.delete(O),G.delete(s),Bt},Ts=Bn(Nn,"DataView"),rs=Bn(Nn,"Promise"),ss=Bn(Nn,"Set"),as=Bn(Nn,"WeakMap");var As="[object Map]",xr="[object Promise]",uo="[object Set]",Bs="[object WeakMap]",Ds="[object DataView]",Vr=go(Ts),Ys=go(Zn),Qs=go(rs),Js=go(ss),zs=go(as),Cr=Ye;(Ts&&Cr(new Ts(new ArrayBuffer(1)))!=Ds||Zn&&Cr(new Zn)!=As||rs&&Cr(rs.resolve())!=xr||ss&&Cr(new ss)!=uo||as&&Cr(new as)!=Bs)&&(Cr=function(O){var s=Ye(O),g=s=="[object Object]"?O.constructor:void 0,L=g?go(g):"";if(L)switch(L){case Vr:return Ds;case Ys:return As;case Qs:return xr;case Js:return uo;case zs:return Bs}return s});const Fs=Cr;var Ss="[object Arguments]",Es="[object Array]",ls="[object Object]",Is=Object.prototype.hasOwnProperty;const Xs=function(O,s,g,L,R,G){var ne=_r(O),we=_r(s),fe=ne?Es:Fs(O),Pe=we?Es:Fs(s),He=(fe=fe==Ss?ls:fe)==ls,ct=(Pe=Pe==Ss?ls:Pe)==ls,kt=fe==Pe;if(kt&&zi(O)){if(!zi(s))return!1;ne=!0,He=!1}if(kt&&!He)return G||(G=new dr),ne||xs(O)?Zr(O,s,g,L,R,G):Yo(O,s,fe,g,L,R,G);if(!(1&g)){var Bt=He&&Is.call(O,"__wrapped__"),Kt=ct&&Is.call(s,"__wrapped__");if(Bt||Kt){var Zt=Bt?O.value():O,ei=Kt?s.value():s;return G||(G=new dr),R(Zt,ei,g,L,G)}}return!!kt&&(G||(G=new dr),Gs(O,s,g,L,R,G))},ea=function O(s,g,L,R,G){return s===g||(s==null||g==null||!pt(s)&&!pt(g)?s!=s&&g!=g:Xs(s,g,L,R,O,G))},Ps=function(O,s){return ea(O,s)},cs=function(O,s,g){var L=!0,R=!0;if(typeof O!="function")throw new TypeError("Expected a function");return Rn(g)&&(L="leading"in g?!!g.leading:L,R="trailing"in g?!!g.trailing:R),sn(O,s,{leading:L,maxWait:s,trailing:R})};class ta extends p.Command{refresh(){this.isEnabled=!0}execute(s={}){const{model:g,plugins:L}=this.editor;let{table:R=g.document.selection.getSelectedElement(),columnWidths:G,tableWidth:ne}=s;G&&(G=Array.isArray(G)?G:G.split(",")),g.change(we=>{ne?we.setAttribute("tableWidth",ne,R):we.removeAttribute("tableWidth",R);const fe=L.get("TableColumnResizeEditing").getColumnGroupElement(R);if(!G&&!fe)return;if(!G)return we.remove(fe);const Pe=Ft(G);if(fe)Array.from(fe.getChildren()).forEach((He,ct)=>we.setAttribute("columnWidth",Pe[ct],He));else{const He=we.createElement("tableColumnGroup");Pe.forEach(ct=>we.appendElement("tableColumn",{columnWidth:ct},He)),we.append(He,R)}})}}function ia(O){return s=>s.on("element:colgroup",(g,L,R)=>{const G=L.modelCursor.findAncestor("table"),ne=Nt(G);if(!ne)return;const we=ti(ne),fe=O.getColumns(G);let Pe=(He=ne,ct=R.writer,ti(He).reduce((kt,Bt)=>{const Kt=Bt.getAttribute("columnWidth"),Zt=Bt.getAttribute("colSpan");if(!Zt)return kt.push(Kt),kt;for(let ei=0;ei<Zt;ei++)kt.push(Kt);return ct.removeAttribute("colSpan",Bt),kt},[]));var He,ct;Pe=Array.from({length:fe},(kt,Bt)=>Pe[Bt]||"auto"),(Pe.length!=we.length||Pe.includes("auto"))&&ui(we,ne,Ft(Pe),R.writer)},{priority:"low"})}class Hs extends p.Plugin{static get requires(){return[Mi,hi]}static get pluginName(){return"TableColumnResizeEditing"}constructor(s){super(s),this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new((0,oe.DomEmitterMixin)()),this._tableUtilsPlugin=s.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",(g,L,R)=>{const G=R?"removeClass":"addClass";s.editing.view.change(ne=>{for(const we of s.editing.view.document.roots)ne[G]("ck-column-resize_disabled",s.editing.view.document.getRoot(we.rootName))})})}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const s=this.editor,g=s.plugins.get("TableColumnResize");s.plugins.get("TableEditing").registerAdditionalSlot({filter:R=>R.is("element","tableColumnGroup"),positionOffset:0});const L=new ta(s);s.commands.add("resizeTableWidth",L),s.commands.add("resizeColumnWidths",L),this.bind("_isResizingAllowed").to(s,"isReadOnly",g,"isEnabled",L,"isEnabled",(R,G,ne)=>!R&&G&&ne)}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(s){return Nt(s)}getTableColumnElements(s){return ti(s)}getTableColumnsWidths(s){return function(g){return ti(g).map(L=>L.getAttribute("columnWidth"))}(s)}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth"]}),this.editor.model.schema.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),this.editor.model.schema.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth","colSpan"],isLimit:!0})}_registerPostFixer(){const s=this.editor.model;function g(L,R,G){const ne=G._tableUtilsPlugin.getColumns(R);if(ne-L.length===0)return L;const we=L.map(He=>Number(He.replace("%",""))),fe=function(He,ct){const kt=new Set;for(const Bt of He.getChanges())if(Bt.type=="insert"&&Bt.position.nodeAfter&&Bt.position.nodeAfter.name=="tableCell"&&Bt.position.nodeAfter.getAncestors().includes(ct))kt.add(Bt.position.nodeAfter);else if(Bt.type=="remove"){const Kt=Bt.position.nodeBefore||Bt.position.nodeAfter;Kt.name=="tableCell"&&Kt.getAncestors().includes(ct)&&kt.add(Kt)}return kt}(G.editor.model.document.differ,R);for(const He of fe){const ct=ne-we.length;if(ct===0)continue;const kt=ct>0,Bt=G._tableUtilsPlugin.getCellLocation(He).column;if(kt){const Kt=Oe(R,G.editor),Zt=(Pe=Kt,Array(ct).fill(Pe));we.splice(Bt,0,...Zt)}else{const Kt=we.splice(Bt,Math.abs(ct));we[Bt]+=Lt(Kt)}}var Pe;return we.map(He=>He+"%")}s.document.registerPostFixer(L=>{let R=!1;for(const G of function(ne){const we=new Set;for(const fe of ne.document.differ.getChanges()){let Pe=null;switch(fe.type){case"insert":Pe=["table","tableRow","tableCell"].includes(fe.name)?fe.position:null;break;case"remove":Pe=["tableRow","tableCell"].includes(fe.name)?fe.position:null;break;case"attribute":fe.range.start.nodeAfter&&(Pe=["table","tableRow","tableCell"].includes(fe.range.start.nodeAfter.name)?fe.range.start:null)}if(!Pe)continue;const He=Pe.nodeAfter&&Pe.nodeAfter.is("element","table")?Pe.nodeAfter:Pe.findAncestor("table");for(const ct of ne.createRangeOn(He).getItems())ct.is("element","table")&&Nt(ct)&&we.add(ct)}return we}(s)){const ne=this.getColumnGroupElement(G),we=this.getTableColumnElements(ne),fe=this.getTableColumnsWidths(ne);let Pe=Ft(fe);Pe=g(Pe,G,this),Ps(fe,Pe)||(ui(we,ne,Pe,L),R=!0)}return R})}_registerConverters(){const s=this.editor.conversion;s.for("upcast").attributeToAttribute({view:{name:"figure",key:"style",value:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:g=>g.getStyle("width")}}),s.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:g=>({name:"figure",key:"style",value:{width:g}})}),s.elementToElement({model:"tableColumnGroup",view:"colgroup"}),s.elementToElement({model:"tableColumn",view:"col"}),s.for("downcast").add(g=>g.on("insert:table",(L,R,G)=>{const ne=G.writer,we=R.item,fe=G.mapper.toViewElement(we),Pe=fe.is("element","table")?fe:Array.from(fe.getChildren()).find(He=>He.is("element","table"));Nt(we)?ne.addClass("ck-table-resized",Pe):ne.removeClass("ck-table-resized",Pe)},{priority:"low"})),s.for("upcast").add(ia(this._tableUtilsPlugin)),s.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:g=>{const L=g.getStyle("width");return L&&(L.endsWith("%")||L.endsWith("pt"))?L:"auto"}}}),s.for("upcast").attributeToAttribute({view:{name:"col",key:"span"},model:"colSpan"}),s.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:g=>({key:"style",value:{width:g}})})}_registerResizingListeners(){const s=this.editor.editing.view;s.addObserver(xt),s.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(oe.global.window.document,"mousemove",cs(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(oe.global.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_onMouseDownHandler(s,g){const L=g.target;if(!L.hasClass("ck-table-column-resizer")||!this._isResizingAllowed)return;const R=this.editor,G=R.editing.mapper.toModelElement(L.findAncestor("figure"));if(!R.model.canEditAt(G))return;g.preventDefault(),s.stop();const ne=function(Pe,He,ct){const kt=Array(He.getColumns(Pe)),Bt=new f(Pe);for(const Kt of Bt){const Zt=ct.editing.mapper.toViewElement(Kt.cell),ei=Yt(ct.editing.view.domConverter.mapViewToDom(Zt));(!kt[Kt.column]||ei<kt[Kt.column])&&(kt[Kt.column]=st(ei))}return kt}(G,this._tableUtilsPlugin,R),we=L.findAncestor("table"),fe=R.editing.view;Array.from(we.getChildren()).find(Pe=>Pe.is("element","colgroup"))||fe.change(Pe=>{(function(He,ct,kt){const Bt=He.createContainerElement("colgroup");for(let Kt=0;Kt<ct.length;Kt++){const Zt=He.createEmptyElement("col"),ei=`${st(ct[Kt]/Lt(ct)*100)}%`;He.setStyle("width",ei,Zt),He.insert(He.createPositionAt(Bt,"end"),Zt)}He.insert(He.createPositionAt(kt,0),Bt)})(Pe,ne,we)}),this._isResizingActive=!0,this._resizingData=this._getResizingData(g,ne),fe.change(Pe=>function(He,ct,kt){const Bt=kt.widths.viewFigureWidth/kt.widths.viewFigureParentWidth;He.addClass("ck-table-resized",ct),He.addClass("ck-table-column-resizer__active",kt.elements.viewResizer),He.setStyle("width",`${st(100*Bt)}%`,ct.findAncestor("figure"))}(Pe,we,this._resizingData))}_onMouseMoveHandler(s,g){if(!this._isResizingActive)return;if(!this._isResizingAllowed)return void this._onMouseUpHandler();const{columnPosition:L,flags:{isRightEdge:R,isTableCentered:G,isLtrContent:ne},elements:{viewFigure:we,viewLeftColumn:fe,viewRightColumn:Pe},widths:{viewFigureParentWidth:He,tableWidth:ct,leftColumnWidth:kt,rightColumnWidth:Bt}}=this._resizingData,Kt=40-kt,Zt=R?He-ct:Bt-40,ei=(ne?1:-1)*(R&&G?2:1),pi=(xi=(g.clientX-L)*ei,Bi=Math.min(Kt,0),en=Math.max(Zt,0),st(xi<=Bi?Bi:xi>=en?en:xi));var xi,Bi,en;pi!==0&&this.editor.editing.view.change(Vn=>{const Un=st(100*(kt+pi)/ct);if(Vn.setStyle("width",`${Un}%`,fe),R){const yn=st(100*(ct+pi)/He);Vn.setStyle("width",`${yn}%`,we)}else{const yn=st(100*(Bt-pi)/ct);Vn.setStyle("width",`${yn}%`,Pe)}})}_onMouseUpHandler(){if(!this._isResizingActive)return;const{viewResizer:s,modelTable:g,viewFigure:L,viewColgroup:R}=this._resizingData.elements,G=this.editor,ne=G.editing.view,we=this.getColumnGroupElement(g),fe=Array.from(R.getChildren()).filter(Zt=>Zt.is("view:element")),Pe=we?this.getTableColumnsWidths(we):null,He=fe.map(Zt=>Zt.getStyle("width")),ct=!Ps(Pe,He),kt=g.getAttribute("tableWidth"),Bt=L.getStyle("width"),Kt=kt!==Bt;(ct||Kt)&&(this._isResizingAllowed?G.execute("resizeTableWidth",{table:g,tableWidth:`${st(Bt)}%`,columnWidths:He}):ne.change(Zt=>{if(Pe)for(const ei of fe)Zt.setStyle("width",Pe.shift(),ei);else Zt.remove(R);Kt&&(kt?Zt.setStyle("width",kt,L):Zt.removeStyle("width",L)),Pe||kt||Zt.removeClass("ck-table-resized",[...L.getChildren()].find(ei=>ei.name==="table"))})),ne.change(Zt=>{Zt.removeClass("ck-table-column-resizer__active",s)}),this._isResizingActive=!1,this._resizingData=null}_getResizingData(s,g){const L=this.editor,R=s.domEvent.clientX,G=s.target,ne=G.findAncestor("td")||G.findAncestor("th"),we=L.editing.mapper.toModelElement(ne),fe=we.findAncestor("table"),Pe=function(xi,Bi){const en=Bi.getCellLocation(xi).column;return{leftEdge:en,rightEdge:en+(xi.getAttribute("colspan")||1)-1}}(we,this._tableUtilsPlugin).rightEdge,He=Pe===this._tableUtilsPlugin.getColumns(fe)-1,ct=!fe.hasAttribute("tableAlignment"),kt=L.locale.contentLanguageDirection!=="rtl",Bt=ne.findAncestor("table"),Kt=Bt.findAncestor("figure"),Zt=[...Bt.getChildren()].find(xi=>xi.is("element","colgroup")),ei=Zt.getChild(Pe),pi=He?void 0:Zt.getChild(Pe+1);return{columnPosition:R,flags:{isRightEdge:He,isTableCentered:ct,isLtrContent:kt},elements:{viewResizer:G,modelTable:fe,viewFigure:Kt,viewColgroup:Zt,viewLeftColumn:ei,viewRightColumn:pi},widths:{viewFigureParentWidth:tt(L.editing.view.domConverter.mapViewToDom(Kt.parent)),viewFigureWidth:tt(L.editing.view.domConverter.mapViewToDom(Kt)),tableWidth:Je(fe,L),leftColumnWidth:g[Pe],rightColumnWidth:He?void 0:g[Pe+1]}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add(s=>{s.on("insert:tableCell",(g,L,R)=>{const G=L.item,ne=R.mapper.toViewElement(G),we=R.writer;we.insert(we.createPositionAt(ne,"end"),we.createUIElement("div",{class:"ck-table-column-resizer"}))},{priority:"lowest"})})}}var Ls=M(387),na={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(Ls.Z,na),Ls.Z.locals;class oa extends p.Plugin{static get requires(){return[Hs,tr]}static get pluginName(){return"TableColumnResize"}}})(),(window.CKEditor5=window.CKEditor5||{}).table=S})()},53832:(Gt,wt,J)=>{(function(Et){const m=Et.en=Et.en||{};m.dictionary=Object.assign(m.dictionary||{},{"Characters: %0":"Characters: %0","Words: %0":"Words: %0"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Et={704:(p,_,l)=>{p.exports=l(79)("./src/core.js")},273:(p,_,l)=>{p.exports=l(79)("./src/ui.js")},209:(p,_,l)=>{p.exports=l(79)("./src/utils.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},m={};function M(p){var _=m[p];if(_!==void 0)return _.exports;var l=m[p]={exports:{}};return Et[p](l,l.exports,M),l.exports}M.d=(p,_)=>{for(var l in _)M.o(_,l)&&!M.o(p,l)&&Object.defineProperty(p,l,{enumerable:!0,get:_[l]})},M.o=(p,_)=>Object.prototype.hasOwnProperty.call(p,_),M.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var S={};(()=>{"use strict";M.r(S),M.d(S,{WordCount:()=>Te});var p=M(704),_=M(273),l=M(209);function c(Q){if(Q.is("$text")||Q.is("$textProxy"))return Q.data;const xe=Q;let Oe="",Je=null;for(const Ze of xe.getChildren()){const tt=c(Ze);Je&&Je.is("element")&&(Oe+=`
`),Oe+=tt,Je=Ze}return Oe}const P=function(Q){var xe=typeof Q;return Q!=null&&(xe=="object"||xe=="function")},B=typeof J.g=="object"&&J.g&&J.g.Object===Object&&J.g;var x=typeof self=="object"&&self&&self.Object===Object&&self;const h=B||x||Function("return this")(),j=function(){return h.Date.now()};var Z=/\s/;const Y=function(Q){for(var xe=Q.length;xe--&&Z.test(Q.charAt(xe)););return xe};var te=/^\s+/;const oe=function(Q){return Q&&Q.slice(0,Y(Q)+1).replace(te,"")},ie=h.Symbol;var u=Object.prototype,y=u.hasOwnProperty,f=u.toString,v=ie?ie.toStringTag:void 0;const A=function(Q){var xe=y.call(Q,v),Oe=Q[v];try{Q[v]=void 0;var Je=!0}catch{}var Ze=f.call(Q);return Je&&(xe?Q[v]=Oe:delete Q[v]),Ze};var T=Object.prototype.toString;const E=function(Q){return T.call(Q)};var ae=ie?ie.toStringTag:void 0;const q=function(Q){return Q==null?Q===void 0?"[object Undefined]":"[object Null]":ae&&ae in Object(Q)?A(Q):E(Q)},z=function(Q){return Q!=null&&typeof Q=="object"},b=function(Q){return typeof Q=="symbol"||z(Q)&&q(Q)=="[object Symbol]"};var V=/^[-+]0x[0-9a-f]+$/i,$=/^0b[01]+$/i,D=/^0o[0-7]+$/i,re=parseInt;const Ee=function(Q){if(typeof Q=="number")return Q;if(b(Q))return NaN;if(P(Q)){var xe=typeof Q.valueOf=="function"?Q.valueOf():Q;Q=P(xe)?xe+"":xe}if(typeof Q!="string")return Q===0?Q:+Q;Q=oe(Q);var Oe=$.test(Q);return Oe||D.test(Q)?re(Q.slice(2),Oe?2:8):V.test(Q)?NaN:+Q};var je=Math.max,Ie=Math.min;const De=function(Q,xe,Oe){var Je,Ze,tt,st,Lt,Ft,Yt=0,ui=!1,Nt=!1,ti=!0;if(typeof Q!="function")throw new TypeError("Expected a function");function hi(Pi){var $i=Je,at=Ze;return Je=Ze=void 0,Yt=Pi,st=Q.apply(at,$i)}function Ci(Pi){var $i=Pi-Ft;return Ft===void 0||$i>=xe||$i<0||Nt&&Pi-Yt>=tt}function Oi(){var Pi=j();if(Ci(Pi))return Di(Pi);Lt=setTimeout(Oi,function($i){var at=xe-($i-Ft);return Nt?Ie(at,tt-($i-Yt)):at}(Pi))}function Di(Pi){return Lt=void 0,ti&&Je?hi(Pi):(Je=Ze=void 0,st)}function Vi(){var Pi=j(),$i=Ci(Pi);if(Je=arguments,Ze=this,Ft=Pi,$i){if(Lt===void 0)return function(at){return Yt=at,Lt=setTimeout(Oi,xe),ui?hi(at):st}(Ft);if(Nt)return clearTimeout(Lt),Lt=setTimeout(Oi,xe),hi(Ft)}return Lt===void 0&&(Lt=setTimeout(Oi,xe)),st}return xe=Ee(xe)||0,P(Oe)&&(ui=!!Oe.leading,tt=(Nt="maxWait"in Oe)?je(Ee(Oe.maxWait)||0,xe):tt,ti="trailing"in Oe?!!Oe.trailing:ti),Vi.cancel=function(){Lt!==void 0&&clearTimeout(Lt),Yt=0,Je=Ft=Ze=Lt=void 0},Vi.flush=function(){return Lt===void 0?st:Di(j())},Vi},mt=function(Q,xe,Oe){var Je=!0,Ze=!0;if(typeof Q!="function")throw new TypeError("Expected a function");return P(Oe)&&(Je="leading"in Oe?!!Oe.leading:Je,Ze="trailing"in Oe?!!Oe.trailing:Ze),De(Q,xe,{leading:Je,maxWait:xe,trailing:Ze})},lt=function(Q,xe){return function(Oe){return Q(xe(Oe))}}(Object.getPrototypeOf,Object);var ut=Function.prototype,dt=Object.prototype,_t=ut.toString,bt=dt.hasOwnProperty,Qe=_t.call(Object);const ft=function(Q){if(!z(Q)||q(Q)!="[object Object]")return!1;var xe=lt(Q);if(xe===null)return!0;var Oe=bt.call(xe,"constructor")&&xe.constructor;return typeof Oe=="function"&&Oe instanceof Oe&&_t.call(Oe)==Qe},Ve=function(Q){return z(Q)&&Q.nodeType===1&&!ft(Q)};class Te extends p.Plugin{constructor(xe){super(xe),this.set("characters",0),this.set("words",0),Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters(this._getText())}},words:{get(){return this.words=this._getWords(this._getText())}}}),this.set("_wordsLabel",void 0),this.set("_charactersLabel",void 0),this._config=xe.config.get("wordCount")||{},this._outputView=void 0,this._wordsMatchRegExp=l.env.features.isRegExpUnicodePropertySupported?new RegExp("([\\p{L}\\p{N}]+\\S?)+","gu"):/([a-zA-Z0-9-]+\S?)+/gu}static get pluginName(){return"WordCount"}init(){this.editor.model.document.on("change:data",mt(this._refreshStats.bind(this),250)),typeof this._config.onUpdate=="function"&&this.on("update",(xe,Oe)=>{this._config.onUpdate(Oe)}),Ve(this._config.container)&&this._config.container.appendChild(this.wordCountContainer)}destroy(){this._outputView&&(this._outputView.element.remove(),this._outputView.destroy()),super.destroy()}get wordCountContainer(){const xe=this.editor,Oe=xe.t,Je=xe.config.get("wordCount.displayWords"),Ze=xe.config.get("wordCount.displayCharacters"),tt=_.Template.bind(this,this),st=[];return this._outputView||(this._outputView=new _.View,(Je||Je===void 0)&&(this.bind("_wordsLabel").to(this,"words",Lt=>Oe("Words: %0",Lt)),st.push({tag:"div",children:[{text:[tt.to("_wordsLabel")]}],attributes:{class:"ck-word-count__words"}})),(Ze||Ze===void 0)&&(this.bind("_charactersLabel").to(this,"characters",Lt=>Oe("Characters: %0",Lt)),st.push({tag:"div",children:[{text:[tt.to("_charactersLabel")]}],attributes:{class:"ck-word-count__characters"}})),this._outputView.setTemplate({tag:"div",attributes:{class:["ck","ck-word-count"]},children:st}),this._outputView.render()),this._outputView.element}_getText(){let xe="";for(const Oe of this.editor.model.document.getRoots())xe!==""&&(xe+=`
`),xe+=c(Oe);return xe}_getCharacters(xe){return xe.replace(/\n/g,"").length}_getWords(xe){return(xe.match(this._wordsMatchRegExp)||[]).length}_refreshStats(){const xe=this._getText(),Oe=this.words=this._getWords(xe),Je=this.characters=this._getCharacters(xe);this.fire("update",{words:Oe,characters:Je})}}})(),(window.CKEditor5=window.CKEditor5||{}).wordCount=S})()},78107:(Gt,wt,J)=>{"use strict";J.r(wt),J.d(wt,{default:()=>Je});var Et=J(74081),m=J(27279),M=J(61020),S=J(58892),p=J(66769),_=J(70627),l=J.n(_),c=J(19003);const P=(0,c.css)`
  .ck-word-count {
    display: flex;
    gap: 0.5rem;
    justify-content: flex-end;
    padding-block: 0.2rem;
    font-size: 0.875rem;
  }

  .ck-editor__main {
    --ck-font-face: "Source Sans Pro", system-ui, Roboto, "Helvetica Neue", "Helvetica", Arial, sans-serif;
    color: var(--ck-color-editor-base-text);
    font-family: var(--ck-font-face);

    * {
      font: revert;
      margin: revert;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 0.6em;
      font-weight: 400;
    }

    h2 {
      font-size: 1.68em;
      margin-bottom: 0.4em;
      font-weight: 400;
    }

    h3 {
      font-size: 1.36em;
      margin-bottom: 0.2em;
      font-weight: 400;
    }

    h4 {
      font-size: 1.15em;
      margin-bottom: 0.1em;
      font-weight: 400;
    }

    p {
      font-size: 1em;
      line-height: 1.6em;
      margin-bottom: 0.8em;
    }

    figcaption {
      background-color: var(--ck-color-image-caption-background);
      caption-side: bottom;
      color: var(--ck-color-image-caption-text);
      display: table-caption;
      font-size: .75em;
      outline-offset: -1px;
      padding: 0.6em;
      word-break: break-word;
    }

    blockquote {
    }

    .table {
      margin: 0;
    }

    ul.todo-list {
      list-style: none;
      margin: revert;
      color: revert;
      font-family: revert;
      margin-left: 2rem;
    }

    ul,
    ol {
      list-style: initial;
      margin-left: 2rem;
    }

    ol {
      list-style: decimal;
    }

    sub {
      vertical-align: sub
    }

    sup {
      vertical-align: super
    }

    // higher specificity needed
    .ck.ck-content.ck-editor__editable {
      line-height: initial;
      min-height: 12.5rem;
      border-bottom-left-radius: 0.25rem;
      border-bottom-right-radius: 0.25rem;

      // so it's more Strapi alike
      &.ck-focused:not(.ck-editor__nested-editable) {
        border: 1px solid rgb(73, 69, 255);
        box-shadow: rgb(73 69 255) 0 0 0 0.125rem;
        border-top-left-radius: 0.25rem;
        border-top-right-radius: 0.25rem;
        transition-property: border-color, box-shadow;
        transition-duration: 0.2s;
      }
    }
  }
`,B=(0,c.css)`
`,x=(0,c.css)`
  .ck {
    --ck-color-toolbar-background: rgb(24, 24, 38);
    --ck-color-text: rgb(165, 165, 186);
    --ck-color-editor-base-text: rgb(255, 255, 255);
    --ck-color-toolbar-border: rgb(74, 74, 106);
    --ck-color-base-border: rgb(74, 74, 106);
    --ck-color-base-background: rgb(33, 33, 52);
    --ck-color-button-default-background: rgb(33, 33, 52);
    --ck-color-list-button-hover-background: rgb(24, 24, 38);
    --ck-color-button-default-hover-background: rgb(33, 33, 52);
    --ck-color-button-on-background: rgb(33, 33, 52);
    --ck-color-button-on-hover-background: rgb(33, 33, 52);
    --ck-color-button-default-active-background: rgb(33, 33, 52);
  }
  .ck-word-count {
    color: rgb(165, 165, 186)
  }
`,h=Ze=>{let tt=null;switch(Ze){case"dark":tt=x;break;case"light":tt=B;break}return(0,c.createGlobalStyle)`
    ${P}
    ${tt}
  `};var j=J(72958),Z=J(96538),Y=J(98709),te=J(69711),oe=J(49614),ie=J(83948),u=J(16619),y=J(89716),f=J(25901),v=J(20397),A=J(32550),T=J(59576),E=J(35646),ae=J(34047),q=J(78982),z=J(54769),b=J(30047),V=J(84690),$=J(33055),D=J(32521),re=J(59540),Ee=J(54248),je=J(79549),Ie=J(53832),De=J(38036);const mt=window.CKEditor5.core.Plugin,lt=window.CKEditor5.ui.ButtonView,ut='<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.3.6a.9.9 0 100 1.8h15.311a.9.9 0 100-1.8H4.301zm17.1 3.7A1.6 1.6 0 0123 5.9v15.5a1.6 1.6 0 01-1.6 1.6H2.6A1.601 1.601 0 011 21.4V8 5.915C1 5.03 1.716 4.3 2.6 4.3h18.8zM5.032 19.18h14.336l-3.136-3.205-1.792 1.831-4.032-4.12-5.376 5.494zm13.44-8.697c0 1.282-.985 2.289-2.24 2.289-1.254 0-2.24-1.007-2.24-2.29 0-1.281.986-2.288 2.24-2.288 1.255 0 2.24 1.007 2.24 2.289z"></path></svg>';class dt extends mt{strapiToggle=null;static get pluginName(){return"strapiMediaLib"}init(){this.editor.ui.componentFactory.add("strapiMediaLib",()=>{const st=new lt;return st.set({label:"Media Library",icon:ut,tooltip:!0}),st.on("execute",this.toggle.bind(this)),st})}connect(tt){if(typeof tt!="function")throw new Error("Input parameter for toogle should be a function");this.strapiToggle=tt}toggle(){if(typeof this.strapiToggle!="function")throw new Error("Strapi media library toggle function not connected. Use connect function first");this.strapiToggle()}}const _t={light:{plugins:[window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.essentials.Essentials,window.CKEditor5.heading.Heading,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.indent.Indent,window.CKEditor5.link.Link,window.CKEditor5.list.List,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,dt],toolbar:["undo","redo","|","heading","|","bold","italic","|","link","strapiMediaLib","insertTable","|","bulletedList","numberedList"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","toggleTableCaption"]}},standard:{plugins:[window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.blockQuote.BlockQuote,window.CKEditor5.codeBlock.CodeBlock,window.CKEditor5.essentials.Essentials,window.CKEditor5.heading.Heading,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.indent.Indent,window.CKEditor5.link.Link,window.CKEditor5.link.LinkImage,window.CKEditor5.list.List,window.CKEditor5.mediaEmbed.MediaEmbed,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,dt],toolbar:["undo","redo","|","heading","|","bold","italic","|","link","strapiMediaLib","mediaEmbed","blockQuote","insertTable","codeBlock","|","bulletedList","numberedList","outdent","indent"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative","|","linkImage"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","toggleTableCaption"]}},rich:{plugins:[window.CKEditor5.alignment.Alignment,window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.basicStyles.Underline,window.CKEditor5.basicStyles.Strikethrough,window.CKEditor5.basicStyles.Code,window.CKEditor5.basicStyles.Subscript,window.CKEditor5.basicStyles.Superscript,window.CKEditor5.blockQuote.BlockQuote,window.CKEditor5.codeBlock.CodeBlock,window.CKEditor5.essentials.Essentials,window.CKEditor5.font.FontSize,window.CKEditor5.font.FontFamily,window.CKEditor5.font.FontColor,window.CKEditor5.font.FontBackgroundColor,window.CKEditor5.findAndReplace.FindAndReplace,window.CKEditor5.heading.Heading,window.CKEditor5.horizontalLine.HorizontalLine,window.CKEditor5.htmlEmbed.HtmlEmbed,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.image.ImageResize,window.CKEditor5.indent.Indent,window.CKEditor5.indent.IndentBlock,window.CKEditor5.link.Link,window.CKEditor5.link.LinkImage,window.CKEditor5.list.List,window.CKEditor5.list.ListProperties,window.CKEditor5.list.TodoList,window.CKEditor5.mediaEmbed.MediaEmbed,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.removeFormat.RemoveFormat,window.CKEditor5.specialCharacters.SpecialCharacters,window.CKEditor5.specialCharacters.SpecialCharactersEssentials,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableProperties,window.CKEditor5.table.TableCellProperties,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,window.CKEditor5.highlight.Highlight,dt],toolbar:{items:["undo","redo","|","findAndReplace","selectAll","|","heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","superscript","subscript","code","removeFormat","-","link","strapiMediaLib","mediaEmbed","insertTable","horizontalLine","blockQuote","codeBlock","htmlEmbed","specialCharacters","highlight","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},image:{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}],toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative","|","linkImage","|","resizeImage:25","resizeImage:50","resizeImage:75","resizeImage:original"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","tableCellProperties","tableProperties","|","toggleTableCaption"]},fontSize:{options:[9,11,13,"default",17,19,21,27,35],supportAllValues:!1},fontFamily:{options:["default","Arial, Helvetica Neue, Helvetica, Source Sans Pro, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif","Roboto, Roboto Black, Roboto Medium, Roboto Light, sans-serif"],supportAllValues:!0},fontColor:{columns:5,documentColors:10},fontBackgroundColor:{columns:5,documentColors:10}}};class bt{constructor(tt){this.fieldConfig=tt}getEditorConfig(){const tt=this._getBaseConfig(),st=this.fieldConfig.maxLength;return this.fieldConfig.options.output==="Markdown"&&tt.plugins.push(window.CKEditor5.markdownGfm.Markdown),st&&(tt.plugins.push(window.CKEditor5.maximumLength.MaximumLength),tt.maximumLength={characters:st}),tt}_getBaseConfig(){const tt=this.fieldConfig.options.preset;switch(tt){case"light":return _t.light;case"standard":return _t.standard;case"rich":return _t.rich;default:throw new Error("Invalid preset name "+tt)}}}var Qe=J(15530);const ft=({isOpen:Ze,onChange:tt,onToggle:st})=>{const{components:Lt}=(0,Qe.yX)(),Ft=Lt["media-library"],Yt=ui=>{const Nt=ui.map(ti=>({alt:ti.alternativeText||ti.name,url:(0,Qe.CR)(ti.url),mime:ti.mime}));tt(Nt)};return Ze?(0,Et.jsx)(Ft,{onClose:st,onSelectAssets:Yt}):null};ft.defaultProps={isOpen:!1,onChange:()=>{},onToggle:()=>{}},ft.propTypes={isOpen:l().bool,onChange:l().func,onToggle:l().func};const Ve=ft;var Te=J(15515),Q=J(66916);function xe(Ze){const tt={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};for(const st in tt){const Lt=tt[st];Ze=Ze.replaceAll(st,Lt)}return Ze}const Oe=({attribute:Ze,onChange:tt,name:st,value:Lt,disabled:Ft,labelAction:Yt,intlLabel:ui,required:Nt,description:ti,error:hi})=>{const[Ci,Oi]=(0,m.useState)(!1),{formatMessage:Di}=(0,M.Z)(),{maxLengthCharacters:Vi,...Pi}=Ze.options,at=new bt({options:Pi,maxLength:Vi}).getEditorConfig(),ue=(0,m.useRef)(null),ye=localStorage.getItem("STRAPI_THEME"),Le=h(ye),[Ge,rt]=(0,m.useState)(!1),gt=()=>rt(Mt=>!Mt),Ot=Mt=>{let Ut="";Mt.map(wi=>{if(wi.mime.includes("image")){const Ii=xe(wi.url),Li=xe(wi.alt);Ut+=`<img src="${Ii}" alt="${Li}" />`}});const ri=Ci.data.processor.toView(Ut),oi=Ci.data.toModel(ri);Ci.model.insertContent(oi),gt()};return(0,Et.jsxs)(p.Field,{name:st,id:st,error:hi,hint:ti&&Di(ti),children:[(0,Et.jsxs)(S.Stack,{spacing:1,children:[(0,Et.jsx)(p.FieldLabel,{action:Yt,required:Nt,children:Di(ui)}),(0,Et.jsx)(Le,{}),(0,Et.jsx)(Te.CKEditor,{editor:window.CKEditor5.editorClassic.ClassicEditor,disabled:Ft,data:Lt,onReady:Mt=>{const Ut=Mt.plugins.get("WordCount");ue.current.appendChild(Ut.wordCountContainer),Mt.plugins.get("strapiMediaLib").connect(gt),Oi(Mt)},onChange:(Mt,Ut)=>{const ri=Ut.getData();tt({target:{name:st,value:ri}}),Ut.plugins.get("WordCount").characters>Vi&&console.log("Too long")},config:at}),(0,Et.jsx)("div",{ref:ue}),(0,Et.jsx)(p.FieldHint,{}),(0,Et.jsx)(p.FieldError,{})]}),(0,Et.jsx)(Ve,{isOpen:Ge,onChange:Ot,onToggle:gt})]})};Oe.defaultProps={description:null,disabled:!1,error:null,labelAction:null,required:!1,value:""},Oe.propTypes={intlLabel:l().object.isRequired,onChange:l().func.isRequired,attribute:l().object.isRequired,name:l().string.isRequired,description:l().object,disabled:l().bool,error:l().string,labelAction:l().object,required:l().bool,value:l().string};const Je=Oe},38036:()=>{(()=>{var Gt={98:(m,M,S)=>{"use strict";S.d(M,{Z:()=>l});var p=S(645),_=S.n(p)()(function(c){return c[1]});_.push([m.id,".ck.ck-editor__editable .ck-maximum-length-excess{background-color:rgba(204,51,51,.3)}",""]);const l=_},645:m=>{"use strict";m.exports=function(M){var S=[];return S.toString=function(){return this.map(function(p){var _=M(p);return p[2]?"@media ".concat(p[2]," {").concat(_,"}"):_}).join("")},S.i=function(p,_,l){typeof p=="string"&&(p=[[null,p,""]]);var c={};if(l)for(var P=0;P<this.length;P++){var B=this[P][0];B!=null&&(c[B]=!0)}for(var x=0;x<p.length;x++){var h=[].concat(p[x]);l&&c[h[0]]||(_&&(h[2]?h[2]="".concat(_," and ").concat(h[2]):h[2]=_),S.push(h))}},S}},379:(m,M,S)=>{"use strict";var p,_=function(){return p===void 0&&(p=Boolean(window&&document&&document.all&&!window.atob)),p},l=function(){var u={};return function(y){if(u[y]===void 0){var f=document.querySelector(y);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}u[y]=f}return u[y]}}(),c=[];function P(u){for(var y=-1,f=0;f<c.length;f++)if(c[f].identifier===u){y=f;break}return y}function B(u,y){for(var f={},v=[],A=0;A<u.length;A++){var T=u[A],E=y.base?T[0]+y.base:T[0],ae=f[E]||0,q="".concat(E," ").concat(ae);f[E]=ae+1;var z=P(q),b={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(b)):c.push({identifier:q,updater:ie(b,y),references:1}),v.push(q)}return v}function x(u){var y=document.createElement("style"),f=u.attributes||{};if(f.nonce===void 0){var v=S.nc;v&&(f.nonce=v)}if(Object.keys(f).forEach(function(T){y.setAttribute(T,f[T])}),typeof u.insert=="function")u.insert(y);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(y)}return y}var h,j=(h=[],function(u,y){return h[u]=y,h.filter(Boolean).join(`
`)});function Z(u,y,f,v){var A=f?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=j(y,A);else{var T=document.createTextNode(A),E=u.childNodes;E[y]&&u.removeChild(E[y]),E.length?u.insertBefore(T,E[y]):u.appendChild(T)}}function Y(u,y,f){var v=f.css,A=f.media,T=f.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var te=null,oe=0;function ie(u,y){var f,v,A;if(y.singleton){var T=oe++;f=te||(te=x(y)),v=Z.bind(null,f,T,!1),A=Z.bind(null,f,T,!0)}else f=x(y),v=Y.bind(null,f,y),A=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(f)};return v(u),function(E){if(E){if(E.css===u.css&&E.media===u.media&&E.sourceMap===u.sourceMap)return;v(u=E)}else A()}}m.exports=function(u,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=_());var f=B(u=u||[],y);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<f.length;A++){var T=P(f[A]);c[T].references--}for(var E=B(v,y),ae=0;ae<f.length;ae++){var q=P(f[ae]);c[q].references===0&&(c[q].updater(),c.splice(q,1))}f=E}}}},704:(m,M,S)=>{m.exports=S(79)("./src/core.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},wt={};function J(m){var M=wt[m];if(M!==void 0)return M.exports;var S=wt[m]={id:m,exports:{}};return Gt[m](S,S.exports,J),S.exports}J.n=m=>{var M=m&&m.__esModule?()=>m.default:()=>m;return J.d(M,{a:M}),M},J.d=(m,M)=>{for(var S in M)J.o(M,S)&&!J.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:M[S]})},J.o=(m,M)=>Object.prototype.hasOwnProperty.call(m,M),J.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},J.nc=void 0;var Et={};(()=>{"use strict";J.r(Et),J.d(Et,{MaximumLength:()=>l});var m=J(704),M=J(379),S=J.n(M),p=J(98),_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(p.Z,_),p.Z.locals;class l extends m.Plugin{static get pluginName(){return"MaximumLength"}static get requires(){return["WordCount"]}init(){const P=this.editor,B=P.plugins.get("WordCount"),x=P.config.get("maximumLength.characters");let h=!1;P.model.document.registerPostFixer(j=>{const Z=B.characters,Y=this._calculateExcessRange(x,Z);Y?h?j.updateMarker("maximumLengthExcess",{range:Y,usingOperation:!1}):(j.addMarker("maximumLengthExcess",{range:Y,usingOperation:!1}),h=!0):h&&(j.removeMarker("maximumLengthExcess"),h=!1)}),P.conversion.for("editingDowncast").markerToHighlight({model:"maximumLengthExcess",view:{classes:"ck-maximum-length-excess"}})}_calculateExcessRange(P,B){if(P>B)return null;const x=this.editor,h=x.model.createRangeIn(x.model.document.getRoot()).getWalker({singleCharacters:!0,direction:"backward"});let j,Z,Y=B;for(const te of h)if(te.type=="text"&&(j||(j=te.previousPosition),Y--,Y<P))return Z=te.previousPosition,x.model.createRange(Z,j)}}})(),(window.CKEditor5=window.CKEditor5||{}).maximumLength=Et})()},59817:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(74081),m=J(27279),M=J(20565),S=J(54673),p=J(44747),_=m.forwardRef(({children:l,name:c,error:P,hint:B,id:x,required:h=!1,...j},Z)=>{const Y=S.useId(x),te=m.useMemo(()=>({name:c,id:Y,error:P,hint:B,required:h}),[P,Y,B,c,h]);return Et.jsx(p.Box,{ref:Z,...j,children:Et.jsx(M.FieldContext.Provider,{value:te,children:l})})});wt.Field=_},53785:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(74081),m=J(27279),M=J(19003),S=J(35725),p=J(70321),c=(B=>B&&B.__esModule?B:{default:B})(M).default(S.Flex)`
  font-size: 1.6rem;
  padding: 0;
`,P=m.forwardRef(({label:B,children:x,...h},j)=>Et.jsxs(c,{justifyContent:"unset",background:"transparent",borderStyle:"none",type:"button",...h,as:"button",ref:j,children:[Et.jsx(p.VisuallyHidden,{as:"span",children:B}),m.cloneElement(x,{"aria-hidden":!0,focusable:!1})]}));wt.FieldAction=P},20565:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(27279),m=Et.createContext({id:"",required:!1}),M=()=>Et.useContext(m);wt.FieldContext=m,wt.useField=M},28518:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(74081),m=J(20565),M=J(11880),S=()=>{const{id:p,error:_}=m.useField();return!_||typeof _!="string"?null:Et.jsx(M.Typography,{variant:"pi",as:"p",id:`${p}-error`,textColor:"danger600","data-strapi-field-error":!0,children:_})};wt.FieldError=S},63391:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(74081),m=J(20565),M=J(11880),S=()=>{const{id:p,hint:_,error:l}=m.useField();return!_||l?null:Et.jsx(M.Typography,{variant:"pi",as:"p",id:`${p}-hint`,textColor:"neutral600",children:_})};wt.FieldHint=S},20601:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(74081),m=J(27279),M=J(19003),S=J(20565),p=J(5529),_=J(44747),l=J(35725),P=(Z=>Z&&Z.__esModule?Z:{default:Z})(M),B={S:6.5,M:10.5},x=m.forwardRef(({endAction:Z,startAction:Y,disabled:te=!1,onChange:oe,size:ie="M",...u},y)=>{const{id:f,error:v,hint:A,name:T,required:E}=S.useField();let ae;v?ae=`${f}-error`:A&&(ae=`${f}-hint`);const q=Boolean(v),z=b=>{!te&&oe&&oe(b)};return Et.jsxs(j,{justifyContent:"space-between",hasError:q,disabled:te,children:[Y?Et.jsx(_.Box,{paddingLeft:3,paddingRight:2,children:Y}):null,Et.jsx(h,{id:f,name:T,ref:y,"aria-describedby":ae,"aria-invalid":q,"aria-disabled":te,disabled:te,"data-disabled":te?"":void 0,hasLeftAction:Boolean(Y),hasRightAction:Boolean(Z),onChange:z,"aria-required":E,$size:ie,...u}),Z?Et.jsx(_.Box,{paddingLeft:2,paddingRight:3,children:Z}):null]})}),h=P.default.input`
  border: none;
  border-radius: ${({theme:Z})=>Z.borderRadius};
  padding-bottom: ${({$size:Z})=>`${B[Z]/16}rem`};
  padding-left: ${({theme:Z,hasLeftAction:Y})=>Y?0:Z.spaces[4]};
  padding-right: ${({theme:Z,hasRightAction:Y})=>Y?0:Z.spaces[4]};
  padding-top: ${({$size:Z})=>`${B[Z]/16}rem`};
  cursor: ${Z=>Z["aria-disabled"]?"not-allowed":void 0};

  color: ${({theme:Z})=>Z.colors.neutral800};
  font-weight: 400;
  font-size: ${Z=>Z.theme.fontSizes[2]};
  display: block;
  width: 100%;
  background: inherit;

  ::placeholder {
    color: ${({theme:Z})=>Z.colors.neutral500};
    opacity: 1;
  }

  &[aria-disabled='true'] {
    color: inherit;
  }

  //focus managed by InputWrapper
  &:focus {
    outline: none;
    box-shadow: none;
  }
`,j=P.default(l.Flex)`
  border: 1px solid ${({theme:Z,hasError:Y})=>Y?Z.colors.danger600:Z.colors.neutral200};
  border-radius: ${({theme:Z})=>Z.borderRadius};
  background: ${({theme:Z})=>Z.colors.neutral0};
  ${p.inputFocusStyle()}

  ${({theme:Z,disabled:Y})=>Y?M.css`
          color: ${Z.colors.neutral600};
          background: ${Z.colors.neutral150};
        `:void 0}
`;wt.FieldInput=x,wt.InputWrapper=j},69803:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(74081),m=J(27279),M=J(19003),S=J(20565),p=J(63832),_=J(11880),l=J(35725),P=(Y=>Y&&Y.__esModule?Y:{default:Y})(M),B=p.once(console.warn),x=m.forwardRef(({children:Y,action:te,required:oe,...ie},u)=>{const{id:y,required:f}=S.useField(),v=f||oe;return oe!==void 0&&B('Deprecation warning: Usage of "required" prop in FieldLabel component is deprecated. This is discouraged and will be removed in the next major release. Please use the Field component to share the required prop.'),Et.jsxs(h,{ref:u,variant:"pi",textColor:"neutral800",htmlFor:y,fontWeight:"bold",as:"label",...ie,children:[Y,v&&Et.jsx(j,{textColor:"danger600",children:"*"}),te&&Et.jsx(Z,{marginLeft:1,children:te})]})}),h=P.default(_.Typography)`
  display: flex;
  align-items: center;
`,j=P.default(_.Typography)`
  line-height: 0;
`,Z=P.default(l.Flex)`
  line-height: 0;

  svg path {
    fill: ${({theme:Y})=>Y.colors.neutral500};
  }
`;wt.FieldLabel=x},66769:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(59817),m=J(69803),M=J(20601),S=J(63391),p=J(28518),_=J(20565),l=J(53785);wt.Field=Et.Field,wt.FieldLabel=m.FieldLabel,wt.FieldInput=M.FieldInput,wt.InputWrapper=M.InputWrapper,wt.FieldHint=S.FieldHint,wt.FieldError=p.FieldError,wt.FieldContext=_.FieldContext,wt.useField=_.useField,wt.FieldAction=l.FieldAction},95773:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(74081),m=J(27279),M=J(19003),S=J(10547),p=J(35725),l=(h=>h&&h.__esModule?h:{default:h})(M),c={size:!0,spacing:!0},P=l.default(p.Flex).withConfig({shouldForwardProp:(h,j)=>!c[h]&&j(h)})`
  & > * {
    margin-top: 0;
    margin-bottom: 0;
  }

  & > * + * {
    margin-top: ${({theme:h,spacing:j})=>S.extractStyleFromTheme(h.spaces,j,void 0)};
  }
`,B=l.default(p.Flex).withConfig({shouldForwardProp:(h,j)=>!c[h]&&j(h)})`
  & > * {
    margin-left: 0;
    margin-right: 0;
  }

  & > * + * {
    margin-left: ${({theme:h,spacing:j})=>S.extractStyleFromTheme(h.spaces,j,void 0)};
  }
`,x=m.forwardRef(({horizontal:h=!1,spacing:j,size:Z,...Y},te)=>(Z&&console.warn('Deprecation warning: Usage of "size" prop in Stack component is deprecated. This is discouraged and will be removed in the next major release. Please use "spacing" instead'),h?Et.jsx(B,{ref:te,spacing:j||Z,...Y}):Et.jsx(P,{direction:"column",alignItems:"stretch",ref:te,spacing:j||Z,...Y})));x.displayName="Stack",wt.Stack=x},58892:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(95773);wt.Stack=Et.Stack},11880:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(19003),m=J(83415),M=J(10547),p=(c=>c&&c.__esModule?c:{default:c})(Et),_={fontSize:!0,fontWeight:!0},l=p.default.span.withConfig({shouldForwardProp:(c,P)=>!_[c]&&P(c)})`
  ${m.variantStyle}
  ${m.ellipsisStyle}

  // These properties need to come after {variantStyle}, because they might
  // overwrite a variant attribute
  font-weight: ${({theme:c,fontWeight:P})=>M.extractStyleFromTheme(c.fontWeights,P,void 0)};
  font-size: ${({theme:c,fontSize:P})=>M.extractStyleFromTheme(c.fontSizes,P,void 0)};
  line-height: ${({theme:c,lineHeight:P})=>M.extractStyleFromTheme(c.lineHeights,P,P)};
  color: ${({theme:c,textColor:P})=>c.colors[P||"neutral800"]};
  text-align: ${({textAlign:c})=>c};
  text-decoration: ${({textDecoration:c})=>c};
  text-transform: ${({textTransform:c})=>c};
`;wt.Typography=l},14714:(Gt,wt)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const J="alpha",Et="beta",m="delta",M="epsilon",S="omega",p="pi",_="sigma",l=[J,Et,m,M,S,p,_];wt.ALPHA=J,wt.BETA=Et,wt.DELTA=m,wt.EPSILON=M,wt.OMEGA=S,wt.PI=p,wt.SIGMA=_,wt.TEXT_VARIANTS=l},83415:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(14714),m=({ellipsis:S=!1})=>S&&`
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  `,M=({variant:S=Et.OMEGA,theme:p})=>{switch(S){case Et.ALPHA:return`
        font-weight: ${p.fontWeights.bold};
        font-size: ${p.fontSizes[5]};
        line-height: ${p.lineHeights[2]};
      `;case Et.BETA:return`
        font-weight: ${p.fontWeights.bold};
        font-size: ${p.fontSizes[4]};
        line-height: ${p.lineHeights[1]};
      `;case Et.DELTA:return`
        font-weight: ${p.fontWeights.semiBold};
        font-size: ${p.fontSizes[3]};
        line-height: ${p.lineHeights[2]};
      `;case Et.EPSILON:return`
        font-size: ${p.fontSizes[3]};
        line-height: ${p.lineHeights[6]};
      `;case Et.OMEGA:return`
        font-size: ${p.fontSizes[2]};
        line-height: ${p.lineHeights[4]};
      `;case Et.PI:return`
        font-size: ${p.fontSizes[1]};
        line-height: ${p.lineHeights[3]};
      `;case Et.SIGMA:return`
        font-weight: ${p.fontWeights.bold};
        font-size: ${p.fontSizes[0]};
        line-height: ${p.lineHeights[5]};
        text-transform: uppercase;
      `;default:return`
        font-size: ${p.fontSizes[2]};
      `}};wt.ellipsisStyle=m,wt.variantStyle=M},70321:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(19003),S=(p=>p&&p.__esModule?p:{default:p})(Et).default.div`
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
`;wt.VisuallyHidden=S},63832:(Gt,wt)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const J="[@strapi/design-system]:",Et=m=>{const M=m;let S=!1;if(typeof M!="function")throw new TypeError(`${J} once requires a function parameter`);return(...p)=>{S||(M(...p),S=!0)}};wt.PREFIX=J,wt.once=Et},54673:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(27279),S=(l=>l&&l.__esModule?l:{default:l})(Et).default["useId".toString()]||(()=>{});let p=0;const _=l=>{const[c,P]=Et.useState(S());return Et.useLayoutEffect(()=>{l||P(B=>B??String(p++))},[l]),l?.toString()??(c||"")};wt.useId=_},5529:(Gt,wt,J)=>{"use strict";Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"});const Et=J(19003),m=p=>({theme:_,size:l})=>_.sizes[p][l],M=(p="&")=>({theme:_,hasError:l=!1})=>Et.css`
    outline: none;
    box-shadow: 0;
    transition-property: border-color, box-shadow, fill;
    transition-duration: 0.2s;

    ${p}:focus-within {
      border: 1px solid ${l?_.colors.danger600:_.colors.primary600};
      box-shadow: ${l?_.colors.danger600:_.colors.primary600} 0px 0px 0px 2px;
    }
  `,S=({theme:p})=>Et.css`
  position: relative;
  outline: none;

  &:after {
    transition-property: all;
    transition-duration: 0.2s;
    border-radius: 8px;
    content: '';
    position: absolute;
    top: -4px;
    bottom: -4px;
    left: -4px;
    right: -4px;
    border: 2px solid transparent;
  }

  &:focus-visible {
    outline: none;
    &:after {
      border-radius: 8px;
      content: '';
      position: absolute;
      top: -5px;
      bottom: -5px;
      left: -5px;
      right: -5px;
      border: 2px solid ${p.colors.primary600};
    }
  }
`;wt.buttonFocusStyle=S,wt.getThemeSize=m,wt.inputFocusStyle=M},72958:(Gt,wt,J)=>{Gt=J.nmd(Gt),function(Et){const m=Et.en=Et.en||{};m.dictionary=Object.assign(m.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept",Aquamarine:"Aquamarine",Black:"Black",Blue:"Blue",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:",Clear:"Clear","Click to edit block":"Click to edit block","Dim grey":"Dim grey","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar",Green:"Green",Grey:"Grey",HEX:"HEX","Insert image with file manager":"Insert image with file manager","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert with file manager":"Insert with file manager","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",Orange:"Orange","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Restore default":"Restore default","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0",Save:"Save","Select all":"Select all","Show more items":"Show more items",Turquoise:"Turquoise",Undo:"Undo","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar",Yellow:"Yellow"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Et={"./node_modules/color-convert/conversions.js":(p,_,l)=>{const c=l("./node_modules/color-name/index.js"),P={};for(const x of Object.keys(c))P[c[x]]=x;const B={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};p.exports=B;for(const x of Object.keys(B)){if(!("channels"in B[x]))throw new Error("missing channels property: "+x);if(!("labels"in B[x]))throw new Error("missing channel labels property: "+x);if(B[x].labels.length!==B[x].channels)throw new Error("channel and label counts mismatch: "+x);const{channels:h,labels:j}=B[x];delete B[x].channels,delete B[x].labels,Object.defineProperty(B[x],"channels",{value:h}),Object.defineProperty(B[x],"labels",{value:j})}B.rgb.hsl=function(x){const h=x[0]/255,j=x[1]/255,Z=x[2]/255,Y=Math.min(h,j,Z),te=Math.max(h,j,Z),oe=te-Y;let ie,u;te===Y?ie=0:h===te?ie=(j-Z)/oe:j===te?ie=2+(Z-h)/oe:Z===te&&(ie=4+(h-j)/oe),ie=Math.min(60*ie,360),ie<0&&(ie+=360);const y=(Y+te)/2;return u=te===Y?0:y<=.5?oe/(te+Y):oe/(2-te-Y),[ie,100*u,100*y]},B.rgb.hsv=function(x){let h,j,Z,Y,te;const oe=x[0]/255,ie=x[1]/255,u=x[2]/255,y=Math.max(oe,ie,u),f=y-Math.min(oe,ie,u),v=function(A){return(y-A)/6/f+.5};return f===0?(Y=0,te=0):(te=f/y,h=v(oe),j=v(ie),Z=v(u),oe===y?Y=Z-j:ie===y?Y=.3333333333333333+h-Z:u===y&&(Y=.6666666666666666+j-h),Y<0?Y+=1:Y>1&&(Y-=1)),[360*Y,100*te,100*y]},B.rgb.hwb=function(x){const h=x[0],j=x[1];let Z=x[2];const Y=B.rgb.hsl(x)[0],te=1/255*Math.min(h,Math.min(j,Z));return Z=1-.00392156862745098*Math.max(h,Math.max(j,Z)),[Y,100*te,100*Z]},B.rgb.cmyk=function(x){const h=x[0]/255,j=x[1]/255,Z=x[2]/255,Y=Math.min(1-h,1-j,1-Z);return[100*((1-h-Y)/(1-Y)||0),100*((1-j-Y)/(1-Y)||0),100*((1-Z-Y)/(1-Y)||0),100*Y]},B.rgb.keyword=function(x){const h=P[x];if(h)return h;let j,Z=1/0;for(const oe of Object.keys(c)){const ie=c[oe],u=(te=ie,((Y=x)[0]-te[0])**2+(Y[1]-te[1])**2+(Y[2]-te[2])**2);u<Z&&(Z=u,j=oe)}var Y,te;return j},B.keyword.rgb=function(x){return c[x]},B.rgb.xyz=function(x){let h=x[0]/255,j=x[1]/255,Z=x[2]/255;return h=h>.04045?((h+.055)/1.055)**2.4:h/12.92,j=j>.04045?((j+.055)/1.055)**2.4:j/12.92,Z=Z>.04045?((Z+.055)/1.055)**2.4:Z/12.92,[100*(.4124*h+.3576*j+.1805*Z),100*(.2126*h+.7152*j+.0722*Z),100*(.0193*h+.1192*j+.9505*Z)]},B.rgb.lab=function(x){const h=B.rgb.xyz(x);let j=h[0],Z=h[1],Y=h[2];return j/=95.047,Z/=100,Y/=108.883,j=j>.008856?j**.3333333333333333:7.787*j+.13793103448275862,Z=Z>.008856?Z**.3333333333333333:7.787*Z+.13793103448275862,Y=Y>.008856?Y**.3333333333333333:7.787*Y+.13793103448275862,[116*Z-16,500*(j-Z),200*(Z-Y)]},B.hsl.rgb=function(x){const h=x[0]/360,j=x[1]/100,Z=x[2]/100;let Y,te,oe;if(j===0)return oe=255*Z,[oe,oe,oe];Y=Z<.5?Z*(1+j):Z+j-Z*j;const ie=2*Z-Y,u=[0,0,0];for(let y=0;y<3;y++)te=h+.3333333333333333*-(y-1),te<0&&te++,te>1&&te--,oe=6*te<1?ie+6*(Y-ie)*te:2*te<1?Y:3*te<2?ie+(Y-ie)*(.6666666666666666-te)*6:ie,u[y]=255*oe;return u},B.hsl.hsv=function(x){const h=x[0];let j=x[1]/100,Z=x[2]/100,Y=j;const te=Math.max(Z,.01);return Z*=2,j*=Z<=1?Z:2-Z,Y*=te<=1?te:2-te,[h,100*(Z===0?2*Y/(te+Y):2*j/(Z+j)),100*((Z+j)/2)]},B.hsv.rgb=function(x){const h=x[0]/60,j=x[1]/100;let Z=x[2]/100;const Y=Math.floor(h)%6,te=h-Math.floor(h),oe=255*Z*(1-j),ie=255*Z*(1-j*te),u=255*Z*(1-j*(1-te));switch(Z*=255,Y){case 0:return[Z,u,oe];case 1:return[ie,Z,oe];case 2:return[oe,Z,u];case 3:return[oe,ie,Z];case 4:return[u,oe,Z];case 5:return[Z,oe,ie]}},B.hsv.hsl=function(x){const h=x[0],j=x[1]/100,Z=x[2]/100,Y=Math.max(Z,.01);let te,oe;oe=(2-j)*Z;const ie=(2-j)*Y;return te=j*Y,te/=ie<=1?ie:2-ie,te=te||0,oe/=2,[h,100*te,100*oe]},B.hwb.rgb=function(x){const h=x[0]/360;let j=x[1]/100,Z=x[2]/100;const Y=j+Z;let te;Y>1&&(j/=Y,Z/=Y);const oe=Math.floor(6*h),ie=1-Z;te=6*h-oe,1&oe&&(te=1-te);const u=j+te*(ie-j);let y,f,v;switch(oe){default:case 6:case 0:y=ie,f=u,v=j;break;case 1:y=u,f=ie,v=j;break;case 2:y=j,f=ie,v=u;break;case 3:y=j,f=u,v=ie;break;case 4:y=u,f=j,v=ie;break;case 5:y=ie,f=j,v=u}return[255*y,255*f,255*v]},B.cmyk.rgb=function(x){const h=x[0]/100,j=x[1]/100,Z=x[2]/100,Y=x[3]/100;return[255*(1-Math.min(1,h*(1-Y)+Y)),255*(1-Math.min(1,j*(1-Y)+Y)),255*(1-Math.min(1,Z*(1-Y)+Y))]},B.xyz.rgb=function(x){const h=x[0]/100,j=x[1]/100,Z=x[2]/100;let Y,te,oe;return Y=3.2406*h+-1.5372*j+-.4986*Z,te=-.9689*h+1.8758*j+.0415*Z,oe=.0557*h+-.204*j+1.057*Z,Y=Y>.0031308?1.055*Y**.4166666666666667-.055:12.92*Y,te=te>.0031308?1.055*te**.4166666666666667-.055:12.92*te,oe=oe>.0031308?1.055*oe**.4166666666666667-.055:12.92*oe,Y=Math.min(Math.max(0,Y),1),te=Math.min(Math.max(0,te),1),oe=Math.min(Math.max(0,oe),1),[255*Y,255*te,255*oe]},B.xyz.lab=function(x){let h=x[0],j=x[1],Z=x[2];return h/=95.047,j/=100,Z/=108.883,h=h>.008856?h**.3333333333333333:7.787*h+.13793103448275862,j=j>.008856?j**.3333333333333333:7.787*j+.13793103448275862,Z=Z>.008856?Z**.3333333333333333:7.787*Z+.13793103448275862,[116*j-16,500*(h-j),200*(j-Z)]},B.lab.xyz=function(x){let h,j,Z;j=(x[0]+16)/116,h=x[1]/500+j,Z=j-x[2]/200;const Y=j**3,te=h**3,oe=Z**3;return j=Y>.008856?Y:(j-.13793103448275862)/7.787,h=te>.008856?te:(h-.13793103448275862)/7.787,Z=oe>.008856?oe:(Z-.13793103448275862)/7.787,h*=95.047,j*=100,Z*=108.883,[h,j,Z]},B.lab.lch=function(x){const h=x[0],j=x[1],Z=x[2];let Y;return Y=360*Math.atan2(Z,j)/2/Math.PI,Y<0&&(Y+=360),[h,Math.sqrt(j*j+Z*Z),Y]},B.lch.lab=function(x){const h=x[0],j=x[1],Z=x[2]/360*2*Math.PI;return[h,j*Math.cos(Z),j*Math.sin(Z)]},B.rgb.ansi16=function(x,h=null){const[j,Z,Y]=x;let te=h===null?B.rgb.hsv(x)[2]:h;if(te=Math.round(te/50),te===0)return 30;let oe=30+(Math.round(Y/255)<<2|Math.round(Z/255)<<1|Math.round(j/255));return te===2&&(oe+=60),oe},B.hsv.ansi16=function(x){return B.rgb.ansi16(B.hsv.rgb(x),x[2])},B.rgb.ansi256=function(x){const h=x[0],j=x[1],Z=x[2];return h===j&&j===Z?h<8?16:h>248?231:Math.round((h-8)/247*24)+232:16+36*Math.round(h/255*5)+6*Math.round(j/255*5)+Math.round(Z/255*5)},B.ansi16.rgb=function(x){let h=x%10;if(h===0||h===7)return x>50&&(h+=3.5),h=h/10.5*255,[h,h,h];const j=.5*(1+~~(x>50));return[(1&h)*j*255,(h>>1&1)*j*255,(h>>2&1)*j*255]},B.ansi256.rgb=function(x){if(x>=232){const j=10*(x-232)+8;return[j,j,j]}let h;return x-=16,[Math.floor(x/36)/5*255,Math.floor((h=x%36)/6)/5*255,h%6/5*255]},B.rgb.hex=function(x){const h=(((255&Math.round(x[0]))<<16)+((255&Math.round(x[1]))<<8)+(255&Math.round(x[2]))).toString(16).toUpperCase();return"000000".substring(h.length)+h},B.hex.rgb=function(x){const h=x.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!h)return[0,0,0];let j=h[0];h[0].length===3&&(j=j.split("").map(Y=>Y+Y).join(""));const Z=parseInt(j,16);return[Z>>16&255,Z>>8&255,255&Z]},B.rgb.hcg=function(x){const h=x[0]/255,j=x[1]/255,Z=x[2]/255,Y=Math.max(Math.max(h,j),Z),te=Math.min(Math.min(h,j),Z),oe=Y-te;let ie,u;return ie=oe<1?te/(1-oe):0,u=oe<=0?0:Y===h?(j-Z)/oe%6:Y===j?2+(Z-h)/oe:4+(h-j)/oe,u/=6,u%=1,[360*u,100*oe,100*ie]},B.hsl.hcg=function(x){const h=x[1]/100,j=x[2]/100,Z=j<.5?2*h*j:2*h*(1-j);let Y=0;return Z<1&&(Y=(j-.5*Z)/(1-Z)),[x[0],100*Z,100*Y]},B.hsv.hcg=function(x){const h=x[1]/100,j=x[2]/100,Z=h*j;let Y=0;return Z<1&&(Y=(j-Z)/(1-Z)),[x[0],100*Z,100*Y]},B.hcg.rgb=function(x){const h=x[0]/360,j=x[1]/100,Z=x[2]/100;if(j===0)return[255*Z,255*Z,255*Z];const Y=[0,0,0],te=h%1*6,oe=te%1,ie=1-oe;let u=0;switch(Math.floor(te)){case 0:Y[0]=1,Y[1]=oe,Y[2]=0;break;case 1:Y[0]=ie,Y[1]=1,Y[2]=0;break;case 2:Y[0]=0,Y[1]=1,Y[2]=oe;break;case 3:Y[0]=0,Y[1]=ie,Y[2]=1;break;case 4:Y[0]=oe,Y[1]=0,Y[2]=1;break;default:Y[0]=1,Y[1]=0,Y[2]=ie}return u=(1-j)*Z,[255*(j*Y[0]+u),255*(j*Y[1]+u),255*(j*Y[2]+u)]},B.hcg.hsv=function(x){const h=x[1]/100,j=h+x[2]/100*(1-h);let Z=0;return j>0&&(Z=h/j),[x[0],100*Z,100*j]},B.hcg.hsl=function(x){const h=x[1]/100,j=x[2]/100*(1-h)+.5*h;let Z=0;return j>0&&j<.5?Z=h/(2*j):j>=.5&&j<1&&(Z=h/(2*(1-j))),[x[0],100*Z,100*j]},B.hcg.hwb=function(x){const h=x[1]/100,j=h+x[2]/100*(1-h);return[x[0],100*(j-h),100*(1-j)]},B.hwb.hcg=function(x){const h=x[1]/100,j=1-x[2]/100,Z=j-h;let Y=0;return Z<1&&(Y=(j-Z)/(1-Z)),[x[0],100*Z,100*Y]},B.apple.rgb=function(x){return[x[0]/65535*255,x[1]/65535*255,x[2]/65535*255]},B.rgb.apple=function(x){return[x[0]/255*65535,x[1]/255*65535,x[2]/255*65535]},B.gray.rgb=function(x){return[x[0]/100*255,x[0]/100*255,x[0]/100*255]},B.gray.hsl=function(x){return[0,0,x[0]]},B.gray.hsv=B.gray.hsl,B.gray.hwb=function(x){return[0,100,x[0]]},B.gray.cmyk=function(x){return[0,0,0,x[0]]},B.gray.lab=function(x){return[x[0],0,0]},B.gray.hex=function(x){const h=255&Math.round(x[0]/100*255),j=((h<<16)+(h<<8)+h).toString(16).toUpperCase();return"000000".substring(j.length)+j},B.rgb.gray=function(x){return[(x[0]+x[1]+x[2])/3/255*100]}},"./node_modules/color-convert/index.js":(p,_,l)=>{const c=l("./node_modules/color-convert/conversions.js"),P=l("./node_modules/color-convert/route.js"),B={};Object.keys(c).forEach(x=>{B[x]={},Object.defineProperty(B[x],"channels",{value:c[x].channels}),Object.defineProperty(B[x],"labels",{value:c[x].labels});const h=P(x);Object.keys(h).forEach(j=>{const Z=h[j];B[x][j]=function(Y){const te=function(...oe){const ie=oe[0];if(ie==null)return ie;ie.length>1&&(oe=ie);const u=Y(oe);if(typeof u=="object")for(let y=u.length,f=0;f<y;f++)u[f]=Math.round(u[f]);return u};return"conversion"in Y&&(te.conversion=Y.conversion),te}(Z),B[x][j].raw=function(Y){const te=function(...oe){const ie=oe[0];return ie==null?ie:(ie.length>1&&(oe=ie),Y(oe))};return"conversion"in Y&&(te.conversion=Y.conversion),te}(Z)})}),p.exports=B},"./node_modules/color-convert/route.js":(p,_,l)=>{const c=l("./node_modules/color-convert/conversions.js");function P(h){const j=function(){const Y={},te=Object.keys(c);for(let oe=te.length,ie=0;ie<oe;ie++)Y[te[ie]]={distance:-1,parent:null};return Y}(),Z=[h];for(j[h].distance=0;Z.length;){const Y=Z.pop(),te=Object.keys(c[Y]);for(let oe=te.length,ie=0;ie<oe;ie++){const u=te[ie],y=j[u];y.distance===-1&&(y.distance=j[Y].distance+1,y.parent=Y,Z.unshift(u))}}return j}function B(h,j){return function(Z){return j(h(Z))}}function x(h,j){const Z=[j[h].parent,h];let Y=c[j[h].parent][h],te=j[h].parent;for(;j[te].parent;)Z.unshift(j[te].parent),Y=B(c[j[te].parent][te],Y),te=j[te].parent;return Y.conversion=Z,Y}p.exports=function(h){const j=P(h),Z={},Y=Object.keys(j);for(let te=Y.length,oe=0;oe<te;oe++){const ie=Y[oe];j[ie].parent!==null&&(Z[ie]=x(ie,j))}return Z}},"./node_modules/color-name/index.js":p=>{"use strict";p.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-clipboard/theme/clipboard.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/placeholder.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/renderer.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/autocomplete/autocomplete.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-modal)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/button.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/switchbutton.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/collapsible/collapsible.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorgrid/colorgrid.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorpicker/colorpicker.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorselector/colorselector.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/dropdown.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/listdropdown.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/splitbutton.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/editorui.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/formheader/formheader.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header .ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{font-weight:700}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/icon/icon.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/input/input.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/label/label.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/list/list.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item .ck-button{text-align:left}[dir=rtl] .ck.ck-list__item .ck-button{text-align:right}.ck.ck-list__item .ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonpanel.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonrotator.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/fakepanel.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/stickypanel.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/search/search.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/spinner/spinner.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/textarea/textarea.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck-textarea{overflow-x:hidden}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/toolbar.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/tooltip/tooltip.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/globals/globals.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widget.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgetresize.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}",""]);const B=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgettypearound.css":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),P=l.n(c)()(function(x){return x[1]});P.push([p.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',""]);const B=P},"./node_modules/css-loader/dist/runtime/api.js":p=>{"use strict";p.exports=function(_){var l=[];return l.toString=function(){return this.map(function(c){var P=_(c);return c[2]?"@media ".concat(c[2]," {").concat(P,"}"):P}).join("")},l.i=function(c,P,B){typeof c=="string"&&(c=[[null,c,""]]);var x={};if(B)for(var h=0;h<this.length;h++){var j=this[h][0];j!=null&&(x[j]=!0)}for(var Z=0;Z<c.length;Z++){var Y=[].concat(c[Z]);B&&x[Y[0]]||(P&&(Y[2]?Y[2]="".concat(P," and ").concat(Y[2]):Y[2]=P),l.push(Y))}},l}},"./packages/ckeditor5-core/src/index.ts":(p,_,l)=>{"use strict";l.d(_,{mY:()=>x,_y:()=>Y,eO:()=>te,W9:()=>A,ML:()=>y,xK:()=>T,AJ:()=>j,lR:()=>ae,Sy:()=>P,P$:()=>v,icons:()=>V,Nu:()=>E});var c=l("./packages/ckeditor5-utils/src/index.ts");class P extends(0,c.Re)(){constructor(D){super(),this._disableStack=new Set,this.editor=D,this.set("isEnabled",!0)}forceDisabled(D){this._disableStack.add(D),this._disableStack.size==1&&(this.on("set:isEnabled",B,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(D){this._disableStack.delete(D),this._disableStack.size==0&&(this.off("set:isEnabled",B),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function B($){$.return=!1,$.stop()}class x extends(0,c.Re)(){constructor(D){super(),this.editor=D,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(D,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",re=>{if(!this.affectsData)return;const Ee=D.model.document.selection,je=Ee.getFirstPosition().root.rootName!="$graveyard"&&D.model.canEditAt(Ee);(D.isReadOnly||this._isEnabledBasedOnSelection&&!je)&&(re.return=!1,re.stop())},{priority:"highest"}),this.on("execute",re=>{this.isEnabled||re.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(D){this._affectsData=D}refresh(){this.isEnabled=!0}forceDisabled(D){this._disableStack.add(D),this._disableStack.size==1&&(this.on("set:isEnabled",h,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(D){this._disableStack.delete(D),this._disableStack.size==0&&(this.off("set:isEnabled",h),this.refresh())}execute(...D){}destroy(){this.stopListening()}}function h($){$.return=!1,$.stop()}class j extends x{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...D){const re=this._getFirstEnabledCommand();return!!re&&re.execute(D)}registerChildCommand(D,re={}){(0,c.VG)(this._childCommandsDefinitions,{command:D,priority:re.priority||"normal"}),D.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const D=this._childCommandsDefinitions.find(({command:re})=>re.isEnabled);return D&&D.command}}class Z extends(0,c.ln)(){constructor(D,re=[],Ee=[]){super(),this._plugins=new Map,this._context=D,this._availablePlugins=new Map;for(const je of re)je.pluginName&&this._availablePlugins.set(je.pluginName,je);this._contextPlugins=new Map;for(const[je,Ie]of Ee)this._contextPlugins.set(je,Ie),this._contextPlugins.set(Ie,je),je.pluginName&&this._availablePlugins.set(je.pluginName,je)}*[Symbol.iterator](){for(const D of this._plugins)typeof D[0]=="function"&&(yield D)}get(D){const re=this._plugins.get(D);if(!re){let Ee=D;throw typeof D=="function"&&(Ee=D.pluginName||D.name),new c.Bb("plugincollection-plugin-not-loaded",this._context,{plugin:Ee})}return re}has(D){return this._plugins.has(D)}init(D,re=[],Ee=[]){const je=this,Ie=this._context;(function ft(Ve,Te=new Set){Ve.forEach(Q=>{lt(Q)&&(Te.has(Q)||(Te.add(Q),Q.pluginName&&!je._availablePlugins.has(Q.pluginName)&&je._availablePlugins.set(Q.pluginName,Q),Q.requires&&ft(Q.requires,Te)))})})(D),bt(D);const De=[...function ft(Ve,Te=new Set){return Ve.map(Q=>lt(Q)?Q:je._availablePlugins.get(Q)).reduce((Q,xe)=>Te.has(xe)?Q:(Te.add(xe),xe.requires&&(bt(xe.requires,xe),ft(xe.requires,Te).forEach(Oe=>Q.add(Oe))),Q.add(xe)),new Set)}(D.filter(ft=>!dt(ft,re)))];(function(ft,Ve){for(const Te of Ve){if(typeof Te!="function")throw new c.Bb("plugincollection-replace-plugin-invalid-type",null,{pluginItem:Te});const Q=Te.pluginName;if(!Q)throw new c.Bb("plugincollection-replace-plugin-missing-name",null,{pluginItem:Te});if(Te.requires&&Te.requires.length)throw new c.Bb("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Q});const xe=je._availablePlugins.get(Q);if(!xe)throw new c.Bb("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Q});const Oe=ft.indexOf(xe);if(Oe===-1){if(je._contextPlugins.has(xe))return;throw new c.Bb("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Q})}if(xe.requires&&xe.requires.length)throw new c.Bb("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Q});ft.splice(Oe,1,Te),je._availablePlugins.set(Q,Te)}})(De,Ee);const mt=De.map(ft=>{let Ve=je._contextPlugins.get(ft);return Ve=Ve||new ft(Ie),je._add(ft,Ve),Ve});return Qe(mt,"init").then(()=>Qe(mt,"afterInit")).then(()=>mt);function lt(ft){return typeof ft=="function"}function ut(ft){return lt(ft)&&!!ft.isContextPlugin}function dt(ft,Ve){return Ve.some(Te=>Te===ft||_t(ft)===Te||_t(Te)===ft)}function _t(ft){return lt(ft)?ft.pluginName||ft.name:ft}function bt(ft,Ve=null){ft.map(Te=>lt(Te)?Te:je._availablePlugins.get(Te)||Te).forEach(Te=>{(function(Q,xe){if(!lt(Q))throw xe?new c.Bb("plugincollection-soft-required",Ie,{missingPlugin:Q,requiredBy:_t(xe)}):new c.Bb("plugincollection-plugin-not-found",Ie,{plugin:Q})})(Te,Ve),function(Q,xe){if(ut(xe)&&!ut(Q))throw new c.Bb("plugincollection-context-required",Ie,{plugin:_t(Q),requiredBy:_t(xe)})}(Te,Ve),function(Q,xe){if(xe&&dt(Q,re))throw new c.Bb("plugincollection-required",Ie,{plugin:_t(Q),requiredBy:_t(xe)})}(Te,Ve)})}function Qe(ft,Ve){return ft.reduce((Te,Q)=>Q[Ve]?je._contextPlugins.has(Q)?Te:Te.then(Q[Ve].bind(Q)):Te,Promise.resolve())}}destroy(){const D=[];for(const[,re]of this)typeof re.destroy!="function"||this._contextPlugins.has(re)||D.push(re.destroy());return Promise.all(D)}_add(D,re){this._plugins.set(D,re);const Ee=D.pluginName;if(Ee){if(this._plugins.has(Ee))throw new c.Bb("plugincollection-plugin-name-conflict",null,{pluginName:Ee,plugin1:this._plugins.get(Ee).constructor,plugin2:D});this._plugins.set(Ee,re)}}}class Y{constructor(D){this._contextOwner=null,this.config=new c.De(D,this.constructor.defaultConfig);const re=this.constructor.builtinPlugins;this.config.define("plugins",re),this.plugins=new Z(this,re);const Ee=this.config.get("language")||{};this.locale=new c.go({uiLanguage:typeof Ee=="string"?Ee:Ee.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new c.FE}initPlugins(){const D=this.config.get("plugins")||[],re=this.config.get("substitutePlugins")||[];for(const Ee of D.concat(re)){if(typeof Ee!="function")throw new c.Bb("context-initplugins-constructor-only",null,{Plugin:Ee});if(Ee.isContextPlugin!==!0)throw new c.Bb("context-initplugins-invalid-plugin",null,{Plugin:Ee})}return this.plugins.init(D,[],re)}destroy(){return Promise.all(Array.from(this.editors,D=>D.destroy())).then(()=>this.plugins.destroy())}_addEditor(D,re){if(this._contextOwner)throw new c.Bb("context-addeditor-private-context");this.editors.add(D),re&&(this._contextOwner=D)}_removeEditor(D){return this.editors.has(D)&&this.editors.remove(D),this._contextOwner===D?this.destroy():Promise.resolve()}_getEditorConfig(){const D={};for(const re of this.config.names())["plugins","removePlugins","extraPlugins"].includes(re)||(D[re]=this.config.get(re));return D}static create(D){return new Promise(re=>{const Ee=new this(D);re(Ee.initPlugins().then(()=>Ee))})}}class te extends(0,c.Re)(){constructor(D){super(),this.context=D}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class oe extends c.VD{constructor(D){super(),this.editor=D}set(D,re,Ee={}){if(typeof re=="string"){const je=re;re=(Ie,De)=>{this.editor.execute(je),De()}}super.set(D,re,Ee)}}var ie=l("./packages/ckeditor5-engine/src/index.ts");class u{constructor(){this._commands=new Map}add(D,re){this._commands.set(D,re)}get(D){return this._commands.get(D)}execute(D,...re){const Ee=this.get(D);if(!Ee)throw new c.Bb("commandcollection-command-not-found",this,{commandName:D});return Ee.execute(...re)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const D of this.commands())D.destroy()}}class y extends(0,c.Re)(){constructor(D={}){super();const re=this.constructor,Ee=D.language||re.defaultConfig&&re.defaultConfig.language;this._context=D.context||new Y({language:Ee}),this._context._addEditor(this,!D.context);const je=Array.from(re.builtinPlugins||[]);this.config=new c.De(D,re.defaultConfig),this.config.define("plugins",je),this.config.define(this._context._getEditorConfig()),this.plugins=new Z(this,je,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new u,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new ie.Hn,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const Ie=new ie.A_;this.data=new ie.Yc(this.model,Ie),this.editing=new ie.jH(this.model,Ie),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ie.uz([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new oe(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(D){throw new c.Bb("editor-isreadonly-has-no-setter")}enableReadOnlyMode(D){if(typeof D!="string"&&typeof D!="symbol")throw new c.Bb("editor-read-only-lock-id-invalid",null,{lockId:D});this._readOnlyLocks.has(D)||(this._readOnlyLocks.add(D),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(D){if(typeof D!="string"&&typeof D!="symbol")throw new c.Bb("editor-read-only-lock-id-invalid",null,{lockId:D});this._readOnlyLocks.has(D)&&(this._readOnlyLocks.delete(D),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const D=this.config,re=D.get("plugins"),Ee=D.get("removePlugins")||[],je=D.get("extraPlugins")||[],Ie=D.get("substitutePlugins")||[];return this.plugins.init(re.concat(je),Ee,Ie)}destroy(){let D=Promise.resolve();return this.state=="initializing"&&(D=new Promise(re=>this.once("ready",re))),D.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(D,...re){try{return this.commands.execute(D,...re)}catch(Ee){c.Bb.rethrowUnexpectedError(Ee,this)}}focus(){this.editing.view.focus()}static create(...D){throw new Error("This is an abstract method.")}}var f=l("./node_modules/lodash-es/isFunction.js");function v($){if(!(0,f.Z)($.updateSourceElement))throw new c.Bb("attachtoform-missing-elementapi-interface",$);const D=$.sourceElement;if(function(re){return!!re&&re.tagName.toLowerCase()==="textarea"}(D)&&D.form){let re;const Ee=D.form,je=()=>$.updateSourceElement();(0,f.Z)(Ee.submit)&&(re=Ee.submit,Ee.submit=()=>{je(),re.apply(Ee)}),Ee.addEventListener("submit",je),$.on("destroy",()=>{Ee.removeEventListener("submit",je),re&&(Ee.submit=re)})}}function A($){return class extends ${setData(D){this.data.set(D)}getData(D){return this.data.get(D)}}}{const $=A(Object);A.setData=$.prototype.setData,A.getData=$.prototype.getData}function T($){return class extends ${updateSourceElement(D){if(!this.sourceElement)throw new c.Bb("editor-missing-sourceelement",this);const re=this.config.get("updateSourceElementOnDestroy"),Ee=this.sourceElement instanceof HTMLTextAreaElement;if(!re&&!Ee)return void(0,c.jS)(this.sourceElement,"");const je=typeof D=="string"?D:this.data.get();(0,c.jS)(this.sourceElement,je)}}}function E($,D){if(D.ckeditorInstance)throw new c.Bb("editor-source-element-already-used",$);D.ckeditorInstance=$,$.once("destroy",()=>{delete D.ckeditorInstance})}T.updateSourceElement=T(Object).prototype.updateSourceElement;class ae extends te{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new c.FE({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(D){if(typeof D!="string")throw new c.Bb("pendingactions-add-invalid-message",this);const re=new((0,c.Re)());return re.set("message",D),this._actions.add(re),this.hasAny=!0,re}remove(D){this._actions.remove(D),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}var q=l("./packages/ckeditor5-core/theme/icons/cancel.svg"),z=l("./packages/ckeditor5-core/theme/icons/check.svg"),b=l("./packages/ckeditor5-core/theme/icons/eraser.svg");const V={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:q.Z,caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:z.Z,cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:b.Z,history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v12.862c0 .64-.532 1.038-1.184 1.038H2.184C1.532 16 1 15.603 1 14.962V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.129 2.129 0 0 1 .157-2.364 2.133 2.133 0 1 1-.157 2.363Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.2 1C.536 1 0 1.47 0 2.1v12.863C0 15.603.547 16 1.199 16h6.3c.908-1.19 1.892-2.41 2.8-3.6L6.615 9.15a.694.694 0 0 0-.957-.033L1.5 13.5v-11h15v6c.6.6 1.012.857 1.5 1.5V2.1c0-.63-.55-1.1-1.201-1.1h-15.6Zm11.724 2.805a2.133 2.133 0 0 0-.998.283 2.129 2.129 0 0 0-.992 1.295c-.074.27-.095.55-.057.828a2.136 2.136 0 0 0 1.56 1.783 2.13 2.13 0 0 0 2.612-1.506 2.129 2.129 0 0 0-2.125-2.683Z"/><path d="M15.208 19.011c.436 0 .79-.327.79-.763v-5.4l2.059 2.455a.79.79 0 0 0 1.212-1.015l-3.352-3.995a.79.79 0 0 0-.996-.179.786.786 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017L14.5 12.9v5.3c0 .437.272.811.709.811Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.54 1 0 1.47 0 2.1v12.86c0 .64.448 1.029 1.1 1.039h6.4v-6l-.885-.85a.692.692 0 0 0-.955-.033L1.5 13.5v-11h15V10H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.129 2.129 0 0 0-1.621.832A2.125 2.125 0 0 0 11.146 7a2.13 2.13 0 0 0 3.905-.512 2.135 2.135 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.367-.44Z"/><path clip-rule="evenodd" d="M19.5 12.5v6.156c0 .224-.192.439-.35.597a.844.844 0 0 1-.597.247H9.834a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.532c.223 0 .476.049.634.207l1 .793h4.5c.224 0 .491.214.65.372.158.158.35.404.35.628ZM18 13h-4.5l-1-1h-2v6H18v-5Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_355_284)"><path d="M1.201 1C.54 1 0 1.47 0 2.1v12.863C0 15.603.548 16 1.2 16H8c.022-1.034.222-1.961.783-2.9L9.5 12 6.617 9.15a.694.694 0 0 0-.957-.033L1.5 13.5v-11h15v5.8c.58.188 1.012.43 1.5.8v-7c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.133 2.133 0 0 0-.996.283 2.131 2.131 0 0 0-.994 1.295 2.136 2.136 0 0 0 1.506 2.611 2.13 2.13 0 0 0 2.61-1.505 2.128 2.128 0 0 0-2.126-2.684Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.649.649 0 0 0-.096.493.665.665 0 0 0 .278.417.7.7 0 0 0 .944-.233 1.741 1.741 0 0 1 2.478-.464 1.869 1.869 0 0 1 .476 2.55.634.634 0 0 0-.071.5.648.648 0 0 0 .309.397.628.628 0 0 0 .869-.19l.027-.042a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.781-.044.065a3.228 3.228 0 0 0 .82 4.404 3.005 3.005 0 0 0 4.275-.799l.13-.196a.626.626 0 0 0 .092-.475.642.642 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.028a1.742 1.742 0 0 1-2.477.462 1.87 1.87 0 0 1-.476-2.551l.03-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.407l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.837-.19-1.067-.346-.229-.82-.123-1.059.237l-1.268 1.907c-.239.36-.153.837.192 1.066.345.23.818.124 1.057-.236l1.268-1.907Z"/></g><defs><clipPath id="clip0_355_284"><rect width="20" height="20"/></clipPath></defs></svg>',lowVision:`<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>
`,textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M.91 10.488A.909.909 0 0 0 0 11.4v6.877c0 .505.405.91.91.91h18.178a.909.909 0 0 0 .912-.91V11.4a.91.91 0 0 0-.912-.912H.91Zm2.758 1.5h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516l2.152-5.7Zm4.947 0h1.801v4.3h2.7v1.4h-4.5v-5.7Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9v-1.4Zm-8.517 1.457-.614 2.059h1.262l-.648-2.06Z"/><path d="M3.035 0C2.446 0 2 .54 2 1.098V9.5h1.5v-8h13v8H18V1.098C18 .539 17.48 0 16.9 0H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.894 1.894 0 0 0-.376 1.396 1.89 1.89 0 0 0 1.387 1.58c.485.13 1.004.063 1.439-.187a1.887 1.887 0 0 0-1.008-3.526ZM7.463 7.163a.611.611 0 0 0-.432.154L5.071 9.5h5.119L7.88 7.348a.627.627 0 0 0-.417-.184Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 9.5h2.969l-.92-1.113a.617.617 0 0 0-.42-.164Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'}},"./packages/ckeditor5-engine/src/index.ts":(p,_,l)=>{"use strict";l.d(_,{kW:()=>di,Yy:()=>jn,r7:()=>Ce,KU:()=>Ca,uz:()=>Fe,Yc:()=>Me,tn:()=>ir,f4:()=>ei,uj:()=>vn,pG:()=>k,dK:()=>he,qZ:()=>ve,qD:()=>In,jH:()=>gs,W_:()=>ln,DX:()=>Ko,Ay:()=>Ps,X5:()=>le,IZ:()=>On,jP:()=>uo,iE:()=>cn,zj:()=>co,xO:()=>V,lB:()=>En,Hn:()=>xa,dM:()=>Ta,$z:()=>dn,Pk:()=>Hn,Qj:()=>ce,Bz:()=>js,Ly:()=>Xt,e6:()=>Dt,sN:()=>po,Th:()=>Pn,_o:()=>$o,tF:()=>Do,qh:()=>pn,A_:()=>yi,aY:()=>Ji,xv:()=>an,R:()=>Wn,Po:()=>ko,yj:()=>Aa,G7:()=>To,m1:()=>di,By:()=>$t,Ux:()=>ki,y_:()=>Sn,W2:()=>Ne,y9:()=>Mi,pc:()=>Gi,wx:()=>qn,FY:()=>ee,Xj:()=>q,rh:()=>se,dq:()=>Zi,QR:()=>Ha,sI:()=>Ua,vt:()=>$a,J8:()=>Za,DA:()=>te,ID:()=>Y,KT:()=>Os,I8:()=>fa,mq:()=>us,oz:()=>ds,YG:()=>wn,m0:()=>sa,uT:()=>$s,$_:()=>ie,SB:()=>ga,D5:()=>ca,G9:()=>ua,IT:()=>da,zz:()=>Na,WK:()=>ma,Zb:()=>ha,PX:()=>pa,Q7:()=>u,NJ:()=>oe,Rf:()=>Gs});var c=l("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),P=l.n(c),B=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/placeholder.css"),x={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};P()(B.Z,x),B.Z.locals;var h=l("./packages/ckeditor5-utils/src/index.ts");const j=new WeakMap;let Z=!1;function Y({view:n,element:e,text:t,isDirectHost:i=!0,keepOnFocus:o=!1}){const a=n.document;function C(W){j.get(a).set(e,{text:W,isDirectHost:i,keepOnFocus:o,hostElement:i?e:null}),n.change(de=>y(a,de))}j.has(a)||(j.set(a,new Map),a.registerPostFixer(W=>y(a,W)),a.on("change:isComposing",()=>{n.change(W=>y(a,W))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(W,de,ke)=>{C(ke)}),e.placeholder?C(e.placeholder):t&&C(t),t&&function(){Z||(0,h.KE)("enableplaceholder-deprecated-text-option"),Z=!0}()}function te(n,e){const t=e.document;j.has(t)&&n.change(i=>{const o=j.get(t),a=o.get(e);i.removeAttribute("data-placeholder",a.hostElement),ie(i,a.hostElement),o.delete(e)})}function oe(n,e){return!e.hasClass("ck-placeholder")&&(n.addClass("ck-placeholder",e),!0)}function ie(n,e){return!!e.hasClass("ck-placeholder")&&(n.removeClass("ck-placeholder",e),!0)}function u(n,e){if(!n.isAttached()||Array.from(n.getChildren()).some(o=>!o.is("uiElement")))return!1;const t=n.document,i=t.selection.anchor;return(!t.isComposing||!i||i.parent!==n)&&(!!e||!t.isFocused||!!i&&i.parent!==n)}function y(n,e){const t=j.get(n),i=[];let o=!1;for(const[a,C]of t)C.isDirectHost&&(i.push(a),f(e,a,C)&&(o=!0));for(const[a,C]of t){if(C.isDirectHost)continue;const W=v(a);W&&(i.includes(W)||(C.hostElement=W,f(e,a,C)&&(o=!0)))}return o}function f(n,e,t){const{text:i,isDirectHost:o,hostElement:a}=t;let C=!1;return a.getAttribute("data-placeholder")!==i&&(n.setAttribute("data-placeholder",i,a),C=!0),(o||e.childCount==1)&&u(a,t.keepOnFocus)?oe(n,a)&&(C=!0):ie(n,a)&&(C=!0),C}function v(n){if(n.childCount){const e=n.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class A{is(){throw new Error("is() method is abstract")}}var T=l("./node_modules/lodash-es/_baseClone.js");const E=function(n){return(0,T.Z)(n,4)};l("./packages/ckeditor5-utils/src/version.ts");class ae extends(0,h.ln)(A){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new h.Bb("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),o=e.getAncestors(t);let a=0;for(;i[a]==o[a]&&i[a];)a++;return a===0?null:i[a-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),o=(0,h.Rt)(t,i);switch(o){case"prefix":return!0;case"extension":return!1;default:return t[o]<i[o]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=E(this);return delete e.parent,e}}ae.prototype.is=function(n){return n==="node"||n==="view:node"};class q extends ae{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof q&&(this===e||this.data===e.data)}_clone(){return new q(this.document,this.data)}}q.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};class z extends A{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.data.length)throw new h.Bb("view-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.data.length)throw new h.Bb("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let i=e.includeSelf?this.textNode:this.parent;for(;i!==null;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}}z.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};var b=l("./node_modules/lodash-es/isPlainObject.js");class V{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const i of this._patterns){const o=$(t,i);if(o)return{element:t,pattern:i,match:o}}return null}matchAll(...e){const t=[];for(const i of e)for(const o of this._patterns){const a=$(i,o);a&&t.push({element:i,pattern:o,match:a})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function $(n,e){if(typeof e=="function")return e(n);const t={};return e.name&&(t.name=function(i,o){return i instanceof RegExp?!!o.match(i):i===o}(e.name,n.name),!t.name)||e.attributes&&(t.attributes=function(i,o){const a=new Set(o.getAttributeKeys());return(0,b.Z)(i)?(i.style!==void 0&&(0,h.KE)("matcher-pattern-deprecated-attributes-style-key",i),i.class!==void 0&&(0,h.KE)("matcher-pattern-deprecated-attributes-class-key",i)):(a.delete("style"),a.delete("class")),D(i,a,C=>o.getAttribute(C))}(e.attributes,n),!t.attributes)||e.classes&&(t.classes=function(i,o){return D(i,o.getClassNames(),()=>{})}(e.classes,n),!t.classes)||e.styles&&(t.styles=function(i,o){return D(i,o.getStyleNames(!0),a=>o.getStyle(a))}(e.styles,n),!t.styles)?null:t}function D(n,e,t){const i=function(C){return Array.isArray(C)?C.map(W=>(0,b.Z)(W)?(W.key!==void 0&&W.value!==void 0||(0,h.KE)("matcher-pattern-missing-key-or-value",W),[W.key,W.value]):[W,!0]):(0,b.Z)(C)?Object.entries(C):[[C,!0]]}(n),o=Array.from(e),a=[];if(i.forEach(([C,W])=>{o.forEach(de=>{(function(ke,Se){return ke===!0||ke===Se||ke instanceof RegExp&&Se.match(ke)})(C,de)&&function(ke,Se,$e){if(ke===!0)return!0;const ot=$e(Se);return ke===ot||ke instanceof RegExp&&!!String(ot).match(ke)}(W,de,t)&&a.push(de)})}),i.length&&!(a.length<i.length))return a}var re=l("./node_modules/lodash-es/isObject.js"),Ee=l("./node_modules/lodash-es/isArray.js"),je=l("./node_modules/lodash-es/isSymbol.js"),Ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/;const mt=function(n,e){if((0,Ee.Z)(n))return!1;var t=typeof n;return!(t!="number"&&t!="symbol"&&t!="boolean"&&n!=null&&!(0,je.Z)(n))||De.test(n)||!Ie.test(n)||e!=null&&n in Object(e)};var lt=l("./node_modules/lodash-es/_MapCache.js");function ut(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function(){var i=arguments,o=e?e.apply(this,i):i[0],a=t.cache;if(a.has(o))return a.get(o);var C=n.apply(this,i);return t.cache=a.set(o,C)||a,C};return t.cache=new(ut.Cache||lt.Z),t}ut.Cache=lt.Z;const dt=ut;var _t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bt=/\\(\\)?/g;const Qe=function(n){var e=dt(n,function(i){return t.size===500&&t.clear(),i}),t=e.cache;return e}(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(_t,function(t,i,o,a){e.push(o?a.replace(bt,"$1"):i||t)}),e});var ft=l("./node_modules/lodash-es/toString.js");const Ve=function(n,e){return(0,Ee.Z)(n)?n:mt(n,e)?[n]:Qe((0,ft.Z)(n))},Te=function(n){var e=n==null?0:n.length;return e?n[e-1]:void 0},Q=function(n){if(typeof n=="string"||(0,je.Z)(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e},xe=function(n,e){for(var t=0,i=(e=Ve(e,n)).length;n!=null&&t<i;)n=n[Q(e[t++])];return t&&t==i?n:void 0},Oe=function(n,e,t){var i=-1,o=n.length;e<0&&(e=-e>o?0:o+e),(t=t>o?o:t)<0&&(t+=o),o=e>t?0:t-e>>>0,e>>>=0;for(var a=Array(o);++i<o;)a[i]=n[i+e];return a},Je=function(n,e){return e.length<2?n:xe(n,Oe(e,0,-1))},Ze=function(n,e){return e=Ve(e,n),(n=Je(n,e))==null||delete n[Q(Te(e))]},tt=function(n,e){return n==null||Ze(n,e)},st=function(n,e,t){var i=n==null?void 0:xe(n,e);return i===void 0?t:i};var Lt=l("./node_modules/lodash-es/_Stack.js"),Ft=l("./node_modules/lodash-es/_baseAssignValue.js"),Yt=l("./node_modules/lodash-es/eq.js");const ui=function(n,e,t){(t!==void 0&&!(0,Yt.Z)(n[e],t)||t===void 0&&!(e in n))&&(0,Ft.Z)(n,e,t)},Nt=function(n){return function(e,t,i){for(var o=-1,a=Object(e),C=i(e),W=C.length;W--;){var de=C[n?W:++o];if(t(a[de],de,a)===!1)break}return e}}();var ti=l("./node_modules/lodash-es/_cloneBuffer.js"),hi=l("./node_modules/lodash-es/_cloneTypedArray.js"),Ci=l("./node_modules/lodash-es/_copyArray.js"),Oi=l("./node_modules/lodash-es/_initCloneObject.js"),Di=l("./node_modules/lodash-es/isArguments.js"),Vi=l("./node_modules/lodash-es/isArrayLike.js"),Pi=l("./node_modules/lodash-es/isObjectLike.js");const $i=function(n){return(0,Pi.Z)(n)&&(0,Vi.Z)(n)};var at=l("./node_modules/lodash-es/isBuffer.js"),ue=l("./node_modules/lodash-es/isFunction.js"),ye=l("./node_modules/lodash-es/isTypedArray.js");const Le=function(n,e){if((e!=="constructor"||typeof n[e]!="function")&&e!="__proto__")return n[e]};var Ge=l("./node_modules/lodash-es/_copyObject.js"),rt=l("./node_modules/lodash-es/keysIn.js");const gt=function(n){return(0,Ge.Z)(n,(0,rt.Z)(n))},Ot=function(n,e,t,i,o,a,C){var W=Le(n,t),de=Le(e,t),ke=C.get(de);if(ke)ui(n,t,ke);else{var Se=a?a(W,de,t+"",n,e,C):void 0,$e=Se===void 0;if($e){var ot=(0,Ee.Z)(de),Vt=!ot&&(0,at.Z)(de),qt=!ot&&!Vt&&(0,ye.Z)(de);Se=de,ot||Vt||qt?(0,Ee.Z)(W)?Se=W:$i(W)?Se=(0,Ci.Z)(W):Vt?($e=!1,Se=(0,ti.Z)(de,!0)):qt?($e=!1,Se=(0,hi.Z)(de,!0)):Se=[]:(0,b.Z)(de)||(0,Di.Z)(de)?(Se=W,(0,Di.Z)(W)?Se=gt(W):(0,re.Z)(W)&&!(0,ue.Z)(W)||(Se=(0,Oi.Z)(de))):$e=!1}$e&&(C.set(de,Se),o(Se,de,i,a,C),C.delete(de)),ui(n,t,Se)}},Mt=function n(e,t,i,o,a){e!==t&&Nt(t,function(C,W){if(a||(a=new Lt.Z),(0,re.Z)(C))Ot(e,t,W,i,n,o,a);else{var de=o?o(Le(e,W),C,W+"",e,t,a):void 0;de===void 0&&(de=C),ui(e,W,de)}},rt.Z)},Ut=(0,l("./node_modules/lodash-es/_createAssigner.js").Z)(function(n,e,t){Mt(n,e,t)});var ri=l("./node_modules/lodash-es/_assignValue.js"),oi=l("./node_modules/lodash-es/_isIndex.js");const wi=function(n,e,t,i){if(!(0,re.Z)(n))return n;for(var o=-1,a=(e=Ve(e,n)).length,C=a-1,W=n;W!=null&&++o<a;){var de=Q(e[o]),ke=t;if(de==="__proto__"||de==="constructor"||de==="prototype")return n;if(o!=C){var Se=W[de];(ke=i?i(Se,de,W):void 0)===void 0&&(ke=(0,re.Z)(Se)?Se:(0,oi.Z)(e[o+1])?[]:{})}(0,ri.Z)(W,de,ke),W=W[de]}return n},Ii=function(n,e,t){return n==null?n:wi(n,e,t)};class Li{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=function(i){let o=null,a=0,C=0,W=null;const de=new Map;if(i==="")return de;i.charAt(i.length-1)!=";"&&(i+=";");for(let ke=0;ke<i.length;ke++){const Se=i.charAt(ke);if(o===null)switch(Se){case":":W||(W=i.substr(a,ke-a),C=ke+1);break;case'"':case"'":o=Se;break;case";":{const $e=i.substr(C,ke-C);W&&de.set(W.trim(),$e.trim()),W=null,a=ke+1;break}}else Se===o&&(o=null)}return de}(e);for(const[i,o]of t)this._styleProcessor.toNormalizedForm(i,o,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(t)}set(e,t){if((0,re.Z)(e))for(const[i,o]of Object.entries(e))this._styleProcessor.toNormalizedForm(i,o,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=ji(e);tt(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!(0,re.Z)(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const i of t)e.push(...this._styleProcessor.getReducedForm(i,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const i=t.splice(0,t.length-1).join("."),o=st(this._styles,i);o&&!Object.keys(o).length&&this.remove(i)}}class yi{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,i){if((0,re.Z)(t))Ki(i,ji(e),t);else if(this._normalizers.has(e)){const o=this._normalizers.get(e),{path:a,value:C}=o(t);Ki(i,a,C)}else Ki(i,e,t)}getNormalized(e,t){if(!e)return Ut({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const i=this._extractors.get(e);if(typeof i=="string")return st(t,i);const o=i(e,t);if(o)return o}return st(t,ji(e))}getReducedForm(e,t){const i=this.getNormalized(e,t);return i===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(i):[[e,i]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(o=>{const a=this.getNormalized(o,e);return a&&typeof a=="object"?Object.keys(a).length:a}),i=new Set([...t,...Object.keys(e)]);return Array.from(i)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const i of t)this._mapStyleNames(i,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function ji(n){return n.replace("-",".")}function Ki(n,e,t){let i=t;(0,re.Z)(t)&&(i=Ut({},st(n,e),t)),Ii(n,e,i)}class Mi extends ae{constructor(e,t,i,o){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(a){const C=(0,h.qL)(a);for(const[W,de]of C)de===null?C.delete(W):typeof de!="string"&&C.set(W,String(de));return C}(i),this._children=[],o&&this._insertChild(0,o),this._classes=new Set,this._attrs.has("class")){const a=this._attrs.get("class");tn(this._classes,a),this._attrs.delete("class")}this._styles=new Li(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Mi))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,i]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==i)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new V(...e);let i=this.parent;for(;i&&!i.is("documentFragment");){if(t.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),i=Array.from(this._attrs).map(o=>`${o[0]}="${o[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const o of this.getChildren())t.push(o._clone(e));const i=new this.constructor(this.document,this.name,this._attrs,t);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let i=0;const o=function(a,C){return typeof C=="string"?[new q(a,C)]:((0,h.TW)(C)||(C=[C]),Array.from(C).map(W=>typeof W=="string"?new q(a,W):W instanceof z?new q(a,W.data):W))}(this.document,t);for(const a of o)a.parent!==null&&a._remove(),a.parent=this,a.document=this.document,this._children.splice(e,0,a),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const i=String(t);this._fireChange("attributes",this),e=="class"?tn(this._classes,i):e=="style"?this._styles.setTo(i):this._attrs.set(e,i)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of(0,h.qo)(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of(0,h.qo)(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of(0,h.qo)(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function tn(n,e){const t=e.split(/\s+/);n.clear(),t.forEach(i=>n.add(i))}Mi.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};class $t extends Mi{constructor(e,t,i,o){super(e,t,i,o),this.getFillerOffset=wn}}function wn(){const n=[...this.getChildren()],e=n[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of n)if(!t.is("uiElement"))return null;return this.childCount}$t.prototype.is=function(n,e){return e?e===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Ne extends(0,h.Re)($t){constructor(e,t,i,o){super(e,t,i,o),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",a=>a&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Ne.prototype.is=function(n,e){return e?e===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};const H=Symbol("rootName");class ee extends Ne{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(H)}set rootName(e){this._setCustomProperty(H,e)}set _name(e){this.name=e}}ee.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class se{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new h.Bb("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new h.Bb("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=be._createAt(e.startPosition):this._position=be._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i;do i=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let o;if(i instanceof q){if(e.isAtEnd)return this._position=be._createAfter(i),this._next();o=i.data[e.offset]}else o=i.getChild(e.offset);if(o instanceof Mi){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new be(o,0);return this._position=e,this._formatReturnValue("elementStart",o,t,e,1)}if(o instanceof q){if(this.singleCharacters)return e=new be(o,0),this._position=e,this._next();let a,C=o.data.length;return o==this._boundaryEndParent?(C=this.boundaries.end.offset,a=new z(o,0,C),e=be._createAfter(a)):(a=new z(o,0,o.data.length),e.offset++),this._position=e,this._formatReturnValue("text",a,t,e,C)}if(typeof o=="string"){let a;this.singleCharacters?a=1:a=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-e.offset;const C=new z(i,e.offset,a);return e.offset+=a,this._position=e,this._formatReturnValue("text",C,t,e,a)}return e=be._createAfter(i),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,t,e)}_previous(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let o;if(i instanceof q){if(e.isAtStart)return this._position=be._createBefore(i),this._previous();o=i.data[e.offset-1]}else o=i.getChild(e.offset-1);if(o instanceof Mi)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",o,t,e,1)):(e=new be(o,o.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",o,t,e));if(o instanceof q){if(this.singleCharacters)return e=new be(o,o.data.length),this._position=e,this._previous();let a,C=o.data.length;if(o==this._boundaryStartParent){const W=this.boundaries.start.offset;a=new z(o,W,o.data.length-W),C=a.data.length,e=be._createBefore(a)}else a=new z(o,0,o.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",a,t,e,C)}if(typeof o=="string"){let a;if(this.singleCharacters)a=1;else{const W=i===this._boundaryStartParent?this.boundaries.start.offset:0;a=e.offset-W}e.offset-=a;const C=new z(i,e.offset,a);return this._position=e,this._formatReturnValue("text",C,t,e,a)}return e=be._createBefore(i),this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}_formatReturnValue(e,t,i,o,a){return t instanceof z&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?i=be._createAfter(t.textNode):(o=be._createAfter(t.textNode),this._position=o)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?i=be._createBefore(t.textNode):(o=be._createBefore(t.textNode),this._position=o))),{done:!1,value:{type:e,item:t,previousPosition:i,nextPosition:o,length:a}}}}class be extends A{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Ne);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=be._createAt(this),i=t.offset+e;return t.offset=i<0?0:i,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new se(t);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let o=0;for(;t[o]==i[o]&&t[o];)o++;return o===0?null:t[o-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),i.push(e.offset);const o=(0,h.Rt)(t,i);switch(o){case"prefix":return"before";case"extension":return"after";default:return t[o]<i[o]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new se(e)}clone(){return new be(this.parent,this.offset)}static _createAt(e,t){if(e instanceof be)return new this(e.parent,e.offset);{const i=e;if(t=="end")t=i.is("$text")?i.data.length:i.childCount;else{if(t=="before")return this._createBefore(i);if(t=="after")return this._createAfter(i);if(t!==0&&!t)throw new h.Bb("view-createpositionat-offset-required",i)}return new be(i,t)}}static _createAfter(e){if(e.is("$textProxy"))return new be(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new h.Bb("view-position-after-root",e,{root:e});return new be(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new be(e.textNode,e.offsetInText);if(!e.parent)throw new h.Bb("view-position-before-root",e,{root:e});return new be(e.parent,e.index)}}be.prototype.is=function(n){return n==="position"||n==="view:position"};class ht extends A{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new se({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(jt,{direction:"backward"}),t=this.end.getLastMatchingPosition(jt);return e.parent.is("$text")&&e.isAtStart&&(e=be._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=be._createAfter(t.parent)),new ht(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(jt);if(e.isAfter(this.end)||e.isEqual(this.end))return new ht(e,e);let t=this.end.getLastMatchingPosition(jt,{direction:"backward"});const i=e.nodeAfter,o=t.nodeBefore;return i&&i.is("$text")&&(e=new be(i,0)),o&&o.is("$text")&&(t=new be(o,o.data.length)),new ht(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&o}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ht(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ht(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new ht(t,i)}return null}getWalker(e={}){return e.boundaries=this,new se(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new ht(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new se(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new se(e);yield t.position;for(const i of t)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,i,o){return new this(new be(e,t),new be(i,o))}static _createFromPositionAndShift(e,t){const i=e,o=e.getShiftedBy(t);return t>0?new this(i,o):new this(o,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(be._createBefore(e),t)}}function jt(n){return!(!n.item.is("attributeElement")&&!n.item.is("uiElement"))}ht.prototype.is=function(n){return n==="range"||n==="view:range"};class Qt extends(0,h.ln)(A){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const o of e._ranges)if(t.isEqual(o)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=(0,h.QX)(this.getRanges());if(t!=(0,h.QX)(e.getRanges()))return!1;if(t==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let o=!1;for(let a of e.getRanges())if(a=a.getTrimmed(),i.start.isEqual(a.start)&&i.end.isEqual(a.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,i,o]=e;if(typeof i=="object"&&(o=i,i=void 0),t===null)this._setRanges([]),this._setFakeOptions(o);else if(t instanceof Qt||t instanceof yt)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof ht)this._setRanges([t],o&&o.backward),this._setFakeOptions(o);else if(t instanceof be)this._setRanges([new ht(t)]),this._setFakeOptions(o);else if(t instanceof ae){const a=!!o&&!!o.backward;let C;if(i===void 0)throw new h.Bb("view-selection-setto-required-second-parameter",this);C=i=="in"?ht._createIn(t):i=="on"?ht._createOn(t):new ht(be._createAt(t,i)),this._setRanges([C],a),this._setFakeOptions(o)}else{if(!(0,h.TW)(t))throw new h.Bb("view-selection-setto-not-selectable",this);this._setRanges(t,o&&o.backward),this._setFakeOptions(o)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new h.Bb("view-selection-setfocus-no-ranges",this);const i=be._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.pop(),i.compareWith(o)=="before"?this._addRange(new ht(i,o),!0):this._addRange(new ht(o,i)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const i of e)this._addRange(i);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof ht))throw new h.Bb("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new h.Bb("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new ht(e.start,e.end))}}Qt.prototype.is=function(n){return n==="selection"||n==="view:selection"};class yt extends(0,h.ln)(A){constructor(...e){super(),this._selection=new Qt,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}yt.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};class Ce extends h.M3{constructor(e,t,i){super(e,t),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const ze=Symbol("bubbling contexts");function nt(n){return class extends n{fire(e,...t){try{const i=e instanceof h.M3?e:new h.M3(this,e),o=ni(this);if(!o.size)return;if(Ke(i,"capturing",this),xt(o,"$capture",i,...t))return i.return;const a=i.startRange||this.selection.getFirstRange(),C=a?a.getContainedElement():null,W=!!C&&Boolean(si(o,C));let de=C||function(ke){if(!ke)return null;const Se=ke.start.parent,$e=ke.end.parent,ot=Se.getPath(),Vt=$e.getPath();return ot.length>Vt.length?Se:$e}(a);if(Ke(i,"atTarget",de),!W){if(xt(o,"$text",i,...t))return i.return;Ke(i,"bubbling",de)}for(;de;){if(de.is("rootElement")){if(xt(o,"$root",i,...t))return i.return}else if(de.is("element")&&xt(o,de.name,i,...t))return i.return;if(xt(o,de,i,...t))return i.return;de=de.parent,Ke(i,"bubbling",de)}return Ke(i,"bubbling",this),xt(o,"$document",i,...t),i.return}catch(i){h.Bb.rethrowUnexpectedError(i,this)}}_addEventListener(e,t,i){const o=(0,h.qo)(i.context||"$document"),a=ni(this);for(const C of o){let W=a.get(C);W||(W=new((0,h.ln)()),a.set(C,W)),this.listenTo(W,e,t,i)}}_removeEventListener(e,t){const i=ni(this);for(const o of i.values())this.stopListening(o,e,t)}}}{const n=nt(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{nt[e]=n.prototype[e]})}function Ke(n,e,t){n instanceof Ce&&(n._eventPhase=e,n._currentTarget=t)}function xt(n,e,t,...i){const o=typeof e=="string"?n.get(e):si(n,e);return!!o&&(o.fire(t,...i),t.stop.called)}function si(n,e){for(const[t,i]of n)if(typeof t=="function"&&t(e))return i;return null}function ni(n){return n[ze]||(n[ze]=new Map),n[ze]}class ki extends nt((0,h.Re)()){constructor(e){super(),this._postFixers=new Set,this.selection=new yt,this.roots=new h.FE({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(t=i(e),t)break;while(t)}}class di extends Mi{constructor(e,t,i,o){super(e,t,i,o),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=Ti}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new h.Bb("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function Ti(){if(Ni(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(Ni(n)>1)return null;n=n.parent}return!n||Ni(n)>1?null:this.childCount}function Ni(n){return Array.from(n.getChildren()).filter(e=>!e.is("uiElement")).length}di.DEFAULT_PRIORITY=10,di.prototype.is=function(n,e){return e?e===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Gi extends Mi{constructor(e,t,i,o){super(e,t,i,o),this.getFillerOffset=on}_insertChild(e,t){if(t&&(t instanceof ae||Array.from(t).length>0))throw new h.Bb("view-emptyelement-cannot-add",[this,t]);return 0}}function on(){return null}Gi.prototype.is=function(n,e){return e?e===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Zi extends Mi{constructor(e,t,i,o){super(e,t,i,o),this.getFillerOffset=kn}_insertChild(e,t){if(t&&(t instanceof ae||Array.from(t).length>0))throw new h.Bb("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const i of this.getAttributeKeys())t.setAttribute(i,this.getAttribute(i));return t}}function hn(n){n.document.on("arrowKey",(e,t)=>function(i,o,a){if(o.keyCode==h.Do.arrowright){const C=o.domTarget.ownerDocument.defaultView.getSelection(),W=C.rangeCount==1&&C.getRangeAt(0).collapsed;if(W||o.shiftKey){const de=C.focusNode,ke=C.focusOffset,Se=a.domPositionToView(de,ke);if(Se===null)return;let $e=!1;const ot=Se.getLastMatchingPosition(Vt=>(Vt.item.is("uiElement")&&($e=!0),!(!Vt.item.is("uiElement")&&!Vt.item.is("attributeElement"))));if($e){const Vt=a.viewPositionToDom(ot);W?C.collapse(Vt.parent,Vt.offset):C.extend(Vt.parent,Vt.offset)}}}}(0,t,n.domConverter),{priority:"low"})}function kn(){return null}Zi.prototype.is=function(n,e){return e?e===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class qn extends Mi{constructor(e,t,i,o){super(e,t,i,o),this.getFillerOffset=rn}_insertChild(e,t){if(t&&(t instanceof ae||Array.from(t).length>0))throw new h.Bb("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function rn(){return null}qn.prototype.is=function(n,e){return e?e===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Sn extends(0,h.ln)(A){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let i=0;const o=function(a,C){return typeof C=="string"?[new q(a,C)]:((0,h.TW)(C)||(C=[C]),Array.from(C).map(W=>typeof W=="string"?new q(a,W):W instanceof z?new q(a,W.data):W))}(this.document,t);for(const a of o)a.parent!==null&&a._remove(),a.parent=this,this._children.splice(e,0,a),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Sn.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};class In{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Sn(this.document,e)}createText(e){return new q(this.document,e)}createAttributeElement(e,t,i={}){const o=new di(this.document,e,t);return typeof i.priority=="number"&&(o._priority=i.priority),i.id&&(o._id=i.id),i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createContainerElement(e,t,i={},o={}){let a=null;(0,b.Z)(i)?o=i:a=i;const C=new $t(this.document,e,t,a);return o.renderUnsafeAttributes&&C._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),C}createEditableElement(e,t,i={}){const o=new Ne(this.document,e,t);return i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createEmptyElement(e,t,i={}){const o=new Gi(this.document,e,t);return i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createUIElement(e,t,i){const o=new Zi(this.document,e,t);return i&&(o.render=i),o}createRawElement(e,t,i,o={}){const a=new qn(this.document,e,t);return i&&(a.render=i),o.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),a}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){(0,b.Z)(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof be?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new h.Bb("view-writer-break-non-container-element",this.document);if(!t.parent)throw new h.Bb("view-writer-break-root",this.document);if(e.isAtStart)return be._createBefore(t);if(!e.isAtEnd){const i=t._clone(!1);this.insert(be._createAfter(t),i);const o=new ht(e,be._createAt(t,"end")),a=new be(i,0);this.move(o,a)}return be._createAfter(t)}mergeAttributes(e){const t=e.offset,i=e.parent;if(i.is("$text"))return e;if(i.is("attributeElement")&&i.childCount===0){const C=i.parent,W=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new be(C,W))}const o=i.getChild(t-1),a=i.getChild(t);if(!o||!a)return e;if(o.is("$text")&&a.is("$text"))return Ht(o,a);if(o.is("attributeElement")&&a.is("attributeElement")&&o.isSimilar(a)){const C=o.childCount;return o._appendChild(a.getChildren()),a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new be(o,C))}return e}mergeContainers(e){const t=e.nodeBefore,i=e.nodeAfter;if(!(t&&i&&t.is("containerElement")&&i.is("containerElement")))throw new h.Bb("view-writer-merge-containers-invalid-position",this.document);const o=t.getChild(t.childCount-1),a=o instanceof q?be._createAt(o,"end"):be._createAt(t,"end");return this.move(ht._createIn(i),be._createAt(t,"end")),this.remove(ht._createOn(i)),a}insert(e,t){Ae(t=(0,h.TW)(t)?[...t]:[t],this.document);const i=t.reduce((C,W)=>{const de=C[C.length-1],ke=!W.is("uiElement");return de&&de.breakAttributes==ke?de.nodes.push(W):C.push({breakAttributes:ke,nodes:[W]}),C},[]);let o=null,a=e;for(const{nodes:C,breakAttributes:W}of i){const de=this._insertNodes(a,C,W);o||(o=de.start),a=de.end}return o?new ht(o,a):new ht(e)}remove(e){const t=e instanceof ht?e:ht._createOn(e);if(Be(t,this.document),t.isCollapsed)return new Sn(this.document);const{start:i,end:o}=this._breakAttributesRange(t,!0),a=i.parent,C=o.offset-i.offset,W=a._removeChildren(i.offset,C);for(const ke of W)this._removeFromClonedElementsGroup(ke);const de=this.mergeAttributes(i);return t.start=de,t.end=de.clone(),new Sn(this.document,W)}clear(e,t){Be(e,this.document);const i=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const o of i){const a=o.item;let C;if(a.is("element")&&t.isSimilar(a))C=ht._createOn(a);else if(!o.nextPosition.isAfter(e.start)&&a.is("$textProxy")){const W=a.getAncestors().find(de=>de.is("element")&&t.isSimilar(de));W&&(C=ht._createIn(W))}C&&(C.end.isAfter(e.end)&&(C.end=e.end),C.start.isBefore(e.start)&&(C.start=e.start),this.remove(C))}}move(e,t){let i;if(t.isAfter(e.end)){const o=(t=this._breakAttributes(t,!0)).parent,a=o.childCount;e=this._breakAttributesRange(e,!0),i=this.remove(e),t.offset+=o.childCount-a}else i=this.remove(e);return this.insert(t,i)}wrap(e,t){if(!(t instanceof di))throw new h.Bb("view-writer-wrap-invalid-attribute",this.document);if(Be(e,this.document),e.isCollapsed){let o=e.start;o.parent.is("element")&&(i=o.parent,!Array.from(i.getChildren()).some(C=>!C.is("uiElement")))&&(o=o.getLastMatchingPosition(C=>C.item.is("uiElement"))),o=this._wrapPosition(o,t);const a=this.document.selection;return a.isCollapsed&&a.getFirstPosition().isEqual(e.start)&&this.setSelection(o),new ht(o)}return this._wrapRange(e,t);var i}unwrap(e,t){if(!(t instanceof di))throw new h.Bb("view-writer-unwrap-invalid-attribute",this.document);if(Be(e,this.document),e.isCollapsed)return e;const{start:i,end:o}=this._breakAttributesRange(e,!0),a=i.parent,C=this._unwrapChildren(a,i.offset,o.offset,t),W=this.mergeAttributes(C.start);W.isEqual(C.start)||C.end.offset--;const de=this.mergeAttributes(C.end);return new ht(W,de)}rename(e,t){const i=new $t(this.document,e,t.getAttributes());return this.insert(be._createAfter(t),i),this.move(ht._createIn(t),be._createAt(i,0)),this.remove(ht._createOn(t)),i}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return be._createAt(e,t)}createPositionAfter(e){return be._createAfter(e)}createPositionBefore(e){return be._createBefore(e)}createRange(e,t){return new ht(e,t)}createRangeOn(e){return ht._createOn(e)}createRangeIn(e){return ht._createIn(e)}createSelection(...e){return new Qt(...e)}createSlot(e="children"){if(!this._slotFactory)throw new h.Bb("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,i){let o,a;if(o=i?Yn(e):e.parent.is("$text")?e.parent.parent:e.parent,!o)throw new h.Bb("view-writer-invalid-position-container",this.document);a=i?this._breakAttributes(e,!0):e.parent.is("$text")?ro(e):e;const C=o._insertChild(a.offset,t);for(const Se of t)this._addToClonedElementsGroup(Se);const W=a.getShiftedBy(C),de=this.mergeAttributes(a);de.isEqual(a)||W.offset--;const ke=this.mergeAttributes(W);return new ht(de,ke)}_wrapChildren(e,t,i,o){let a=t;const C=[];for(;a<i;){const de=e.getChild(a),ke=de.is("$text"),Se=de.is("attributeElement");if(Se&&this._wrapAttributeElement(o,de))C.push(new be(e,a));else if(ke||!Se||ho(o,de)){const $e=o._clone();de._remove(),$e._appendChild(de),e._insertChild(a,$e),this._addToClonedElementsGroup($e),C.push(new be(e,a))}else this._wrapChildren(de,0,de.childCount,o);a++}let W=0;for(const de of C)de.offset-=W,de.offset!=t&&(this.mergeAttributes(de).isEqual(de)||(W++,i--));return ht._createFromParentsAndOffsets(e,t,e,i)}_unwrapChildren(e,t,i,o){let a=t;const C=[];for(;a<i;){const de=e.getChild(a);if(de.is("attributeElement"))if(de.isSimilar(o)){const ke=de.getChildren(),Se=de.childCount;de._remove(),e._insertChild(a,ke),this._removeFromClonedElementsGroup(de),C.push(new be(e,a),new be(e,a+Se)),a+=Se,i+=Se-1}else this._unwrapAttributeElement(o,de)?(C.push(new be(e,a),new be(e,a+1)),a++):(this._unwrapChildren(de,0,de.childCount,o),a++);else a++}let W=0;for(const de of C)de.offset-=W,!(de.offset==t||de.offset==i)&&(this.mergeAttributes(de).isEqual(de)||(W++,i--));return ht._createFromParentsAndOffsets(e,t,e,i)}_wrapRange(e,t){const{start:i,end:o}=this._breakAttributesRange(e,!0),a=i.parent,C=this._wrapChildren(a,i.offset,o.offset,t),W=this.mergeAttributes(C.start);W.isEqual(C.start)||C.end.offset--;const de=this.mergeAttributes(C.end);return new ht(W,de)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return oo(e.clone());e.parent.is("$text")&&(e=ro(e));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,e.parent._insertChild(e.offset,i);const o=new ht(e,e.getShiftedBy(1));this.wrap(o,t);const a=new be(i.parent,i.index);i._remove();const C=a.nodeBefore,W=a.nodeAfter;return C instanceof q&&W instanceof q?Ht(C,W):oo(a)}_wrapAttributeElement(e,t){if(!et(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(i!=="class"&&i!=="style"&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1;for(const i of e.getStyleNames())if(t.hasStyle(i)&&t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i!=="class"&&i!=="style"&&(t.hasAttribute(i)||this.setAttribute(i,e.getAttribute(i),t));for(const i of e.getStyleNames())t.hasStyle(i)||this.setStyle(i,e.getStyle(i),t);for(const i of e.getClassNames())t.hasClass(i)||this.addClass(i,t);return!0}_unwrapAttributeElement(e,t){if(!et(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(i!=="class"&&i!=="style"&&(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const i of e.getStyleNames())if(!t.hasStyle(i)||t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i!=="class"&&i!=="style"&&this.removeAttribute(i,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const i=e.start,o=e.end;if(Be(e,this.document),e.isCollapsed){const de=this._breakAttributes(e.start,t);return new ht(de,de)}const a=this._breakAttributes(o,t),C=a.parent.childCount,W=this._breakAttributes(i,t);return a.offset+=a.parent.childCount-C,new ht(W,a)}_breakAttributes(e,t=!1){const i=e.offset,o=e.parent;if(e.parent.is("emptyElement"))throw new h.Bb("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new h.Bb("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new h.Bb("view-writer-cannot-break-raw-element",this.document);if(!t&&o.is("$text")&&Ue(o.parent)||Ue(o))return e.clone();if(o.is("$text"))return this._breakAttributes(ro(e),t);if(i==o.childCount){const a=new be(o.parent,o.index+1);return this._breakAttributes(a,t)}if(i===0){const a=new be(o.parent,o.index);return this._breakAttributes(a,t)}{const a=o.index+1,C=o._clone();o.parent._insertChild(a,C),this._addToClonedElementsGroup(C);const W=o.childCount-i,de=o._removeChildren(i,W);C._appendChild(de);const ke=new be(o.parent,a);return this._breakAttributes(ke,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const o of e.getChildren())this._addToClonedElementsGroup(o);const t=e.id;if(!t)return;let i=this._cloneGroups.get(t);i||(i=new Set,this._cloneGroups.set(t,i)),i.add(e),e._clonesGroup=i}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const o of e.getChildren())this._removeFromClonedElementsGroup(o);const t=e.id;if(!t)return;const i=this._cloneGroups.get(t);i&&i.delete(e)}}function Yn(n){let e=n.parent;for(;!Ue(e);){if(!e)return;e=e.parent}return e}function ho(n,e){return n.priority<e.priority||!(n.priority>e.priority)&&n.getIdentity()<e.getIdentity()}function oo(n){const e=n.nodeBefore;if(e&&e.is("$text"))return new be(e,e.data.length);const t=n.nodeAfter;return t&&t.is("$text")?new be(t,0):n}function ro(n){if(n.offset==n.parent.data.length)return new be(n.parent.parent,n.parent.index+1);if(n.offset===0)return new be(n.parent.parent,n.parent.index);const e=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new q(n.root.document,e)),new be(n.parent.parent,n.parent.index+1)}function Ht(n,e){const t=n.data.length;return n._data+=e.data,e._remove(),new be(n,t)}const K=[q,di,$t,Gi,qn,Zi];function Ae(n,e){for(const t of n){if(!K.some(i=>t instanceof i))throw new h.Bb("view-writer-insert-invalid-node-type",e);t.is("$text")||Ae(t.getChildren(),e)}}function Ue(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function Be(n,e){const t=Yn(n.start),i=Yn(n.end);if(!t||!i||t!==i)throw new h.Bb("view-writer-invalid-range-container",e)}function et(n,e){return n.id===null&&e.id===null}const Xe=n=>n.createTextNode("\xA0"),It=n=>{const e=n.createElement("span");return e.dataset.ckeFiller="true",e.innerText="\xA0",e},vt=n=>{const e=n.createElement("br");return e.dataset.ckeFiller="true",e},St=7,zt="\u2060".repeat(St);function Wt(n){return typeof n=="string"?n.substr(0,St)===zt:(0,h.Gs)(n)&&n.data.substr(0,St)===zt}function mi(n){return n.data.length==St&&Wt(n)}function ai(n){const e=typeof n=="string"?n:n.data;return Wt(n)?e.slice(St):e}function gi(n,e){if(e.keyCode==h.Do.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const i=t.getRangeAt(0).startContainer,o=t.getRangeAt(0).startOffset;Wt(i)&&o<=St&&t.collapse(i,0)}}}var Ri=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/renderer.css"),Qi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};P()(Ri.Z,Qi),Ri.Z.locals;class Pn extends(0,h.Re)(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),h.OB.isBlink&&!h.OB.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new h.Bb("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!h.OB.isAndroid)return;let e=null;const t=!(h.OB.isBlink&&!h.OB.isAndroid)||!this.isSelecting;for(const i of this.markedChildren)this._updateChildrenMappings(i);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=be._createBefore(e.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(t)if(e){const i=this.domConverter.viewPositionToDom(e),o=i.parent.ownerDocument;Wt(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=Mn(o,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.childNodes),o=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),a=this._diffNodeLists(i,o),C=this._findUpdateActions(a,i,o,Qn);if(C.indexOf("update")!==-1){const W={equal:0,insert:0,delete:0};for(const de of C)if(de==="update"){const ke=W.equal+W.insert,Se=W.equal+W.delete,$e=e.getChild(ke);!$e||$e.is("uiElement")||$e.is("rawElement")||this._updateElementMappings($e,i[Se]),(0,h.Od)(o[ke]),W.equal++}else W[de]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?be._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&(0,h.Gs)(t.parent)&&Wt(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Wt(e))throw new h.Bb("view-renderer-filler-was-lost",this);mi(e)?e.remove():e.data=e.data.substr(St),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(C){if(C.getAttribute("contenteditable")=="false")return!1;const W=C.findAncestor(de=>de.hasAttribute("contenteditable"));return!W||W.getAttribute("contenteditable")=="true"}(t)||i===t.getFillerOffset())return!1;const o=e.nodeBefore,a=e.nodeAfter;return!(o instanceof q||a instanceof q)&&(!h.OB.isAndroid||!o&&!a)}_updateText(e,t){const i=this.domConverter.findCorrespondingDomText(e);let o=this.domConverter.viewToDom(e).data;const a=t.inlineFillerPosition;a&&a.parent==e.parent&&a.offset==e.index&&(o=zt+o),mo(i,o)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.attributes).map(a=>a.name),o=e.getAttributeKeys();for(const a of o)this.domConverter.setDomElementAttribute(t,a,e.getAttribute(a),e);for(const a of i)e.hasAttribute(a)||this.domConverter.removeDomElementAttribute(t,a)}_updateChildren(e,t){const i=this.domConverter.mapViewToDom(e);if(!i)return;if(h.OB.isAndroid){let $e=null;for(const ot of Array.from(i.childNodes)){if($e&&(0,h.Gs)($e)&&(0,h.Gs)(ot)){i.normalize();break}$e=ot}}const o=t.inlineFillerPosition,a=i.childNodes,C=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));o&&o.parent===e&&Mn(i.ownerDocument,C,o.offset);const W=this._diffNodeLists(a,C),de=this._findUpdateActions(W,a,C,Kn);let ke=0;const Se=new Set;for(const $e of de)$e==="delete"?(Se.add(a[ke]),(0,h.Od)(a[ke])):$e!=="equal"&&$e!=="update"||ke++;ke=0;for(const $e of de)$e==="insert"?((0,h.ZQ)(i,ke,C[ke]),ke++):$e==="update"?(mo(a[ke],C[ke].data),ke++):$e==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(C[ke])),ke++);for(const $e of Se)$e.parentNode||this.domConverter.unbindDomElement($e)}_diffNodeLists(e,t){return e=function(i,o){const a=Array.from(i);return a.length==0||!o||a[a.length-1]==o&&a.pop(),a}(e,this._fakeSelectionContainer),(0,h.Hg)(e,t,Rn.bind(null,this.domConverter))}_findUpdateActions(e,t,i,o){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let a=[],C=[],W=[];const de={equal:0,insert:0,delete:0};for(const ke of e)ke==="insert"?W.push(i[de.equal+de.insert]):ke==="delete"?C.push(t[de.equal+de.delete]):(a=a.concat((0,h.Hg)(C,W,o).map(Se=>Se==="equal"?"update":Se)),a.push("equal"),C=[],W=[]),de[ke]++;return a.concat((0,h.Hg)(C,W,o).map(ke=>ke==="equal"?"update":ke))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(h.OB.isBlink&&!h.OB.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&h.OB.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(C){const W=C.createElement("div");return W.className="ck-fake-selection-container",Object.assign(W.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),W.textContent="\xA0",W}(t));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;i.parentElement&&i.parentElement==e||e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||"\xA0";const o=t.getSelection(),a=t.createRange();o.removeAllRanges(),a.selectNodeContents(i),o.addRange(a)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(i.parent,i.offset,o.parent,o.offset),h.OB.isGecko&&function(a,C){const W=a.parent;if(W.nodeType!=Node.ELEMENT_NODE||a.offset!=W.childNodes.length-1)return;const de=W.childNodes[a.offset];de&&de.tagName=="BR"&&C.addRange(C.getRangeAt(0))}(o,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!t||t.parentElement!==e||i.anchorNode!==t&&!t.contains(i.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const i=e.activeElement,o=this.domConverter.mapDomToView(i);i&&o&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function Mn(n,e,t){const i=e instanceof Array?e:e.childNodes,o=i[t];if((0,h.Gs)(o))return o.data=zt+o.data,o;{const a=n.createTextNode(zt);return Array.isArray(e)?i.splice(t,0,a):(0,h.ZQ)(e,t,a),a}}function Qn(n,e){return(0,h.UG)(n)&&(0,h.UG)(e)&&!(0,h.Gs)(n)&&!(0,h.Gs)(e)&&!(0,h.C3)(n)&&!(0,h.C3)(e)&&n.tagName.toLowerCase()===e.tagName.toLowerCase()}function Kn(n,e){return(0,h.UG)(n)&&(0,h.UG)(e)&&(0,h.Gs)(n)&&(0,h.Gs)(e)}function Rn(n,e,t){return e===t||((0,h.Gs)(e)&&(0,h.Gs)(t)?e.data===t.data:!(!n.isBlockFiller(e)||!n.isBlockFiller(t)))}function mo(n,e){const t=n.data;if(t==e)return;const i=(0,h.HZ)(t,e);for(const o of i)o.type==="insert"?n.insertData(o.index,o.values.join("")):n.deleteData(o.index,o.howMany)}const xo=vt(h.global.document),Nn=Xe(h.global.document),so=It(h.global.document),zn="data-ck-unsafe-attribute-",_e="data-ck-unsafe-element";class k{constructor(e,{blockFillerMode:t,renderingMode:i="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new V,this._inlineObjectElementMatcher=new V,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=i,this.blockFillerMode=t||(i==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?h.global.document:h.global.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Qt(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const i of Array.from(e.children))this.unbindDomElement(i)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,i){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(i==="img"&&(e==="src"||e==="srcset")||i==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const i=new DOMParser().parseFromString(t,"text/html"),o=i.createDocumentFragment(),a=i.body.childNodes;for(;a.length>0;)o.appendChild(a[0]);const C=i.createTreeWalker(o,NodeFilter.SHOW_ELEMENT),W=[];let de;for(;de=C.nextNode();)W.push(de);for(const ke of W){for(const $e of ke.getAttributeNames())this.setDomElementAttribute(ke,$e,ke.getAttribute($e));const Se=ke.tagName.toLowerCase();this._shouldRenameElement(Se)&&(X(Se),ke.replaceWith(this._createReplacementDomElement(Se,ke)))}for(;e.firstChild;)e.firstChild.remove();e.append(o)}viewToDom(e,t={}){if(e.is("$text")){const i=this._processDataFromViewText(e);return this._domDocument.createTextNode(i)}{const i=e;if(this.mapViewToDom(i)){if(!i.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(i);this._elementsWithTemporaryCustomProperties.add(i)}let o;if(i.is("documentFragment"))o=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(o,i);else{if(i.is("uiElement"))return o=i.name==="$comment"?this._domDocument.createComment(i.getCustomProperty("$rawContent")):i.render(this._domDocument,this),t.bind&&this.bindElements(o,i),o;this._shouldRenameElement(i.name)?(X(i.name),o=this._createReplacementDomElement(i.name)):o=i.hasAttribute("xmlns")?this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(o,this),t.bind&&this.bindElements(o,i);for(const a of i.getAttributeKeys())this.setDomElementAttribute(o,a,i.getAttribute(a),i)}if(t.withChildren!==!1)for(const a of this.viewChildrenToDom(i,t))o.appendChild(a);return o}}setDomElementAttribute(e,t,i,o){const a=this.shouldRenderAttribute(t,i,e.tagName.toLowerCase())||o&&o.shouldRenderUnsafeAttribute(t);a||(0,h.KE)("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:i}),(0,h.$b)(t)?(e.hasAttribute(t)&&!a?e.removeAttribute(t):e.hasAttribute(zn+t)&&a&&e.removeAttribute(zn+t),e.setAttribute(a?t:zn+t,i)):(0,h.KE)("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:i})}removeDomElementAttribute(e,t){t!=_e&&(e.removeAttribute(t),e.removeAttribute(zn+t))}*viewChildrenToDom(e,t={}){const i=e.getFillerOffset&&e.getFillerOffset();let o=0;for(const a of e.getChildren()){i===o&&(yield this._getBlockFiller());const C=a.is("element")&&!!a.getCustomProperty("dataPipeline:transparentRendering")&&!(0,h.Ps)(a.getAttributes());C&&this.renderingMode=="data"?yield*this.viewChildrenToDom(a,t):(C&&(0,h.KE)("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:a}),yield this.viewToDom(a,t)),o++}i===o&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),i=this.viewPositionToDom(e.end),o=this._domDocument.createRange();return o.setStart(t.parent,t.offset),o.setEnd(i.parent,i.offset),o}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const i=this.findCorrespondingDomText(t);if(!i)return null;let o=e.offset;return Wt(i)&&(o+=St),{parent:i,offset:o}}{let i,o,a;if(e.offset===0){if(i=this.mapViewToDom(t),!i)return null;a=i.childNodes[0]}else{const C=e.nodeBefore;if(o=C.is("$text")?this.findCorrespondingDomText(C):this.mapViewToDom(C),!o)return null;i=o.parentNode,a=o.nextSibling}return(0,h.Gs)(a)&&Wt(a)?{parent:a,offset:St}:{parent:i,offset:o?(0,h.cq)(o)+1:0}}}domToView(e,t={}){const i=[],o=this._domToView(e,t,i),a=o.next().value;return a?(o.next(),this._processDomInlineNodes(null,i,t),a.is("$text")&&a.data.length==0?null:a):null}*domChildrenToView(e,t={},i=[]){for(let o=0;o<e.childNodes.length;o++){const a=e.childNodes[o],C=this._domToView(a,t,i),W=C.next().value;W!==null&&(this._isBlockViewElement(W)&&this._processDomInlineNodes(e,i,t),yield W,C.next())}this._processDomInlineNodes(e,i,t)}domSelectionToView(e){if(function(o){if(!h.OB.isGecko||!o.rangeCount)return!1;const a=o.getRangeAt(0).startContainer;try{Object.prototype.toString.call(a)}catch{return!0}return!1}(e))return new Qt([]);if(e.rangeCount===1){let o=e.getRangeAt(0).startContainer;(0,h.Gs)(o)&&(o=o.parentNode);const a=this.fakeSelectionToView(o);if(a)return a}const t=this.isDomSelectionBackward(e),i=[];for(let o=0;o<e.rangeCount;o++){const a=e.getRangeAt(o),C=this.domRangeToView(a);C&&i.push(C)}return new Qt(i,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),i=this.domPositionToView(e.endContainer,e.endOffset);return t&&i?new ht(t,i):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,(0,h.cq)(e));const i=this.mapDomToView(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return be._createBefore(i);if((0,h.Gs)(e)){if(mi(e))return this.domPositionToView(e.parentNode,(0,h.cq)(e));const o=this.findCorrespondingViewText(e);let a=t;return o?(Wt(e)&&(a-=St,a=a<0?0:a),new be(o,a)):null}if(t===0){const o=this.mapDomToView(e);if(o)return new be(o,0)}else{const o=e.childNodes[t-1];if((0,h.Gs)(o)&&mi(o)||o&&this.isBlockFiller(o))return this.domPositionToView(o.parentNode,(0,h.cq)(o));const a=(0,h.Gs)(o)?this.findCorrespondingViewText(o):this.mapDomToView(o);if(a&&a.parent)return new be(a.parent,a.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(mi(e))return null;const t=this.getHostViewElement(e);if(t)return t;const i=e.previousSibling;if(i){if(!this.isElement(i))return null;const o=this.mapDomToView(i);if(o){const a=o.nextSibling;return a instanceof q?a:null}}else{const o=this.mapDomToView(e.parentNode);if(o){const a=o.getChild(0);return a instanceof q?a:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:i,scrollY:o}=h.global.window,a=[];I(t,C=>{const{scrollLeft:W,scrollTop:de}=C;a.push([W,de])}),t.focus(),I(t,C=>{const[W,de]=a.shift();C.scrollLeft=W,C.scrollTop=de}),h.global.window.scrollTo(i,o)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(t);i&&i.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(xo):!(e.tagName!=="BR"||!N(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(so)||function(t,i){return t.isEqualNode(Nn)&&N(t,i)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const i=t.collapsed;return t.detach(),i}getHostViewElement(e){const t=(0,h.dk)(e);for(t.pop();t.length;){const i=t.pop(),o=this._domToViewMapping.get(i);if(o&&(o.is("uiElement")||o.is("rawElement")))return o}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Xe(this._domDocument);case"markedNbsp":return It(this._domDocument);case"br":return vt(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if((0,h.Gs)(e)&&Wt(e)&&t<St||this.isElement(e)&&Wt(e.childNodes[t]))return!1;const i=this.mapDomToView(e);return!i||!i.is("uiElement")&&!i.is("rawElement")}*_domToView(e,t,i){if(this.isBlockFiller(e))return null;const o=this.getHostViewElement(e);if(o)return o;if((0,h.C3)(e)&&t.skipComments)return null;if((0,h.Gs)(e)){if(mi(e))return null;{const a=e.data;if(a==="")return null;const C=new q(this.document,a);return i.push(C),C}}{let a=this.mapDomToView(e);if(a)return this._isInlineObjectElement(a)&&i.push(a),a;if(this.isDocumentFragment(e))a=new Sn(this.document),t.bind&&this.bindDocumentFragments(e,a);else{a=this._createViewElement(e,t),t.bind&&this.bindElements(e,a);const W=e.attributes;if(W)for(let de=W.length,ke=0;ke<de;ke++)a._setAttribute(W[ke].name,W[ke].value);if(this._isViewElementWithRawContent(a,t))return a._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(a)||i.push(a),a;if((0,h.C3)(e))return a._setCustomProperty("$rawContent",e.data),a}yield a;const C=[];if(t.withChildren!==!1)for(const W of this.domChildrenToView(e,t,C))a._appendChild(W);if(this._isInlineObjectElement(a))i.push(a);else for(const W of C)i.push(W)}}_processDomInlineNodes(e,t,i){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let o=!1;for(let a=0;a<t.length;a++){const C=t[a];if(!C.is("$text")){o=!1;continue}let W,de=!1;if(d(C,this.preElements))W=ai(C.data);else{W=C.data.replace(/[ \n\t\r]{1,}/g," "),de=/[^\S\u00A0]/.test(W.charAt(W.length-1));const ke=a>0?t[a-1]:null,Se=a+1<t.length?t[a+1]:null,$e=!ke||ke.is("element")&&ke.name=="br"||o,ot=!Se&&!Wt(C.data);i.withChildren!==!1&&($e&&(W=W.replace(/^ /,"")),ot&&(W=W.replace(/ $/,""))),W=ai(W),W=W.replace(/ \u00A0/g,"  ");const Vt=Se&&Se.is("element")&&Se.name!="br",qt=Se&&Se.is("$text")&&Se.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(W)||!Se||Vt||qt)&&(W=W.replace(/\u00A0$/," ")),($e||ke&&ke.is("element")&&ke.name!="br")&&(W=W.replace(/^\u00A0/," "))}W.length==0&&C.parent?(C._remove(),t.splice(a,1),a--):(C._data=W,o=de)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return t;if(t.charAt(0)==" "){const i=this._getTouchingInlineViewNode(e,!1);!(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i))&&i||(t="\xA0"+t.substr(1))}if(t.charAt(t.length-1)==" "){const i=this._getTouchingInlineViewNode(e,!0),o=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&i&&!o||(t=t.substr(0,t.length-1)+"\xA0")}return t.replace(/ {2}/g," \xA0")}_nodeEndsWithSpace(e){if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const i=new se({startPosition:t?be._createAfter(e):be._createBefore(e),direction:t?"forward":"backward"});for(const o of i){if(o.item.is("element","br"))return null;if(this._isInlineObjectElement(o.item))return o.item;if(o.item.is("containerElement"))return null;if(o.item.is("$textProxy"))return o.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if((0,h.C3)(e))return new Zi(this.document,"$comment");const i=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Mi(this.document,i)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const i=this._domDocument.createElement("span");if(i.setAttribute(_e,e),t){for(;t.firstChild;)i.appendChild(t.firstChild);for(const o of t.getAttributeNames())i.setAttribute(o,t.getAttribute(o))}return i}}function d(n,e){return n.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function I(n,e){let t=n;for(;t;)e(t),t=t.parentElement}function N(n,e){const t=n.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function X(n){n==="script"&&(0,h.KE)("domconverter-unsafe-script-element-detected"),n==="style"&&(0,h.KE)("domconverter-unsafe-style-element-detected")}class ce extends(0,h.Xu)(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var pe=l("./node_modules/lodash-es/assignIn.js");class he{constructor(e,t,i){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,(0,pe.Z)(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class ve extends ce{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(i,o)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(o.target)&&this.onDomEvent(o)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,i){this.isEnabled&&this.document.fire(e,new he(this.view,t,i))}}class Re extends ve{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return(0,h.Cq)(this)}};this.fire(e.type,e,t)}}var We=l("./node_modules/lodash-es/debounce.js");class Ye extends ce{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=(0,We.Z)(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,i=new Qt(t.getRanges(),{backward:t.isBackward,fake:!1});e!=h.Do.arrowleft&&e!=h.Do.arrowup||i.setTo(i.getFirstPosition()),e!=h.Do.arrowright&&e!=h.Do.arrowdown||i.setTo(i.getLastPosition());const o={oldSelection:t,newSelection:i,domSelection:null};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}const pt=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},Tt=function(n){return this.__data__.has(n)};function Pt(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new lt.Z;++e<t;)this.add(n[e])}Pt.prototype.add=Pt.prototype.push=pt,Pt.prototype.has=Tt;const Ct=Pt,ii=function(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1},Jt=function(n,e){return n.has(e)},bi=function(n,e,t,i,o,a){var C=1&t,W=n.length,de=e.length;if(W!=de&&!(C&&de>W))return!1;var ke=a.get(n),Se=a.get(e);if(ke&&Se)return ke==e&&Se==n;var $e=-1,ot=!0,Vt=2&t?new Ct:void 0;for(a.set(n,e),a.set(e,n);++$e<W;){var qt=n[$e],ci=e[$e];if(i)var vi=C?i(ci,qt,$e,e,n,a):i(qt,ci,$e,n,e,a);if(vi!==void 0){if(vi)continue;ot=!1;break}if(Vt){if(!ii(e,function(Fi,Wi){if(!Jt(Vt,Wi)&&(qt===Fi||o(qt,Fi,t,i,a)))return Vt.push(Wi)})){ot=!1;break}}else if(qt!==ci&&!o(qt,ci,t,i,a)){ot=!1;break}}return a.delete(n),a.delete(e),ot};var Ei=l("./node_modules/lodash-es/_Symbol.js"),Hi=l("./node_modules/lodash-es/_Uint8Array.js");const sn=function(n){var e=-1,t=Array(n.size);return n.forEach(function(i,o){t[++e]=[o,i]}),t},mn=function(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t};var Cn=Ei.Z?Ei.Z.prototype:void 0,fo=Cn?Cn.valueOf:void 0;const qo=function(n,e,t,i,o,a,C){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!a(new Hi.Z(n),new Hi.Z(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,Yt.Z)(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var W=sn;case"[object Set]":var de=1&i;if(W||(W=mn),n.size!=e.size&&!de)return!1;var ke=C.get(n);if(ke)return ke==e;i|=2,C.set(n,e);var Se=bi(W(n),W(e),i,o,a,C);return C.delete(n),Se;case"[object Symbol]":if(fo)return fo.call(n)==fo.call(e)}return!1};var zo=l("./node_modules/lodash-es/_getAllKeys.js"),er=Object.prototype.hasOwnProperty;const bo=function(n,e,t,i,o,a){var C=1&t,W=(0,zo.Z)(n),de=W.length;if(de!=(0,zo.Z)(e).length&&!C)return!1;for(var ke=de;ke--;){var Se=W[ke];if(!(C?Se in e:er.call(e,Se)))return!1}var $e=a.get(n),ot=a.get(e);if($e&&ot)return $e==e&&ot==n;var Vt=!0;a.set(n,e),a.set(e,n);for(var qt=C;++ke<de;){var ci=n[Se=W[ke]],vi=e[Se];if(i)var Fi=C?i(vi,ci,Se,e,n,a):i(ci,vi,Se,n,e,a);if(!(Fi===void 0?ci===vi||o(ci,vi,t,i,a):Fi)){Vt=!1;break}qt||(qt=Se=="constructor")}if(Vt&&!qt){var Wi=n.constructor,xn=e.constructor;Wi==xn||!("constructor"in n)||!("constructor"in e)||typeof Wi=="function"&&Wi instanceof Wi&&typeof xn=="function"&&xn instanceof xn||(Vt=!1)}return a.delete(n),a.delete(e),Vt};var Jn=l("./node_modules/lodash-es/_getTag.js"),Po="[object Arguments]",Fo="[object Array]",Fn="[object Object]",Xn=Object.prototype.hasOwnProperty;const Dr=function(n,e,t,i,o,a){var C=(0,Ee.Z)(n),W=(0,Ee.Z)(e),de=C?Fo:(0,Jn.Z)(n),ke=W?Fo:(0,Jn.Z)(e),Se=(de=de==Po?Fn:de)==Fn,$e=(ke=ke==Po?Fn:ke)==Fn,ot=de==ke;if(ot&&(0,at.Z)(n)){if(!(0,at.Z)(e))return!1;C=!0,Se=!1}if(ot&&!Se)return a||(a=new Lt.Z),C||(0,ye.Z)(n)?bi(n,e,t,i,o,a):qo(n,e,de,t,i,o,a);if(!(1&t)){var Vt=Se&&Xn.call(n,"__wrapped__"),qt=$e&&Xn.call(e,"__wrapped__");if(Vt||qt){var ci=Vt?n.value():n,vi=qt?e.value():e;return a||(a=new Lt.Z),o(ci,vi,t,i,a)}}return!!ot&&(a||(a=new Lt.Z),bo(n,e,t,i,o,a))},tr=function n(e,t,i,o,a){return e===t||(e==null||t==null||!(0,Pi.Z)(e)&&!(0,Pi.Z)(t)?e!=e&&t!=t:Dr(e,t,i,o,n,a))},hr=function(n,e,t){var i=(t=typeof t=="function"?t:void 0)?t(n,e):void 0;return i===void 0?tr(n,e,void 0,t):!!i};class Ho extends ce{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,i=new Set,o=new Set;for(const C of e){const W=t.mapDomToView(C.target);W&&(W.is("uiElement")||W.is("rawElement")||C.type!=="childList"||this._isBogusBrMutation(C)||o.add(W))}for(const C of e){const W=t.mapDomToView(C.target);if((!W||!W.is("uiElement")&&!W.is("rawElement"))&&C.type==="characterData"){const de=t.findCorrespondingViewText(C.target);de&&!o.has(de.parent)?i.add(de):!de&&Wt(C.target)&&o.add(t.mapDomToView(C.target.parentNode))}}let a=!1;for(const C of i)a=!0,this.renderer.markToSync("text",C);for(const C of o){const W=t.mapViewToDom(C),de=Array.from(C.getChildren()),ke=Array.from(t.domChildrenToView(W,{withChildren:!1}));hr(de,ke,mr)||(a=!0,this.renderer.markToSync("children",C))}a&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function mr(n,e){if(!Array.isArray(n))return n===e||!(!n.is("$text")||!e.is("$text"))&&n.data===e.data}class Ko extends ve{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(i,o)=>{const a=t.selection.editableElement;a!==null&&a!==o.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class zr extends ce{constructor(e){super(e),this.mutationObserver=e.getObserver(Ho),this.focusObserver=e.getObserver(Ko),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=(0,We.Z)(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=(0,We.Z)(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,i=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",i,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",i,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",i,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(o,a)=>{this.document.isComposing&&!h.OB.isAndroid||(this._handleSelectionChange(a,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const i=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const o=this.domConverter.domSelectionToView(i);if(o.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(o)||!this.domConverter.isDomSelectionCorrect(i))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(o))this.view.forceRender();else{const a={oldSelection:this.selection,newSelection:o,domSelection:i};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Sr extends ve{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class ir{constructor(e,t={}){this._files=t.cacheFiles?Er(e):null,this._native=e}get files(){return this._files||(this._files=Er(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,i){this._native.setDragImage(e,t,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Er(n){const e=Array.from(n.files||[]),t=Array.from(n.items||[]);return e.length?e:t.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class Ir extends ve{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),i=this.view,o=i.document;let a=null,C=null,W=[];if(e.dataTransfer&&(a=new ir(e.dataTransfer)),e.data!==null?C=e.data:a&&(C=a.getData("text/plain")),o.selection.isFake)W=Array.from(o.selection.getRanges());else if(t.length)W=t.map(de=>{const ke=i.domConverter.domPositionToView(de.startContainer,de.startOffset),Se=i.domConverter.domPositionToView(de.endContainer,de.endOffset);return ke?i.createRange(ke,Se):Se?i.createRange(Se):void 0}).filter(de=>!!de);else if(h.OB.isAndroid){const de=e.target.ownerDocument.defaultView.getSelection();W=Array.from(i.domConverter.domSelectionToView(de).getRanges())}if(h.OB.isAndroid&&e.inputType=="insertCompositionText"&&C&&C.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(W[0].end)]});else if(e.inputType=="insertText"&&C&&C.includes(`
`)){const de=C.split(/\n{1,2}/g);let ke=W;for(let Se=0;Se<de.length;Se++){const $e=de[Se];$e!=""&&(this.fire(e.type,e,{data:$e,dataTransfer:a,targetRanges:ke,inputType:e.inputType,isComposing:e.isComposing}),ke=[o.selection.getFirstRange()]),Se+1<de.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:ke}),ke=[o.selection.getFirstRange()])}}else this.fire(e.type,e,{data:C,dataTransfer:a,targetRanges:W,inputType:e.inputType,isComposing:e.isComposing})}}class gr extends ce{constructor(e){super(e),this.document.on("keydown",(t,i)=>{if(this.isEnabled&&(0,h.dj)(i.keyCode)){const o=new Ce(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(o,i),o.stop.called&&t.stop()}})}observe(){}stopObserving(){}}class Ji extends ce{constructor(e){super(e);const t=this.document;t.on("keydown",(i,o)=>{if(!this.isEnabled||o.keyCode!=h.Do.tab||o.ctrlKey)return;const a=new Ce(t,"tab",t.selection.getFirstRange());t.fire(a,o),a.stop.called&&i.stop()})}observe(){}stopObserving(){}}const Co=function(n){return(0,T.Z)(n,5)};class To extends(0,h.Re)(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new ki(e),this.domConverter=new k(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Pn(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new In(this.document),this.addObserver(Ho),this.addObserver(Ko),this.addObserver(zr),this.addObserver(Re),this.addObserver(Ye),this.addObserver(Sr),this.addObserver(gr),this.addObserver(Ir),this.addObserver(Ji),this.document.on("arrowKey",gi,{priority:"low"}),hn(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),h.OB.isiOS&&this.listenTo(this.document,"blur",(t,i)=>{this.domConverter.mapDomToView(i.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();const o={};for(const{name:C,value:W}of Array.from(e.attributes))o[C]=W,C==="class"?this._writer.addClass(W.split(" "),i):this._writer.setAttribute(C,W,i);this._initialDomRootAttributes.set(e,o);const a=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};a(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(C,W)=>this._renderer.markToSync("children",W)),i.on("change:attributes",(C,W)=>this._renderer.markToSync("attributes",W)),i.on("change:text",(C,W)=>this._renderer.markToSync("text",W)),i.on("change:isReadOnly",()=>this.change(a)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const C of this._observers.values())C.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:o})=>t.removeAttribute(o));const i=this._initialDomRootAttributes.get(t);for(const o in i)t.setAttribute(o,i[o]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const o of this._observers.values())o.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[i,o]of this.domRoots)t.observe(o,i);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:i=20,ancestorOffset:o=20}={}){const a=this.document.selection.getFirstRange();if(!a)return;const C=Co({alignToTop:e,forceScroll:t,viewportOffset:i,ancestorOffset:o});typeof i=="number"&&(i={top:i,bottom:i,left:i,right:i});const W={target:this.domConverter.viewRangeToDom(a),viewportOffset:i,ancestorOffset:o,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",W,C),(0,h.mR)(W)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new h.Bb("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){h.Bb.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Ko).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return be._createAt(e,t)}createPositionAfter(e){return be._createAfter(e)}createPositionBefore(e){return be._createBefore(e)}createRange(e,t){return new ht(e,t)}createRangeOn(e){return ht._createOn(e)}createRangeIn(e){return ht._createIn(e)}createSelection(...e){return new Qt(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Lo{is(){throw new Error("is() method is abstract")}}class wo extends Lo{constructor(e){super(),this.parent=null,this._attrs=(0,h.qL)(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new h.Bb("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new h.Bb("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),o=e.getAncestors(t);let a=0;for(;i[a]==o[a]&&i[a];)a++;return a===0?null:i[a-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),o=(0,h.Rt)(t,i);switch(o){case"prefix":return!0;case"extension":return!1;default:return t[o]<i[o]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,i)=>(t[i[0]]=i[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=(0,h.qL)(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}wo.prototype.is=function(n){return n==="node"||n==="model:node"};class Ln{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((i,o)=>i+o.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new h.Bb("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const i of this._nodes){if(e>=t&&e<t+i.offsetSize)return this.getNodeIndex(i);t+=i.offsetSize}if(t!=e)throw new h.Bb("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const i of t)if(!(i instanceof wo))throw new h.Bb("model-nodelist-insertnodes-not-node",this);this._nodes=(0,h.x)(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class an extends wo{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new an(this.data,this.getAttributes())}static fromJSON(e){return new an(e.data,e.attributes)}}an.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};class Wn extends Lo{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new h.Bb("model-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.offsetSize)throw new h.Bb("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Wn.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};class ln extends wo{constructor(e,t,i){super(t),this._children=new Ln,this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}findAncestor(e,t={}){let i=t.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(i=>i._clone(!0)):void 0;return new ln(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=function(o){return typeof o=="string"?[new an(o)]:((0,h.TW)(o)||(o=[o]),Array.from(o).map(a=>typeof a=="string"?new an(a):a instanceof Wn?new an(a.data,a.getAttributes()):a))}(t);for(const o of i)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const o of i)o.parent=null;return i}static fromJSON(e){let t;if(e.children){t=[];for(const i of e.children)i.name?t.push(ln.fromJSON(i)):t.push(an.fromJSON(i))}return new ln(e.name,e.attributes,t)}}ln.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};class ko{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new h.Bb("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new h.Bb("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Xt._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i,o,a;do o=this.position,a=this._visitedParent,{done:t,value:i}=this.next();while(!t&&e(i));t||(this._position=o,this._visitedParent=a)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const o=nn(t,i),a=o||Go(t,i,o);if(a instanceof ln){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=a;return this._position=t,Ao("elementStart",a,e,t,1)}if(a instanceof an){let C;if(this.singleCharacters)C=1;else{let ke=a.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<ke&&(ke=this.boundaries.end.offset),C=ke-t.offset}const W=t.offset-a.startOffset,de=new Wn(a,W,C);return t.offset+=C,this._position=t,Ao("text",de,e,t,C)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():Ao("elementEnd",i,e,t)}_previous(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const o=t.parent,a=nn(t,o),C=a||pr(t,o,a);if(C instanceof ln)return t.offset--,this.shallow?(this._position=t,Ao("elementStart",C,e,t,1)):(t.path.push(C.maxOffset),this._position=t,this._visitedParent=C,this.ignoreElementEnd?this._previous():Ao("elementEnd",C,e,t));if(C instanceof an){let W;if(this.singleCharacters)W=1;else{let Se=C.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>Se&&(Se=this.boundaries.start.offset),W=t.offset-Se}const de=t.offset-C.startOffset,ke=new Wn(C,de-W,W);return t.offset-=W,this._position=t,Ao("text",ke,e,t,W)}return t.path.pop(),this._position=t,this._visitedParent=i.parent,Ao("elementStart",i,e,t,1)}}function Ao(n,e,t,i,o){return{done:!1,value:{type:n,item:e,previousPosition:t,nextPosition:i,length:o}}}class Xt extends Lo{constructor(e,t,i="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new h.Bb("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new h.Bb("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new h.Bb("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new h.Bb("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return nn(this,this.parent)}get nodeAfter(){const e=this.parent;return Go(this,e,nn(this,e))}get nodeBefore(){const e=this.parent;return pr(this,e,nn(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=(0,h.Rt)(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new ko(t);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=(0,h.Rt)(this.path,e.path),i=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,i)}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let o=0;for(;t[o]==i[o]&&t[o];)o++;return o===0?null:t[o-1]}getShiftedBy(e){const t=this.clone(),i=t.offset+e;return t.offset=i<0?0:i,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let i=0;i<t;i++){const o=this.path[i]-e.path[i];if(o<-1||o>1)return!1;if(o===1)return nr(e,this,i);if(o===-1)return nr(this,e,i)}return this.path.length===e.path.length||(this.path.length>e.path.length?or(this.path,t):or(e.path,t))}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),i=e.getParentPath();return(0,h.Rt)(t,i)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=Xt._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let i;return t.containsPosition(this)||t.start.isEqual(this)?(i=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(i=i._getTransformedByDeletion(e.deletionPosition,1))):i=this.isEqual(e.deletionPosition)?Xt._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),i}_getTransformedByDeletion(e,t){const i=Xt._createAt(this);if(this.root!=e.root)return i;if((0,h.Rt)(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;i.offset-=t}}else if((0,h.Rt)(e.getParentPath(),this.getParentPath())=="prefix"){const o=e.path.length-1;if(e.offset<=this.path[o]){if(e.offset+t>this.path[o])return null;i.path[o]-=t}}return i}_getTransformedByInsertion(e,t){const i=Xt._createAt(this);if(this.root!=e.root)return i;if((0,h.Rt)(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=t);else if((0,h.Rt)(e.getParentPath(),this.getParentPath())=="prefix"){const o=e.path.length-1;e.offset<=this.path[o]&&(i.path[o]+=t)}return i}_getTransformedByMove(e,t,i){if(t=t._getTransformedByDeletion(e,i),e.isEqual(t))return Xt._createAt(this);const o=this._getTransformedByDeletion(e,i);return o===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):o._getTransformedByInsertion(t,i)}_getCombined(e,t){const i=e.path.length-1,o=Xt._createAt(t);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[i]-e.offset,o.path=[...o.path,...this.path.slice(i+1)],o}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,i="toNone"){if(e instanceof Xt)return new Xt(e.root,e.path,e.stickiness);{const o=e;if(t=="end")t=o.maxOffset;else{if(t=="before")return this._createBefore(o,i);if(t=="after")return this._createAfter(o,i);if(t!==0&&!t)throw new h.Bb("model-createpositionat-offset-required",[this,e])}if(!o.is("element")&&!o.is("documentFragment"))throw new h.Bb("model-position-parent-incorrect",[this,e]);const a=o.getPath();return a.push(t),new this(o.root,a,i)}}static _createAfter(e,t){if(!e.parent)throw new h.Bb("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new h.Bb("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const i=new Xt(t.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!t.getRoot(e.root))throw new h.Bb("model-position-fromjson-no-root",t,{rootName:e.root});return new Xt(t.getRoot(e.root),e.path,e.stickiness)}}function nn(n,e){const t=e.getChild(e.offsetToIndex(n.offset));return t&&t.is("$text")&&t.startOffset<n.offset?t:null}function Go(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset))}function pr(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset)-1)}function nr(n,e,t){return t+1!==n.path.length&&!!or(e.path,t+1)&&!!function(i,o){let a=i.parent,C=i.path.length-1,W=0;for(;C>=o;){if(i.path[C]+W!==a.maxOffset)return!1;W=1,C--,a=a.parent}return!0}(n,t+1)}function or(n,e){for(;e<n.length;){if(n[e]!==0)return!1;e++}return!0}Xt.prototype.is=function(n){return n==="position"||n==="model:position"};class Dt extends Lo{constructor(e,t){super(),this.start=Xt._createAt(e),this.end=t?Xt._createAt(t):Xt._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new ko({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return(0,h.Rt)(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&o}containsItem(e){const t=Xt._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Dt(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Dt(e.end,this.end))):t.push(new Dt(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new Dt(t,i)}return null}getJoined(e,t=!1){let i=this.isIntersecting(e);if(i||(i=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let o=this.start,a=this.end;return e.start.isBefore(o)&&(o=e.start),e.end.isAfter(a)&&(a=e.end),new Dt(o,a)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,i=Xt._createAt(this.start);let o=i.parent;for(;i.path.length>t+1;){const a=o.maxOffset-i.offset;a!==0&&e.push(new Dt(i,i.getShiftedBy(a))),i.path=i.path.slice(0,-1),i.offset++,o=o.parent}for(;i.path.length<=this.end.path.length;){const a=this.end.path[i.path.length-1],C=a-i.offset;C!==0&&e.push(new Dt(i,i.getShiftedBy(C))),i.offset=a,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new ko(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new ko(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new ko(e);yield t.position;for(const i of t)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Dt(this.start,this.end)]}getTransformedByOperations(e){const t=[new Dt(this.start,this.end)];for(const i of e)for(let o=0;o<t.length;o++){const a=t[o].getTransformedByOperation(i);t.splice(o,1,...a),o+=a.length-1}for(let i=0;i<t.length;i++){const o=t[i];for(let a=i+1;a<t.length;a++){const C=t[a];(o.containsRange(C)||C.containsRange(o)||o.isEqual(C))&&t.splice(a,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const i=e.sourcePosition,o=e.howMany,a=e.targetPosition;return this._getTransformedByMove(i,a,o,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),t.root!=i.root&&(i=this.end.getShiftedBy(-1)),new Dt(t,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Dt(this.start);let t=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return t.root!=i.root&&(i=this.end.getShiftedBy(-1)),t.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(t=Xt._createAt(i),t.offset=0):(e.deletionPosition.isEqual(t)||(i=e.deletionPosition),t=e.targetPosition),new Dt(t,i)):new Dt(t,i)}_getTransformedByInsertion(e,t,i=!1){if(i&&this.containsPosition(e))return[new Dt(this.start,e),new Dt(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const o=new Dt(this.start,this.end);return o.start=o.start._getTransformedByInsertion(e,t),o.end=o.end._getTransformedByInsertion(e,t),[o]}}_getTransformedByMove(e,t,i,o=!1){if(this.isCollapsed){const $e=this.start._getTransformedByMove(e,t,i);return[new Dt($e)]}const a=Dt._createFromPositionAndShift(e,i),C=t._getTransformedByDeletion(e,i);if(this.containsPosition(t)&&!o&&(a.containsPosition(this.start)||a.containsPosition(this.end))){const $e=this.start._getTransformedByMove(e,t,i),ot=this.end._getTransformedByMove(e,t,i);return[new Dt($e,ot)]}let W;const de=this.getDifference(a);let ke=null;const Se=this.getIntersection(a);if(de.length==1?ke=new Dt(de[0].start._getTransformedByDeletion(e,i),de[0].end._getTransformedByDeletion(e,i)):de.length==2&&(ke=new Dt(this.start,this.end._getTransformedByDeletion(e,i))),W=ke?ke._getTransformedByInsertion(C,i,Se!==null||o):[],Se){const $e=new Dt(Se.start._getCombined(a.start,C),Se.end._getCombined(a.start,C));W.length==2?W.splice(1,0,$e):W.push($e)}return W}_getTransformedByDeletion(e,t){let i=this.start._getTransformedByDeletion(e,t),o=this.end._getTransformedByDeletion(e,t);return i==null&&o==null?null:(i==null&&(i=e),o==null&&(o=e),new Dt(i,o))}static _createFromPositionAndShift(e,t){const i=e,o=e.getShiftedBy(t);return t>0?new this(i,o):new this(o,i)}static _createIn(e){return new this(Xt._createAt(e,0),Xt._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Xt._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new h.Bb("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((a,C)=>a.start.isAfter(C.start)?1:-1);const i=e.indexOf(t),o=new this(t.start,t.end);if(i>0)for(let a=i-1;e[a].end.isEqual(o.start);a++)o.start=Xt._createAt(e[a].start);for(let a=i+1;a<e.length&&e[a].start.isEqual(o.end);a++)o.end=Xt._createAt(e[a].end);return o}static fromJSON(e,t){return new this(Xt.fromJSON(e.start,t),Xt.fromJSON(e.end,t))}}Dt.prototype.is=function(n){return n==="range"||n==="model:range"};class No extends(0,h.ln)(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const i=this._modelToViewMapping.get(t.modelPosition.parent);if(!i)throw new h.Bb("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(i,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const i=this.findMappedViewAncestor(t.viewPosition),o=this._viewToModelMapping.get(i),a=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,i);t.modelPosition=Xt._createAt(o,a)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const o of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(o);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const i=this._markerNameToElements.get(t)||new Set;i.add(e);const o=this._elementToMarkerNames.get(e)||new Set;o.add(t),this._markerNameToElements.set(t,i),this._elementToMarkerNames.set(e,o)}unbindElementFromMarkerName(e,t){const i=this._markerNameToElements.get(t);i&&(i.delete(e),i.size==0&&this._markerNameToElements.delete(t));const o=this._elementToMarkerNames.get(e);o&&(o.delete(t),o.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Dt(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ht(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const i={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const i=new Set;for(const o of t)if(o.is("attributeElement"))for(const a of o.getElementsWithSameId())i.add(a);else i.add(o);return i}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,i){if(i!=e)return this._toModelOffset(e.parent,e.index,i)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let o=0;for(let a=0;a<t;a++)o+=this.getModelLength(e.getChild(a));return o}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const i of e.getChildren())t+=this.getModelLength(i);return t}}findPositionIn(e,t){let i,o=0,a=0,C=0;if(e.is("$text"))return new be(e,t);for(;a<t;)i=e.getChild(C),o=this.getModelLength(i),a+=o,C++;return a==t?this._moveViewPositionToTextNode(new be(e,C)):this.findPositionIn(i,t-(a-o))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,i=e.nodeAfter;return t instanceof q?new be(t,t.data.length):i instanceof q?new be(i,0):e}}class fr{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=Uo(t),e instanceof Wn&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Uo(t),e instanceof Wn&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=Uo(t),e instanceof Wn&&(e=this._getSymbolForTextProxy(e));const i=this._consumable.get(e);if(i===void 0)return null;const o=i.get(t);return o===void 0?null:o}revert(e,t){t=Uo(t),e instanceof Wn&&(e=this._getSymbolForTextProxy(e));const i=this.test(e,t);return i===!1?(this._consumable.get(e).set(t,!0),!0):i!==!0&&null}verifyAllConsumed(e){const t=[];for(const[i,o]of this._consumable)for(const[a,C]of o){const W=a.split(":")[0];C&&e==W&&t.push({event:a,item:i.name||i.description})}if(t.length)throw new h.Bb("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const i=this._textProxyRegistry.get(e.startOffset);if(i){const o=i.get(e.endOffset);o&&(t=o.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,i=e.endOffset,o=e.parent,a=Symbol("$textProxy:"+e.data);let C,W;return C=this._textProxyRegistry.get(t),C||(C=new Map,this._textProxyRegistry.set(t,C)),W=C.get(i),W||(W=new Map,C.set(i,W)),W.set(o,a),a}}function Uo(n){const e=n.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?n:e.length>1?e[0]+":"+e[1]:e[0]}var br=Object.defineProperty,wr=Object.defineProperties,rr=Object.getOwnPropertyDescriptors,So=Object.getOwnPropertySymbols,Pr=Object.prototype.hasOwnProperty,sr=Object.prototype.propertyIsEnumerable,ar=(n,e,t)=>e in n?br(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,me=(n,e)=>{for(var t in e||(e={}))Pr.call(e,t)&&ar(n,t,e[t]);if(So)for(var t of So(e))sr.call(e,t)&&ar(n,t,e[t]);return n},ge=(n,e)=>wr(n,rr(e));class qe extends(0,h.ln)(){constructor(e){super(),this._conversionApi=me({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,i){const o=this._createConversionApi(i,e.getRefreshedItems());for(const C of e.getMarkersToRemove())this._convertMarkerRemove(C.name,C.range,o);const a=this._reduceChanges(e.getChanges());for(const C of a)C.type==="insert"?this._convertInsert(Dt._createFromPositionAndShift(C.position,C.length),o):C.type==="reinsert"?this._convertReinsert(Dt._createFromPositionAndShift(C.position,C.length),o):C.type==="remove"?this._convertRemove(C.position,C.length,C.name,o):this._convertAttribute(C.range,C.attributeKey,C.attributeOldValue,C.attributeNewValue,o);o.mapper.flushDeferredBindings();for(const C of o.mapper.flushUnboundMarkerNames()){const W=t.get(C).getRange();this._convertMarkerRemove(C,W,o),this._convertMarkerAdd(C,W,o)}for(const C of e.getMarkersToAdd())this._convertMarkerAdd(C.name,C.range,o);o.consumable.verifyAllConsumed("insert")}convert(e,t,i,o={}){const a=this._createConversionApi(i,void 0,o);this._convertInsert(e,a);for(const[C,W]of t)this._convertMarkerAdd(C,W,a);a.consumable.verifyAllConsumed("insert")}convertSelection(e,t,i){const o=this._createConversionApi(i);this.fire("cleanSelection",{selection:e},o);const a=e.getFirstPosition().root;if(!o.mapper.toViewElement(a))return;const C=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(o.consumable,e,C),this.fire("selection",{selection:e},o),e.isCollapsed){for(const W of C)if(o.consumable.test(e,"addMarker:"+W.name)){const de=W.getRange();if(!At(e.getFirstPosition(),W,o.mapper))continue;const ke={item:e,markerName:W.name,markerRange:de};this.fire(`addMarker:${W.name}`,ke,o)}for(const W of e.getAttributeKeys())if(o.consumable.test(e,"attribute:"+W)){const de={item:e,range:e.getFirstRange(),attributeKey:W,attributeOldValue:null,attributeNewValue:e.getAttribute(W)};this.fire(`attribute:${W}:$text`,de,o)}}}_convertInsert(e,t,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const o of Array.from(e.getWalker({shallow:!0})).map(li))this._testAndFire("insert",o,t)}_convertRemove(e,t,i,o){this.fire(`remove:${i}`,{position:e,length:t},o)}_convertAttribute(e,t,i,o,a){this._addConsumablesForRange(a.consumable,e,`attribute:${t}`);for(const C of e){const W={item:C.item,range:Dt._createFromPositionAndShift(C.previousPosition,C.length),attributeKey:t,attributeOldValue:i,attributeNewValue:o};this._testAndFire(`attribute:${t}`,W,a)}}_convertReinsert(e,t){const i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,i);for(const o of i.map(li))this._testAndFire("insert",ge(me({},o),{reconversion:!0}),t)}_convertMarkerAdd(e,t,i){if(t.root.rootName=="$graveyard")return;const o=`addMarker:${e}`;if(i.consumable.add(t,o),this.fire(o,{markerName:e,markerRange:t},i),i.consumable.consume(t,o)){this._addConsumablesForRange(i.consumable,t,o);for(const a of t.getItems()){if(!i.consumable.test(a,o))continue;const C={item:a,range:Dt._createOn(a),markerName:e,markerRange:t};this.fire(o,C,i)}}}_convertMarkerRemove(e,t,i){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},i)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const i of t){const o=i.item;if(e.test(o,"insert")===null){e.add(o,"insert");for(const a of o.getAttributeKeys())e.add(o,"attribute:"+a)}}return e}_addConsumablesForRange(e,t,i){for(const o of t.getItems())e.add(o,i);return e}_addConsumablesForSelection(e,t,i){e.add(t,"selection");for(const o of i)e.add(t,"addMarker:"+o.name);for(const o of t.getAttributeKeys())e.add(t,"attribute:"+o);return e}_testAndFire(e,t,i){const o=function(de,ke){const Se=ke.item.is("element")?ke.item.name:"$text";return`${de}:${Se}`}(e,t),a=t.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(t.item):t.item,C=this._firedEventsMap.get(i),W=C.get(a);if(W){if(W.has(o))return;W.add(o)}else C.set(a,new Set([o]));this.fire(o,t,i)}_testAndFireAddAttributes(e,t){const i={item:e,range:Dt._createOn(e)};for(const o of i.item.getAttributeKeys())i.attributeKey=o,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(o),this._testAndFire(`attribute:${o}`,i,t)}_createConversionApi(e,t=new Set,i={}){const o=ge(me({},this._conversionApi),{consumable:new fr,writer:e,options:i,convertItem:a=>this._convertInsert(Dt._createOn(a),o),convertChildren:a=>this._convertInsert(Dt._createIn(a),o,{doNotAddConsumables:!0}),convertAttributes:a=>this._testAndFireAddAttributes(a,o),canReuseView:a=>!t.has(o.mapper.toModelElement(a))});return this._firedEventsMap.set(o,new Map),o}}function At(n,e,t){const i=e.getRange(),o=Array.from(n.getAncestors());return o.shift(),o.reverse(),!o.some(a=>{if(i.containsItem(a))return!!t.toViewElement(a).getCustomProperty("addHighlight")})}function li(n){return{item:n.item,range:Dt._createFromPositionAndShift(n.previousPosition,n.length)}}class _i extends(0,h.ln)(Lo){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const o of e._ranges)if(t.isEqual(o)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Dt(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new Dt(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new Dt(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,i,o]=e;if(typeof i=="object"&&(o=i,i=void 0),t===null)this._setRanges([]);else if(t instanceof _i)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Dt)this._setRanges([t],!!o&&!!o.backward);else if(t instanceof Xt)this._setRanges([new Dt(t)]);else if(t instanceof wo){const a=!!o&&!!o.backward;let C;if(i=="in")C=Dt._createIn(t);else if(i=="on")C=Dt._createOn(t);else{if(i===void 0)throw new h.Bb("model-selection-setto-required-second-parameter",[this,t]);C=new Dt(Xt._createAt(t,i))}this._setRanges([C],a)}else{if(!(0,h.TW)(t))throw new h.Bb("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,o&&!!o.backward)}}_setRanges(e,t=!1){const i=Array.from(e),o=i.some(a=>{if(!(a instanceof Dt))throw new h.Bb("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(C=>!C.isEqual(a))});(i.length!==this._ranges.length||o)&&(this._replaceAllRanges(i),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new h.Bb("model-selection-setfocus-no-ranges",[this,e]);const i=Xt._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(o)=="before"?(this._pushRange(new Dt(i,o)),this._lastRangeBackward=!0):(this._pushRange(new Dt(o,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const i=Yi(t.start,e);ao(i,t)&&(yield i);for(const a of t.getWalker()){const C=a.item;a.type=="elementEnd"&&Si(C,e,t)&&(yield C)}const o=Yi(t.end,e);$n(o,t)&&(yield o)}}containsEntireContent(e=this.anchor.root){const t=Xt._createAt(e,0),i=Xt._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Dt(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new h.Bb("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Ai(n,e){return!e.has(n)&&(e.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function Si(n,e,t){return Ai(n,e)&&qi(n,t)}function Yi(n,e){const t=n.parent.root.document.model.schema,i=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const a=i.find(C=>!o&&(o=t.isLimit(C),!o&&Ai(C,e)));return i.forEach(C=>e.add(C)),a}function qi(n,e){const t=function(i){const o=i.root.document.model.schema;let a=i.parent;for(;a;){if(o.isBlock(a))return a;a=a.parent}}(n);return t?!e.containsRange(Dt._createOn(t),!0):!0}function ao(n,e){return!!n&&(!(!e.isCollapsed&&!n.isEmpty)||!e.start.isTouching(Xt._createAt(n,n.maxOffset))&&qi(n,e))}function $n(n,e){return!!n&&(!(!e.isCollapsed&&!n.isEmpty)||!e.end.isTouching(Xt._createAt(n,0))&&qi(n,e))}_i.prototype.is=function(n){return n==="selection"||n==="model:selection"};class cn extends(0,h.ln)(Dt){constructor(e,t){super(e,t),lo.call(this)}detach(){this.stopListening()}toRange(){return new Dt(this.start,this.end)}static fromRange(e){return new cn(e.start,e.end)}}function lo(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&Oo.call(this,t)},{priority:"low"})}function Oo(n){const e=this.getTransformedByOperation(n),t=Dt._createFromRanges(e),i=!t.isEqual(this),o=function(C,W){switch(W.type){case"insert":return C.containsPosition(W.position);case"move":case"remove":case"reinsert":case"merge":return C.containsPosition(W.sourcePosition)||C.start.isEqual(W.sourcePosition)||C.containsPosition(W.targetPosition);case"split":return C.containsPosition(W.splitPosition)||C.containsPosition(W.insertionPosition)}return!1}(this,n);let a=null;if(i){t.root.rootName=="$graveyard"&&(a=n.type=="remove"?n.sourcePosition:n.deletionPosition);const C=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",C,{deletionPosition:a})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:a})}cn.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};const eo="selection:";class vn extends(0,h.ln)(Lo){constructor(e){super(),this._selection=new to(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return eo+e}static _isStoreAttributeKey(e){return e.startsWith(eo)}}vn.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class to extends _i{constructor(e){super(),this.markers=new h.FE({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,i)=>{const o=i[0];o.isDocumentOperation&&o.type!="marker"&&o.type!="rename"&&o.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,i,o,a)=>{this._updateMarker(i,a)}),this.listenTo(this._document,"change",(t,i)=>{(function(o,a){const C=o.document.differ;for(const W of C.getChanges()){if(W.type!="insert")continue;const de=W.position.parent;W.length===de.maxOffset&&o.enqueueChange(a,ke=>{const Se=Array.from(de.getAttributeKeys()).filter($e=>$e.startsWith(eo));for(const $e of Se)ke.removeAttribute($e,de)})}})(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=(0,h.hQ)();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new h.Bb("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new h.Bb("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=cn.fromRange(e);return t.on("change:range",(i,o,a)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=a.deletionPosition;const C=this._ranges.indexOf(t);this._ranges.splice(C,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const o of this._model.markers){const a=o.name.split(":",1)[0];if(!this._observedMarkers.has(a))continue;const C=o.getRange();for(const W of this.getRanges())C.containsRange(W,!W.isCollapsed)&&e.push(o)}const i=Array.from(this.markers);for(const o of e)this.markers.has(o)||(this.markers.add(o),t=!0);for(const o of Array.from(this.markers))e.includes(o)||(this.markers.remove(o),t=!0);t&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,t){const i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let o=!1;const a=Array.from(this.markers),C=this.markers.has(e);if(t){let W=!1;for(const de of this.getRanges())if(t.containsRange(de,!de.isCollapsed)){W=!0;break}W&&!C?(this.markers.add(e),o=!0):!W&&C&&(this.markers.remove(e),o=!0)}else C&&(this.markers.remove(e),o=!0);o&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateAttributes(e){const t=(0,h.qL)(this._getSurroundingAttributes()),i=(0,h.qL)(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[a,C]of this._attributePriority)C=="low"&&(this._attrs.delete(a),this._attributePriority.delete(a));this._setAttributesTo(t);const o=[];for(const[a,C]of this.getAttributes())i.has(a)&&i.get(a)===C||o.push(a);for(const[a]of i)this.hasAttribute(a)||o.push(a);o.length>0&&this.fire("change:attribute",{attributeKeys:o,directChange:!1})}_setAttribute(e,t,i=!0){const o=i?"normal":"low";return o=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,o),!0)}_removeAttribute(e,t=!0){const i=t?"normal":"low";return(i!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,i),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[i,o]of this.getAttributes())e.get(i)!==o&&this._removeAttribute(i,!1);for(const[i,o]of e)this._setAttribute(i,o,!1)&&t.add(i);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(eo)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let i=null;if(this.isCollapsed){const o=e.textNode?e.textNode:e.nodeBefore,a=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=An(o,t)),i||(i=An(a,t)),!this.isGravityOverridden&&!i){let C=o;for(;C&&!i;)C=C.previousSibling,i=An(C,t)}if(!i){let C=a;for(;C&&!i;)C=C.nextSibling,i=An(C,t)}i||(i=this.getStoredAttributes())}else{const o=this.getFirstRange();for(const a of o){if(a.item.is("element")&&t.isObject(a.item)){i=An(a.item,t);break}if(a.type=="text"){i=a.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function An(n,e){if(!n)return null;if(n instanceof Wn||n instanceof an)return n.getAttributes();if(!e.isInline(n))return null;if(!e.isObject(n))return[];const t=[];for(const[i,o]of n.getAttributes())e.checkAttribute("$text",i)&&e.getAttributeProperties(i).copyFromObject!==!1&&t.push([i,o]);return t}class Gn{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class vo extends Gn{elementToElement(e){return this.add(function(t){const i=Or(t.model),o=go(t.view,"container");return i.attributes.length&&(i.children=!0),a=>{a.on(`insert:${i.name}`,function(C,W=Eo){return(de,ke,Se)=>{if(!W(ke.item,Se.consumable,{preflight:!0}))return;const $e=C(ke.item,Se,ke);if(!$e)return;W(ke.item,Se.consumable);const ot=Se.mapper.toViewPosition(ke.range.start);Se.mapper.bindElements(ke.item,$e),Se.writer.insert(ot,$e),Se.convertAttributes(ke.item),io($e,ke.item.getChildren(),Se,{reconversion:ke.reconversion})}}(o,Xi(i)),{priority:t.converterPriority||"normal"}),(i.children||i.attributes.length)&&a.on("reduceChanges",fn(i),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const i=Or(t.model),o=go(t.view,"container");return i.children=!0,a=>{if(a._conversionApi.schema.checkChild(i.name,"$text"))throw new h.Bb("conversion-element-to-structure-disallowed-text",a,{elementName:i.name});var C,W;a.on(`insert:${i.name}`,(C=o,W=Xi(i),(de,ke,Se)=>{if(!W(ke.item,Se.consumable,{preflight:!0}))return;const $e=new Map;Se.writer._registerSlotFactory(function(qt,ci,vi){return(Fi,Wi)=>{const xn=Fi.createContainerElement("$slot");let Vo=null;if(Wi==="children")Vo=Array.from(qt.getChildren());else{if(typeof Wi!="function")throw new h.Bb("conversion-slot-mode-unknown",vi.dispatcher,{modeOrFilter:Wi});Vo=Array.from(qt.getChildren()).filter(Xo=>Wi(Xo))}return ci.set(xn,Vo),xn}}(ke.item,$e,Se));const ot=C(ke.item,Se,ke);if(Se.writer._clearSlotFactory(),!ot)return;(function(qt,ci,vi){const Fi=Array.from(ci.values()).flat(),Wi=new Set(Fi);if(Wi.size!=Fi.length)throw new h.Bb("conversion-slot-filter-overlap",vi.dispatcher,{element:qt});if(Wi.size!=qt.childCount)throw new h.Bb("conversion-slot-filter-incomplete",vi.dispatcher,{element:qt})})(ke.item,$e,Se),W(ke.item,Se.consumable);const Vt=Se.mapper.toViewPosition(ke.range.start);Se.mapper.bindElements(ke.item,ot),Se.writer.insert(Vt,ot),Se.convertAttributes(ke.item),function(qt,ci,vi,Fi){vi.mapper.on("modelToViewPosition",Vo,{priority:"highest"});let Wi=null,xn=null;for([Wi,xn]of ci)io(qt,xn,vi,Fi),vi.writer.move(vi.writer.createRangeIn(Wi),vi.writer.createPositionBefore(Wi)),vi.writer.remove(Wi);function Vo(Xo,la){const qa=la.modelPosition.nodeAfter,wa=xn.indexOf(qa);wa<0||(la.viewPosition=la.mapper.findPositionIn(Wi,wa))}vi.mapper.off("modelToViewPosition",Vo)}(ot,$e,Se,{reconversion:ke.reconversion})}),{priority:t.converterPriority||"normal"}),a.on("reduceChanges",fn(i),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=Co(t);let i=t.model;typeof i=="string"&&(i={key:i});let o=`attribute:${i.key}`;if(i.name&&(o+=":"+i.name),i.values)for(const C of i.values)t.view[C]=go(t.view[C],"attribute");else t.view=go(t.view,"attribute");const a=vr(t);return C=>{C.on(o,function(W){return(de,ke,Se)=>{if(!Se.consumable.test(ke.item,de.name))return;const $e=W(ke.attributeOldValue,Se,ke),ot=W(ke.attributeNewValue,Se,ke);if(!$e&&!ot)return;Se.consumable.consume(ke.item,de.name);const Vt=Se.writer,qt=Vt.document.selection;if(ke.item instanceof _i||ke.item instanceof vn)Vt.wrap(qt.getFirstRange(),ot);else{let ci=Se.mapper.toViewRange(ke.range);ke.attributeOldValue!==null&&$e&&(ci=Vt.unwrap(ci,$e)),ke.attributeNewValue!==null&&ot&&Vt.wrap(ci,ot)}}}(a),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=Co(t);let i=t.model;typeof i=="string"&&(i={key:i});let o=`attribute:${i.key}`;if(i.name&&(o+=":"+i.name),i.values)for(const C of i.values)t.view[C]=Mr(t.view[C]);else t.view=Mr(t.view);const a=vr(t);return C=>{var W;C.on(o,(W=a,(de,ke,Se)=>{if(!Se.consumable.test(ke.item,de.name))return;const $e=W(ke.attributeOldValue,Se,ke),ot=W(ke.attributeNewValue,Se,ke);if(!$e&&!ot)return;Se.consumable.consume(ke.item,de.name);const Vt=Se.mapper.toViewElement(ke.item),qt=Se.writer;if(!Vt)throw new h.Bb("conversion-attribute-to-attribute-on-text",Se.dispatcher,ke);if(ke.attributeOldValue!==null&&$e)if($e.key=="class"){const ci=(0,h.qo)($e.value);for(const vi of ci)qt.removeClass(vi,Vt)}else if($e.key=="style"){const ci=Object.keys($e.value);for(const vi of ci)qt.removeStyle(vi,Vt)}else qt.removeAttribute($e.key,Vt);if(ke.attributeNewValue!==null&&ot)if(ot.key=="class"){const ci=(0,h.qo)(ot.value);for(const vi of ci)qt.addClass(vi,Vt)}else if(ot.key=="style"){const ci=Object.keys(ot.value);for(const vi of ci)qt.setStyle(vi,ot.value[vi],Vt)}else qt.setAttribute(ot.key,ot.value,Vt)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const i=go(t.view,"ui");return o=>{var a;o.on(`addMarker:${t.model}`,(a=i,(C,W,de)=>{W.isOpening=!0;const ke=a(W,de);W.isOpening=!1;const Se=a(W,de);if(!ke||!Se)return;const $e=W.markerRange;if($e.isCollapsed&&!de.consumable.consume($e,C.name))return;for(const qt of $e)if(!de.consumable.consume(qt.item,C.name))return;const ot=de.mapper,Vt=de.writer;Vt.insert(ot.toViewPosition($e.start),ke),de.mapper.bindElementToMarker(ke,W.markerName),$e.isCollapsed||(Vt.insert(ot.toViewPosition($e.end),Se),de.mapper.bindElementToMarker(Se,W.markerName)),C.stop()}),{priority:t.converterPriority||"normal"}),o.on(`removeMarker:${t.model}`,(C,W,de)=>{const ke=de.mapper.markerNameToElements(W.markerName);if(ke){for(const Se of ke)de.mapper.unbindElementFromMarkerName(Se,W.markerName),de.writer.clear(de.writer.createRangeOn(Se),Se);de.writer.clearClonedElementsGroup(W.markerName),C.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return i=>{var o;i.on(`addMarker:${t.model}`,(o=t.view,(a,C,W)=>{if(!C.item||!(C.item instanceof _i||C.item instanceof vn||C.item.is("$textProxy")))return;const de=Ui(o,C,W);if(!de||!W.consumable.consume(C.item,a.name))return;const ke=W.writer,Se=kr(ke,de),$e=ke.document.selection;if(C.item instanceof _i||C.item instanceof vn)ke.wrap($e.getFirstRange(),Se);else{const ot=W.mapper.toViewRange(C.range),Vt=ke.wrap(ot,Se);for(const qt of Vt.getItems())if(qt.is("attributeElement")&&qt.isSimilar(Se)){W.mapper.bindElementToMarker(qt,C.markerName);break}}}),{priority:t.converterPriority||"normal"}),i.on(`addMarker:${t.model}`,function(a){return(C,W,de)=>{if(!W.item||!(W.item instanceof ln))return;const ke=Ui(a,W,de);if(!ke||!de.consumable.test(W.item,C.name))return;const Se=de.mapper.toViewElement(W.item);if(Se&&Se.getCustomProperty("addHighlight")){de.consumable.consume(W.item,C.name);for(const $e of Dt._createIn(W.item))de.consumable.consume($e.item,C.name);Se.getCustomProperty("addHighlight")(Se,ke,de.writer),de.mapper.bindElementToMarker(Se,W.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),i.on(`removeMarker:${t.model}`,function(a){return(C,W,de)=>{if(W.markerRange.isCollapsed)return;const ke=Ui(a,W,de);if(!ke)return;const Se=kr(de.writer,ke),$e=de.mapper.markerNameToElements(W.markerName);if($e){for(const ot of $e)de.mapper.unbindElementFromMarkerName(ot,W.markerName),ot.is("attributeElement")?de.writer.unwrap(de.writer.createRangeOn(ot),Se):ot.getCustomProperty("removeHighlight")(ot,ke.id,de.writer);de.writer.clearClonedElementsGroup(W.markerName),C.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=Co(t);const i=t.model;let o=t.view;return o||(o=a=>({group:i,name:a.substr(t.model.length+1)})),a=>{var C;a.on(`addMarker:${i}`,(C=o,(W,de,ke)=>{const Se=C(de.markerName,ke);if(!Se)return;const $e=de.markerRange;ke.consumable.consume($e,W.name)&&(Lr($e,!1,ke,de,Se),Lr($e,!0,ke,de,Se),W.stop())}),{priority:t.converterPriority||"normal"}),a.on(`removeMarker:${i}`,function(W){return(de,ke,Se)=>{const $e=W(ke.markerName,Se);if(!$e)return;const ot=Se.mapper.markerNameToElements(ke.markerName);if(ot){for(const qt of ot)Se.mapper.unbindElementFromMarkerName(qt,ke.markerName),qt.is("containerElement")?(Vt(`data-${$e.group}-start-before`,qt),Vt(`data-${$e.group}-start-after`,qt),Vt(`data-${$e.group}-end-before`,qt),Vt(`data-${$e.group}-end-after`,qt)):Se.writer.clear(Se.writer.createRangeOn(qt),qt);Se.writer.clearClonedElementsGroup(ke.markerName),de.stop()}function Vt(qt,ci){if(ci.hasAttribute(qt)){const vi=new Set(ci.getAttribute(qt).split(","));vi.delete($e.name),vi.size==0?Se.writer.removeAttribute(qt,ci):Se.writer.setAttribute(qt,Array.from(vi).join(","),ci)}}}}(o),{priority:t.converterPriority||"normal"})}}(e))}}function kr(n,e){const t=n.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function Lr(n,e,t,i,o){const a=e?n.start:n.end,C=a.nodeAfter&&a.nodeAfter.is("element")?a.nodeAfter:null,W=a.nodeBefore&&a.nodeBefore.is("element")?a.nodeBefore:null;if(C||W){let de,ke;e&&C||!e&&!W?(de=C,ke=!0):(de=W,ke=!1);const Se=t.mapper.toViewElement(de);if(Se)return void function($e,ot,Vt,qt,ci,vi){const Fi=`data-${vi.group}-${ot?"start":"end"}-${Vt?"before":"after"}`,Wi=$e.hasAttribute(Fi)?$e.getAttribute(Fi).split(","):[];Wi.unshift(vi.name),qt.writer.setAttribute(Fi,Wi.join(","),$e),qt.mapper.bindElementToMarker($e,ci.markerName)}(Se,e,ke,t,i,o)}(function(de,ke,Se,$e,ot){const Vt=`${ot.group}-${ke?"start":"end"}`,qt=ot.name?{name:ot.name}:null,ci=Se.writer.createUIElement(Vt,qt);Se.writer.insert(de,ci),Se.mapper.bindElementToMarker(ci,$e.markerName)})(t.mapper.toViewPosition(a),e,t,i,o)}function Or(n){return typeof n=="string"&&(n={name:n}),{name:n.name,attributes:n.attributes?(0,h.qo)(n.attributes):[],children:!!n.children}}function go(n,e){return typeof n=="function"?n:(t,i)=>function(o,a,C){typeof o=="string"&&(o={name:o});let W;const de=a.writer,ke=Object.assign({},o.attributes);if(C=="container")W=de.createContainerElement(o.name,ke);else if(C=="attribute"){const Se={priority:o.priority||di.DEFAULT_PRIORITY};W=de.createAttributeElement(o.name,ke,Se)}else W=de.createUIElement(o.name,ke);if(o.styles){const Se=Object.keys(o.styles);for(const $e of Se)de.setStyle($e,o.styles[$e],W)}if(o.classes){const Se=o.classes;if(typeof Se=="string")de.addClass(Se,W);else for(const $e of Se)de.addClass($e,W)}return W}(n,i,e)}function vr(n){return n.model.values?(e,t,i)=>{const o=n.view[e];return o?o(e,t,i):null}:n.view}function Mr(n){return typeof n=="string"?e=>({key:n,value:e}):typeof n=="object"?n.value?()=>n:e=>({key:n.key,value:e}):n}function Ui(n,e,t){const i=typeof n=="function"?n(e,t):n;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}function fn(n){const e=function(t){return(i,o)=>{if(!i.is("element",t.name))return!1;if(o.type=="attribute"){if(t.attributes.includes(o.attributeKey))return!0}else if(t.children)return!0;return!1}}(n);return(t,i)=>{const o=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const a of i.changes){const C=a.type=="attribute"?a.range.start.nodeAfter:a.position.parent;if(C&&e(C,a)){if(!i.reconvertedElements.has(C)){i.reconvertedElements.add(C);const W=Xt._createBefore(C);let de=o.length;for(let ke=o.length-1;ke>=0;ke--){const Se=o[ke],$e=(Se.type=="attribute"?Se.range.start:Se.position).compareWith(W);if($e=="before"||Se.type=="remove"&&$e=="same")break;de=ke}o.splice(de,0,{type:"remove",name:C.name,position:W,length:1},{type:"reinsert",name:C.name,position:W,length:1})}}else o.push(a)}i.changes=o}}function Xi(n){return(e,t,i={})=>{const o=["insert"];for(const a of n.attributes)e.hasAttribute(a)&&o.push(`attribute:${a}`);return!!o.every(a=>t.test(e,a))&&(i.preflight||o.forEach(a=>t.consume(e,a)),!0)}}function io(n,e,t,i){for(const o of e)Mo(n.root,o,t,i)||t.convertItem(o)}function Mo(n,e,t,i){const{writer:o,mapper:a}=t;if(!i.reconversion)return!1;const C=a.toViewElement(e);return!(!C||C.root==n)&&!!t.canReuseView(C)&&(o.move(o.createRangeOn(C),a.toViewPosition(Xt._createBefore(e))),!0)}function Eo(n,e,{preflight:t}={}){return t?e.test(n,"insert"):e.consume(n,"insert")}function Bn(n){const{schema:e,document:t}=n.model;for(const i of t.getRoots())if(i.isEmpty&&!e.checkChild(i,"$text")&&e.checkChild(i,"paragraph"))return n.insertElement("paragraph",i),!0;return!1}function Zn(n,e,t){const i=t.createContext(n);return!!t.checkChild(i,"paragraph")&&!!t.checkChild(i.push("paragraph"),e)}function _n(n,e){const t=e.createElement("paragraph");return e.insert(t,n),e.createPositionAt(t,0)}var _o=Object.defineProperty,no=Object.defineProperties,Tn=Object.getOwnPropertyDescriptors,Dn=Object.getOwnPropertySymbols,Wo=Object.prototype.hasOwnProperty,Yr=Object.prototype.propertyIsEnumerable,Qr=(n,e,t)=>e in n?_o(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;class lr extends Gn{elementToElement(e){return this.add(Rr(e))}elementToAttribute(e){return this.add(function(t){t=Co(t),cr(t);const i=Ur(t,!1),o=Fr(t.view),a=o?`element:${o}`:"element";return C=>{C.on(a,i,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=Co(t);let i=null;(typeof t.view=="string"||t.view.key)&&(i=function(a){typeof a.view=="string"&&(a.view={key:a.view});const C=a.view.key;let W;return C=="class"||C=="style"?W={[C=="class"?"classes":"styles"]:a.view.value}:W={attributes:{[C]:a.view.value===void 0?/[\s\S]*/:a.view.value}},a.view.name&&(W.name=a.view.name),a.view=W,C}(t)),cr(t,i);const o=Ur(t,!0);return a=>{a.on("element",o,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const i=function(C){return(W,de)=>{const ke=typeof C=="string"?C:C(W,de);return de.writer.createElement("$marker",{"data-name":ke})}}(t.model);return Rr((o=((C,W)=>{for(var de in W||(W={}))Wo.call(W,de)&&Qr(C,de,W[de]);if(Dn)for(var de of Dn(W))Yr.call(W,de)&&Qr(C,de,W[de]);return C})({},t),a={model:i},no(o,Tn(a))));var o,a}(e))}dataToMarker(e){return this.add(function(t){t=Co(t),t.model||(t.model=C=>C?t.view+":"+C:t.view);const i={view:t.view,model:t.model},o=Hr(Wr(i,"start")),a=Hr(Wr(i,"end"));return C=>{C.on(`element:${t.view}-start`,o,{priority:t.converterPriority||"normal"}),C.on(`element:${t.view}-end`,a,{priority:t.converterPriority||"normal"});const W=h.tA.low,de=h.tA.highest,ke=h.tA.get(t.converterPriority)/de;C.on("element",function(Se){return($e,ot,Vt)=>{const qt=`data-${Se.view}`;function ci(vi,Fi){for(const Wi of Fi){const xn=Se.model(Wi,Vt),Vo=Vt.writer.createElement("$marker",{"data-name":xn});Vt.writer.insert(Vo,vi),ot.modelCursor.isEqual(vi)?ot.modelCursor=ot.modelCursor.getShiftedBy(1):ot.modelCursor=ot.modelCursor._getTransformedByInsertion(vi,1),ot.modelRange=ot.modelRange._getTransformedByInsertion(vi,1)[0]}}(Vt.consumable.test(ot.viewItem,{attributes:qt+"-end-after"})||Vt.consumable.test(ot.viewItem,{attributes:qt+"-start-after"})||Vt.consumable.test(ot.viewItem,{attributes:qt+"-end-before"})||Vt.consumable.test(ot.viewItem,{attributes:qt+"-start-before"}))&&(ot.modelRange||Object.assign(ot,Vt.convertChildren(ot.viewItem,ot.modelCursor)),Vt.consumable.consume(ot.viewItem,{attributes:qt+"-end-after"})&&ci(ot.modelRange.end,ot.viewItem.getAttribute(qt+"-end-after").split(",")),Vt.consumable.consume(ot.viewItem,{attributes:qt+"-start-after"})&&ci(ot.modelRange.end,ot.viewItem.getAttribute(qt+"-start-after").split(",")),Vt.consumable.consume(ot.viewItem,{attributes:qt+"-end-before"})&&ci(ot.modelRange.start,ot.viewItem.getAttribute(qt+"-end-before").split(",")),Vt.consumable.consume(ot.viewItem,{attributes:qt+"-start-before"})&&ci(ot.modelRange.start,ot.viewItem.getAttribute(qt+"-start-before").split(",")))}}(i),{priority:W+ke})}}(e))}}function Rr(n){const e=Hr(n=Co(n)),t=Fr(n.view),i=t?`element:${t}`:"element";return o=>{o.on(i,e,{priority:n.converterPriority||"normal"})}}function Fr(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function Hr(n){const e=new V(n.view);return(t,i,o)=>{const a=e.match(i.viewItem);if(!a)return;const C=a.match;if(C.name=!0,!o.consumable.test(i.viewItem,C))return;const W=function(de,ke,Se){return de instanceof Function?de(ke,Se):Se.writer.createElement(de)}(n.model,i.viewItem,o);W&&o.safeInsert(W,i.modelCursor)&&(o.consumable.consume(i.viewItem,C),o.convertChildren(i.viewItem,W),o.updateConversionResult(W,i))}}function cr(n,e=null){const t=e===null||(a=>a.getAttribute(e)),i=typeof n.model!="object"?n.model:n.model.key,o=typeof n.model!="object"||n.model.value===void 0?t:n.model.value;n.model={key:i,value:o}}function Ur(n,e){const t=new V(n.view);return(i,o,a)=>{if(!o.modelRange&&e)return;const C=t.match(o.viewItem);if(!C||(function(Se,$e){const ot=typeof Se=="function"?Se($e):Se;return typeof ot=="object"&&!Fr(ot)?!1:!ot.classes&&!ot.attributes&&!ot.styles}(n.view,o.viewItem)?C.match.name=!0:delete C.match.name,!a.consumable.test(o.viewItem,C.match)))return;const W=n.model.key,de=typeof n.model.value=="function"?n.model.value(o.viewItem,a):n.model.value;if(de===null)return;o.modelRange||Object.assign(o,a.convertChildren(o.viewItem,o.modelCursor)),function(Se,$e,ot,Vt){let qt=!1;for(const ci of Array.from(Se.getItems({shallow:ot})))Vt.schema.checkAttribute(ci,$e.key)&&(qt=!0,ci.hasAttribute($e.key)||Vt.writer.setAttribute($e.key,$e.value,ci));return qt}(o.modelRange,{key:W,value:de},e,a)&&(a.consumable.test(o.viewItem,{name:!0})&&(C.match.name=!0),a.consumable.consume(o.viewItem,C.match))}}function Wr(n,e){return{view:`${n.view}-${e}`,model:(t,i)=>{const o=t.getAttribute("name"),a=n.model(o,i);return i.writer.createElement("$marker",{"data-name":a})}}}function ms(n){n.document.registerPostFixer(e=>function(t,i){const o=i.document.selection,a=i.schema,C=[];let W=!1;for(const de of o.getRanges()){const ke=jr(de,a);ke&&!ke.isEqual(de)?(C.push(ke),W=!0):C.push(de)}return W&&t.setSelection(function(de){const ke=[...de],Se=new Set;let $e=1;for(;$e<ke.length;){const ot=ke[$e],Vt=ke.slice(0,$e);for(const[qt,ci]of Vt.entries())if(!Se.has(qt)){if(ot.isEqual(ci))Se.add(qt);else if(ot.isIntersecting(ci)){Se.add(qt),Se.add($e);const vi=ot.getJoined(ci);ke.push(vi)}}$e++}return ke.filter((ot,Vt)=>!Se.has(Vt))}(C),{backward:o.isBackward}),!1}(e,n))}function jr(n,e){return n.isCollapsed?function(t,i){const o=t.start,a=i.getNearestSelectionRange(o);if(!a){const W=o.getAncestors().reverse().find(de=>i.isObject(de));return W?Dt._createOn(W):null}if(!a.isCollapsed)return a;const C=a.start;return o.isEqual(C)?null:new Dt(C)}(n,e):function(t,i){const{start:o,end:a}=t,C=i.checkChild(o,"$text"),W=i.checkChild(a,"$text"),de=i.getLimitElement(o),ke=i.getLimitElement(a);if(de===ke){if(C&&W)return null;if(function(ot,Vt,qt){const ci=ot.nodeAfter&&!qt.isLimit(ot.nodeAfter)||qt.checkChild(ot,"$text"),vi=Vt.nodeBefore&&!qt.isLimit(Vt.nodeBefore)||qt.checkChild(Vt,"$text");return ci||vi}(o,a,i)){const ot=o.nodeAfter&&i.isSelectable(o.nodeAfter)?null:i.getNearestSelectionRange(o,"forward"),Vt=a.nodeBefore&&i.isSelectable(a.nodeBefore)?null:i.getNearestSelectionRange(a,"backward"),qt=ot?ot.start:o,ci=Vt?Vt.end:a;return new Dt(qt,ci)}}const Se=de&&!de.is("rootElement"),$e=ke&&!ke.is("rootElement");if(Se||$e){const ot=o.nodeAfter&&a.nodeBefore&&o.nodeAfter.parent===a.nodeBefore.parent,Vt=Se&&(!ot||!$r(o.nodeAfter,i)),qt=$e&&(!ot||!$r(a.nodeBefore,i));let ci=o,vi=a;return Vt&&(ci=Xt._createBefore(Bo(de,i))),qt&&(vi=Xt._createAfter(Bo(ke,i))),new Dt(ci,vi)}return null}(n,e)}function Bo(n,e){let t=n,i=t;for(;e.isLimit(i)&&i.parent;)t=i,i=i.parent;return t}function $r(n,e){return n&&e.isSelectable(n)}class gs extends(0,h.Re)(){constructor(e,t){super(),this.model=e,this.view=new To(t),this.mapper=new No,this.downcastDispatcher=new qe({mapper:this.mapper,schema:e.schema});const i=this.model.document,o=i.selection,a=this.model.markers;var C,W,de;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(ke=>{this.downcastDispatcher.convertChanges(i.differ,a,ke),this.downcastDispatcher.convertSelection(o,a,ke)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(ke,Se){return($e,ot)=>{const Vt=ot.newSelection,qt=[];for(const vi of Vt.getRanges())qt.push(Se.toModelRange(vi));const ci=ke.createSelection(qt,{backward:Vt.isBackward});ci.isEqual(ke.document.selection)||ke.change(vi=>{vi.setSelection(ci)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(C=this.mapper,W=this.model.schema,de=this.view,(ke,Se)=>{if(!de.document.isComposing||h.OB.isAndroid)for(let $e=0;$e<Se.targetRanges.length;$e++){const ot=Se.targetRanges[$e],Vt=C.toModelRange(ot),qt=jr(Vt,W);qt&&!qt.isEqual(Vt)&&(Se.targetRanges[$e]=C.toViewRange(qt))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(ke,Se,$e)=>{if(!$e.consumable.consume(Se.item,ke.name))return;const ot=$e.writer,Vt=$e.mapper.toViewPosition(Se.range.start),qt=ot.createText(Se.item.data);ot.insert(Vt,qt)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(ke,Se,$e)=>{$e.convertAttributes(Se.item),Se.reconversion||!Se.item.is("element")||Se.item.isEmpty||$e.convertChildren(Se.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(ke,Se,$e)=>{const ot=$e.mapper.toViewPosition(Se.position),Vt=Se.position.getShiftedBy(Se.length),qt=$e.mapper.toViewPosition(Vt,{isPhantom:!0}),ci=$e.writer.createRange(ot,qt),vi=$e.writer.remove(ci.getTrimmed());for(const Fi of $e.writer.createRangeIn(vi).getItems())$e.mapper.unbindViewElement(Fi,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(ke,Se,$e)=>{const ot=$e.writer,Vt=ot.document.selection;for(const qt of Vt.getRanges())qt.isCollapsed&&qt.end.parent.isAttached()&&$e.writer.mergeAttributes(qt.start);ot.setSelection(null)}),this.downcastDispatcher.on("selection",(ke,Se,$e)=>{const ot=Se.selection;if(ot.isCollapsed||!$e.consumable.consume(ot,"selection"))return;const Vt=[];for(const qt of ot.getRanges())Vt.push($e.mapper.toViewRange(qt));$e.writer.setSelection(Vt,{backward:ot.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(ke,Se,$e)=>{const ot=Se.selection;if(!ot.isCollapsed||!$e.consumable.consume(ot,"selection"))return;const Vt=$e.writer,qt=ot.getFirstPosition(),ci=$e.mapper.toViewPosition(qt),vi=Vt.breakAttributes(ci);Vt.setSelection(vi)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(ke=>{if(ke.rootName=="$graveyard")return null;const Se=new ee(this.view.document,ke.name);return Se.rootName=ke.rootName,this.mapper.bindElements(ke,Se),Se})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new h.Bb("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Ro{constructor(){this._consumables=new Map}add(e,t){let i;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?i=this._consumables.get(e):(i=new Jr(e),this._consumables.set(e,i)),i.add(t))}test(e,t){const i=this._consumables.get(e);return i===void 0?null:e.is("$text")||e.is("documentFragment")?i:i.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const i=this._consumables.get(e);i!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):i.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},i=e.getAttributeKeys();for(const C of i)C!="style"&&C!="class"&&t.attributes.push(C);const o=e.getClassNames();for(const C of o)t.classes.push(C);const a=e.getStyleNames();for(const C of a)t.styles.push(C);return t}static createFrom(e,t){if(t||(t=new Ro),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,Ro.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const i of e.getChildren())t=Ro.createFrom(i,t);return t}}const dr=["attributes","classes","styles"];class Jr{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of dr)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of dr)if(t in e){const i=this._test(t,e[t]);if(i!==!0)return i}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of dr)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of dr)t in e&&this._revert(t,e[t])}_add(e,t){const i=(0,Ee.Z)(t)?t:[t],o=this._consumables[e];for(const a of i){if(e==="attributes"&&(a==="class"||a==="style"))throw new h.Bb("viewconsumable-invalid-attribute",this);if(o.set(a,!0),e==="styles")for(const C of this.element.document.stylesProcessor.getRelatedStyles(a))o.set(C,!0)}}_test(e,t){const i=(0,Ee.Z)(t)?t:[t],o=this._consumables[e];for(const a of i)if(e!=="attributes"||a!=="class"&&a!=="style"){const C=o.get(a);if(C===void 0)return null;if(!C)return!1}else{const C=a=="class"?"classes":"styles",W=this._test(C,[...this._consumables[C].keys()]);if(W!==!0)return W}return!0}_consume(e,t){const i=(0,Ee.Z)(t)?t:[t],o=this._consumables[e];for(const a of i)if(e!=="attributes"||a!=="class"&&a!=="style"){if(o.set(a,!1),e=="styles")for(const C of this.element.document.stylesProcessor.getRelatedStyles(a))o.set(C,!1)}else{const C=a=="class"?"classes":"styles";this._consume(C,[...this._consumables[C].keys()])}}_revert(e,t){const i=(0,Ee.Z)(t)?t:[t],o=this._consumables[e];for(const a of i)if(e!=="attributes"||a!=="class"&&a!=="style")o.get(a)===!1&&o.set(a,!0);else{const C=a=="class"?"classes":"styles";this._revert(C,[...this._consumables[C].keys()])}}}class ps extends(0,h.Re)(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Io(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Io(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new h.Bb("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new h.Bb("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const i=this.getDefinition(e.last);return!!i&&i.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof Xt){const i=e.nodeBefore,o=e.nodeAfter;if(!(i instanceof ln))throw new h.Bb("schema-check-merge-no-element-before",this);if(!(o instanceof ln))throw new h.Bb("schema-check-merge-no-element-after",this);return this.checkMerge(i,o)}for(const i of t.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[i,o])=>{if(!o)return;const a=e(i,o);typeof a=="boolean"&&(t.stop(),t.return=a)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[i,o])=>{const a=e(i,o);typeof a=="boolean"&&(t.stop(),t.return=a)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof Xt?t=e.parent:t=(e instanceof Dt?[e]:Array.from(e.getRanges())).reduce((i,o)=>{const a=o.getCommonAncestor();return i?i.getCommonAncestor(a,{includeSelf:!0}):a},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const i=[...e.getFirstPosition().getAncestors(),new an("",e.getAttributes())];return this.checkAttribute(i,t)}{const i=e.getRanges();for(const o of i)for(const a of o)if(this.checkAttribute(a.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(i){for(const o of i)yield*o.getMinimalFlatRanges()}(e);for(const i of e)yield*this._getValidRangesForRange(i,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Dt(e);let i,o;const a=e.getAncestors().reverse().find(C=>this.isLimit(C))||e.root;t!="both"&&t!="backward"||(i=new ko({boundaries:Dt._createIn(a),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(o=new ko({boundaries:Dt._createIn(a),startPosition:e}));for(const C of function*(W,de){let ke=!1;for(;!ke;){if(ke=!0,W){const Se=W.next();Se.done||(ke=!1,yield{walker:W,value:Se.value})}if(de){const Se=de.next();Se.done||(ke=!1,yield{walker:de,value:Se.value})}}}(i,o)){const W=C.walker==i?"elementEnd":"elementStart",de=C.value;if(de.type==W&&this.isObject(de.item))return Dt._createOn(de.item);if(this.checkChild(de.nextPosition,"$text"))return new Dt(de.nextPosition)}return null}findAllowedParent(e,t){let i=e.parent;for(;i;){if(this.checkChild(i,t))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,t,i){const o=i.model;for(const[a,C]of Object.entries(t))o.schema.checkAttribute(e,a)&&i.setAttribute(a,C,e)}removeDisallowedAttributes(e,t){for(const i of e)if(i.is("$text"))ns(this,i,t);else{const o=Dt._createIn(i).getPositions();for(const a of o)ns(this,a.nodeBefore||a.parent,t)}}getAttributesWithProperty(e,t,i){const o={};for(const[a,C]of e.getAttributes()){const W=this.getAttributeProperties(a);W[t]!==void 0&&(i!==void 0&&i!==W[t]||(o[a]=C))}return o}createContext(e){return new Io(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,i=Object.keys(t);for(const o of i)e[o]=Xr(t[o],o);for(const o of i)fs(e,o);for(const o of i)bs(e,o);for(const o of i)Zr(e,o);for(const o of i)es(e,o),ws(e,o);for(const o of i)ts(e,o),is(e,o),qr(e,o);this._compiledDefinitions=e}_checkContextMatch(e,t,i=t.length-1){const o=t.getItem(i);if(e.allowIn.includes(o.name)){if(i==0)return!0;{const a=this.getDefinition(o);return this._checkContextMatch(a,t,i-1)}}return!1}*_getValidRangesForRange(e,t){let i=e.start,o=e.start;for(const a of e.getItems({shallow:!0}))a.is("element")&&(yield*this._getValidRangesForRange(Dt._createIn(a),t)),this.checkAttribute(a,t)||(i.isEqual(o)||(yield new Dt(i,o)),i=Xt._createAfter(a)),o=Xt._createAfter(a);i.isEqual(o)||(yield new Dt(i,o))}}class Io{constructor(e){if(e instanceof Io)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(_r)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Io([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function Xr(n,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(i,o){for(const a of i){const C=Object.keys(a).filter(W=>W.startsWith("is"));for(const W of C)o[W]=!!a[W]}}(n,t),Yo(n,t,"allowIn"),Yo(n,t,"allowContentOf"),Yo(n,t,"allowWhere"),Yo(n,t,"allowAttributes"),Yo(n,t,"allowAttributesOf"),Yo(n,t,"allowChildren"),Yo(n,t,"inheritTypesFrom"),function(i,o){for(const a of i){const C=a.inheritAllFrom;C&&(o.allowContentOf.push(C),o.allowWhere.push(C),o.allowAttributesOf.push(C),o.inheritTypesFrom.push(C))}}(n,t),t}function fs(n,e){const t=n[e];for(const i of t.allowChildren){const o=n[i];o&&o.allowIn.push(e)}t.allowChildren.length=0}function bs(n,e){for(const t of n[e].allowContentOf)n[t]&&ks(n,t).forEach(i=>{i.allowIn.push(e)});delete n[e].allowContentOf}function Zr(n,e){for(const t of n[e].allowWhere){const i=n[t];if(i){const o=i.allowIn;n[e].allowIn.push(...o)}}delete n[e].allowWhere}function es(n,e){for(const t of n[e].allowAttributesOf){const i=n[t];if(i){const o=i.allowAttributes;n[e].allowAttributes.push(...o)}}delete n[e].allowAttributesOf}function ws(n,e){const t=n[e];for(const i of t.inheritTypesFrom){const o=n[i];if(o){const a=Object.keys(o).filter(C=>C.startsWith("is"));for(const C of a)C in t||(t[C]=o[C])}}delete t.inheritTypesFrom}function ts(n,e){const t=n[e],i=t.allowIn.filter(o=>n[o]);t.allowIn=Array.from(new Set(i))}function is(n,e){const t=n[e];for(const i of t.allowIn)n[i].allowChildren.push(e)}function qr(n,e){const t=n[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function Yo(n,e,t){for(const i of n){const o=i[t];typeof o=="string"?e[t].push(o):Array.isArray(o)&&e[t].push(...o)}}function ks(n,e){const t=n[e];return(i=n,Object.keys(i).map(o=>i[o])).filter(o=>o.allowIn.includes(t.name));var i}function _r(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute:e=>n.getAttribute(e)}}function ns(n,e,t){for(const i of e.getAttributeKeys())n.checkAttribute(e,i)||t.removeAttribute(i,e)}var os=Object.defineProperty,vs=Object.defineProperties,_s=Object.getOwnPropertyDescriptors,Kr=Object.getOwnPropertySymbols,ys=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,r=(n,e,t)=>e in n?os(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;class w extends(0,h.ln)(){constructor(e){var t;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(t=((i,o)=>{for(var a in o||(o={}))ys.call(o,a)&&r(i,a,o[a]);if(Kr)for(var a of Kr(o))U.call(o,a)&&r(i,a,o[a]);return i})({},e),vs(t,_s({consumable:null,writer:null,store:null,convertItem:(i,o)=>this._convertItem(i,o),convertChildren:(i,o)=>this._convertChildren(i,o),safeInsert:(i,o)=>this._safeInsert(i,o),updateConversionResult:(i,o)=>this._updateConversionResult(i,o),splitToAllowedParent:(i,o)=>this._splitToAllowedParent(i,o),getSplitParts:i=>this._getSplitParts(i),keepEmptyElement:i=>this._keepEmptyElement(i)})))}convert(e,t,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(C,W){let de;for(const ke of new Io(C)){const Se={};for(const ot of ke.getAttributeKeys())Se[ot]=ke.getAttribute(ot);const $e=W.createElement(ke.name,Se);de&&W.insert($e,de),de=Xt._createAt($e,0)}return de}(i,t),this.conversionApi.writer=t,this.conversionApi.consumable=Ro.createFrom(e),this.conversionApi.store={};const{modelRange:o}=this._convertItem(e,this._modelCursor),a=t.createDocumentFragment();if(o){this._removeEmptyElements();for(const C of Array.from(this._modelCursor.parent.getChildren()))t.append(C,a);a.markers=function(C,W){const de=new Set,ke=new Map,Se=Dt._createIn(C).getItems();for(const $e of Se)$e.is("element","$marker")&&de.add($e);for(const $e of de){const ot=$e.getAttribute("data-name"),Vt=W.createPositionBefore($e);ke.has(ot)?ke.get(ot).end=Vt.clone():ke.set(ot,new Dt(Vt.clone())),W.remove($e)}return ke}(a,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,a}_convertItem(e,t){const i={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof Dt))throw new h.Bb("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,t){let i=t.is("position")?t:Xt._createAt(t,0);const o=new Dt(i);for(const a of Array.from(e.getChildren())){const C=this._convertItem(a,i);C.modelRange instanceof Dt&&(o.end=C.modelRange.end,i=C.modelCursor)}return{modelRange:o,modelCursor:i}}_safeInsert(e,t){const i=this._splitToAllowedParent(e,t);return!!i&&(this.conversionApi.writer.insert(e,i.position),!0)}_updateConversionResult(e,t){const i=this._getSplitParts(e),o=this.conversionApi.writer;t.modelRange||(t.modelRange=o.createRange(o.createPositionBefore(e),o.createPositionAfter(i[i.length-1])));const a=this._cursorParents.get(e);t.modelCursor=a?o.createPositionAt(a,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:i,writer:o}=this.conversionApi;let a=i.findAllowedParent(t,e);if(a){if(a===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(a)&&(a=null)}if(!a)return Zn(t,e,i)?{position:_n(t,o)}:null;const C=this.conversionApi.writer.split(t,a),W=[];for(const ke of C.range.getWalker())if(ke.type=="elementEnd")W.push(ke.item);else{const Se=W.pop(),$e=ke.item;this._registerSplitPair(Se,$e)}const de=C.range.end.parent;return this._cursorParents.set(e,de),{position:C.position,cursorParent:de}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const i=this._splitParts.get(e);this._splitParts.set(t,i),i.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class F{getHtml(e){const t=h.global.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class le{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new k(e,{renderingMode:"data"}),this.htmlWriter=new F}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),i=t.createDocumentFragment(),o=t.body.childNodes;for(;o.length>0;)i.appendChild(o[0]);return i}}class Me extends(0,h.ln)(){constructor(e,t){super(),this.model=e,this.mapper=new No,this.downcastDispatcher=new qe({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(i,o,a)=>{if(!a.consumable.consume(o.item,i.name))return;const C=a.writer,W=a.mapper.toViewPosition(o.range.start),de=C.createText(o.item.data);C.insert(W,de)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(i,o,a)=>{a.convertAttributes(o.item),o.reconversion||!o.item.is("element")||o.item.isEmpty||a.convertChildren(o.item)},{priority:"lowest"}),this.upcastDispatcher=new w({schema:e.schema}),this.viewDocument=new ki(t),this.stylesProcessor=t,this.htmlProcessor=new le(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new In(this.viewDocument),this.upcastDispatcher.on("text",(i,o,{schema:a,consumable:C,writer:W})=>{let de=o.modelCursor;if(!C.test(o.viewItem))return;if(!a.checkChild(de,"$text")){if(!Zn(de,"$text",a)||o.viewItem.data.trim().length==0)return;const Se=de.nodeBefore;de=_n(de,W),Se&&Se.is("element","$marker")&&(W.move(W.createRangeOn(Se),de),de=W.createPositionAfter(Se))}C.consume(o.viewItem);const ke=W.createText(o.viewItem.data);W.insert(ke,de),o.modelRange=W.createRange(de,de.getShiftedBy(ke.offsetSize)),o.modelCursor=o.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(i,o,a)=>{if(!o.modelRange&&a.consumable.consume(o.viewItem,{name:!0})){const{modelRange:C,modelCursor:W}=a.convertChildren(o.viewItem,o.modelCursor);o.modelRange=C,o.modelCursor=W}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(i,o,a)=>{if(!o.modelRange&&a.consumable.consume(o.viewItem,{name:!0})){const{modelRange:C,modelCursor:W}=a.convertChildren(o.viewItem,o.modelCursor);o.modelRange=C,o.modelCursor=W}},{priority:"lowest"}),(0,h.Re)().prototype.decorate.call(this,"init"),(0,h.Re)().prototype.decorate.call(this,"set"),(0,h.Re)().prototype.decorate.call(this,"get"),(0,h.Re)().prototype.decorate.call(this,"toView"),(0,h.Re)().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Bn)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([t]))throw new h.Bb("datacontroller-get-non-existent-root",this);const o=this.model.document.getRoot(t);return o.isAttached()||(0,h.KE)("datacontroller-get-detached-root",this),i!=="empty"||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o,e):""}stringify(e,t={}){const i=this.toView(e,t);return this.processor.toData(i)}toView(e,t={}){const i=this.viewDocument,o=this._viewWriter;this.mapper.clearBindings();const a=Dt._createIn(e),C=new Sn(i);this.mapper.bindElements(e,C);const W=e.is("documentFragment")?e.markers:function(de){const ke=[],Se=de.root.document;if(!Se)return new Map;const $e=Dt._createIn(de);for(const ot of Se.model.markers){const Vt=ot.getRange(),qt=Vt.isCollapsed,ci=Vt.start.isEqual($e.start)||Vt.end.isEqual($e.end);if(qt&&ci)ke.push([ot.name,Vt]);else{const vi=$e.getIntersection(Vt);vi&&ke.push([ot.name,vi])}}return ke.sort(([ot,Vt],[qt,ci])=>{if(Vt.end.compareWith(ci.start)!=="after")return 1;if(Vt.start.compareWith(ci.end)!=="before")return-1;switch(Vt.start.compareWith(ci.start)){case"before":return 1;case"after":return-1;default:switch(Vt.end.compareWith(ci.end)){case"before":return 1;case"after":return-1;default:return qt.localeCompare(ot)}}}),new Map(ke)}(e);return this.downcastDispatcher.convert(a,W,o,t),C}init(e){if(this.model.document.version)throw new h.Bb("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new h.Bb("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const o of Object.keys(t)){const a=this.model.document.getRoot(o);i.insert(this.parse(t[o],a),a,0)}}),Promise.resolve()}set(e,t={}){let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new h.Bb("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},o=>{o.setSelection(null),o.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const a of Object.keys(i)){const C=this.model.document.getRoot(a);o.remove(o.createRangeIn(C)),o.insert(this.parse(i[a],C),C,0)}})}parse(e,t="$root"){const i=this.processor.toView(e);return this.toModel(i,t)}toModel(e,t="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class Fe{constructor(e,t){this._helpers=new Map,this._downcast=(0,h.qo)(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=(0,h.qo)(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const i=this._downcast.includes(t);if(!this._upcast.includes(t)&&!i)throw new h.Bb("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:i})}for(e){if(!this._helpers.has(e))throw new h.Bb("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:i}of it(e))this.for("upcast").elementToElement({model:t,view:i,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:i}of it(e))this.for("upcast").elementToAttribute({view:i,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:i}of it(e))this.for("upcast").attributeToAttribute({view:i,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:i}){if(this._helpers.has(e))throw new h.Bb("conversion-group-exists",this);const o=i?new vo(t):new lr(t);this._helpers.set(e,o)}}function*it(n){if(n.model.values)for(const e of n.model.values){const t={key:n.model.key,value:e},i=n.view[e],o=n.upcastAlso?n.upcastAlso[e]:void 0;yield*Rt(t,i,o)}else yield*Rt(n.model,n.view,n.upcastAlso)}function*Rt(n,e,t){if(yield{model:n,view:e},t)for(const i of(0,h.qo)(t))yield{model:n,view:i}}class fi{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function zi(n,e){const t=yr(e),i=t.reduce((C,W)=>C+W.offsetSize,0),o=n.parent;Gr(n);const a=n.index;return o._insertChild(a,t),gn(o,a+t.length),gn(o,a),new Dt(n,n.getShiftedBy(i))}function bn(n){if(!n.isFlat)throw new h.Bb("operation-utils-remove-range-not-flat",this);const e=n.start.parent;Gr(n.start),Gr(n.end);const t=e._removeChildren(n.start.index,n.end.index-n.start.index);return gn(e,n.start.index),t}function Qo(n,e){if(!n.isFlat)throw new h.Bb("operation-utils-move-range-not-flat",this);const t=bn(n);return zi(e=e._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),t)}function yr(n){const e=[];(function t(i){if(typeof i=="string")e.push(new an(i));else if(i instanceof Wn)e.push(new an(i.data,i.getAttributes()));else if(i instanceof wo)e.push(i);else if((0,h.TW)(i))for(const o of i)t(o)})(n);for(let t=1;t<e.length;t++){const i=e[t],o=e[t-1];i instanceof an&&o instanceof an&&Rs(i,o)&&(e.splice(t-1,2,new an(o.data+i.data,o.getAttributes())),t--)}return e}function gn(n,e){const t=n.getChild(e-1),i=n.getChild(e);if(t&&i&&t.is("$text")&&i.is("$text")&&Rs(t,i)){const o=new an(t.data+i.data,t.getAttributes());n._removeChildren(e-1,2),n._insertChild(e-1,o)}}function Gr(n){const e=n.textNode,t=n.parent;if(e){const i=n.offset-e.startOffset,o=e.index;t._removeChildren(o,1);const a=new an(e.data.substr(0,i),e.getAttributes()),C=new an(e.data.substr(i),e.getAttributes());t._insertChild(o,[a,C])}}function Rs(n,e){const t=n.getAttributes(),i=e.getAttributes();for(const o of t){if(o[1]!==e.getAttribute(o[0]))return!1;i.next()}return i.next().done}class dn extends fi{constructor(e,t,i,o){super(o),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Dt._createFromPositionAndShift(this.sourcePosition,this.howMany),Dt._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new dn(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new dn(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,i=this.sourcePosition.offset,o=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new h.Bb("move-operation-nodes-do-not-exist",this);if(e===t&&i<o&&o<i+this.howMany)throw new h.Bb("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&(0,h.Rt)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const a=this.sourcePosition.path.length-1;if(this.targetPosition.path[a]>=i&&this.targetPosition.path[a]<i+this.howMany)throw new h.Bb("move-operation-node-into-itself",this)}}_execute(){Qo(Dt._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const i=Xt.fromJSON(e.sourcePosition,t),o=Xt.fromJSON(e.targetPosition,t);return new this(i,e.howMany,o,e.baseVersion)}}class On extends fi{constructor(e,t,i){super(i),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Ln(yr(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Ln([...this.nodes].map(i=>i._clone(!0))),t=new On(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new Xt(e,[0]);return new dn(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new h.Bb("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Ln([...e].map(t=>t._clone(!0))),zi(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const i=[];for(const a of e.nodes)a.name?i.push(ln.fromJSON(a)):i.push(an.fromJSON(a));const o=new On(Xt.fromJSON(e.position,t),i,e.baseVersion);return o.shouldReceiveAttributes=e.shouldReceiveAttributes,o}}class pn extends fi{constructor(e,t,i,o,a){super(a),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=i,this.graveyardPosition=o?o.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Xt(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Dt(this.splitPosition,e)}get affectedSelectable(){const e=[Dt._createFromPositionAndShift(this.splitPosition,0),Dt._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Dt._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new pn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new Xt(e,[0]);return new En(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new h.Bb("split-operation-position-invalid",this);if(!e.parent)throw new h.Bb("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new h.Bb("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new h.Bb("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Qo(Dt._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();zi(this.insertionPosition,t)}Qo(new Dt(Xt._createAt(e,this.splitPosition.offset),Xt._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new Xt(e.root,t,"toPrevious")}static fromJSON(e,t){const i=Xt.fromJSON(e.splitPosition,t),o=Xt.fromJSON(e.insertionPosition,t),a=e.graveyardPosition?Xt.fromJSON(e.graveyardPosition,t):null;return new this(i,e.howMany,o,a,e.baseVersion)}}class En extends fi{constructor(e,t,i,o,a){super(a),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=o.clone()}get type(){return"merge"}get deletionPosition(){return new Xt(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Dt(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Dt._createOn(e),Dt._createFromPositionAndShift(this.targetPosition,0),Dt._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new En(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),i=new Xt(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new pn(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new h.Bb("merge-operation-source-position-invalid",this);if(!t.parent)throw new h.Bb("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new h.Bb("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Qo(Dt._createIn(e),this.targetPosition),Qo(Dt._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const i=Xt.fromJSON(e.sourcePosition,t),o=Xt.fromJSON(e.targetPosition,t),a=Xt.fromJSON(e.graveyardPosition,t);return new this(i,e.howMany,o,a,e.baseVersion)}}class co extends fi{constructor(e,t,i,o,a,C){super(C),this.name=e,this.oldRange=t?t.clone():null,this.newRange=i?i.clone():null,this.affectsData=a,this._markers=o}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new co(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new co(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new co(e.name,e.oldRange?Dt.fromJSON(e.oldRange,t):null,e.newRange?Dt.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const xs=function(n,e){return tr(n,e)};class jn extends fi{constructor(e,t,i,o,a){super(a),this.range=e.clone(),this.key=t,this.oldValue=i===void 0?null:i,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new jn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new jn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new h.Bb("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!xs(e.getAttribute(this.key),this.oldValue))throw new h.Bb("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new h.Bb("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){xs(this.oldValue,this.newValue)||function(e,t,i){Gr(e.start),Gr(e.end);for(const o of e.getItems({shallow:!0})){const a=o.is("$textProxy")?o.textNode:o;i!==null?a._setAttribute(t,i):a._removeAttribute(t),gn(a.parent,a.index)}gn(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new jn(Dt.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Hn extends fi{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Hn(this.baseVersion)}getReversed(){return new Hn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class po extends fi{constructor(e,t,i,o){super(o),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new po(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new po(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof ln))throw new h.Bb("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new h.Bb("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new po(Xt.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class $o extends fi{constructor(e,t,i,o,a){super(a),this.root=e,this.key=t,this.oldValue=i===void 0?null:i,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new $o(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new $o(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new h.Bb("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new h.Bb("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new h.Bb("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new h.Bb("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new $o(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Do extends fi{constructor(e,t,i,o,a){super(a),this.rootName=e,this.elementName=t,this.isAdd=i,this._document=o,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Do(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Do(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Do(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const jo={};jo[jn.className]=jn,jo[On.className]=On,jo[co.className]=co,jo[dn.className]=dn,jo[Hn.className]=Hn,jo[fi.className]=fi,jo[po.className]=po,jo[$o.className]=$o,jo[Do.className]=Do,jo[pn.className]=pn,jo[En.className]=En;class js{static fromJSON(e,t){return jo[e.__className].fromJSON(e,t)}}const Cs=new Map;function un(n,e,t){let i=Cs.get(n);i||(i=new Map,Cs.set(n,i)),i.set(e,t)}function Vs(n){return[n]}function Ns(n,e,t={}){const i=function(o,a){const C=Cs.get(o);return C&&C.has(a)?C.get(a):Vs}(n.constructor,e.constructor);try{return i(n=n.clone(),e,t)}catch(o){throw o}}function Gs(n,e,t){n=n.slice(),e=e.slice();const i=new Ts(t.document,t.useRelations,t.forceWeakRemove);i.setOriginalOperations(n),i.setOriginalOperations(e);const o=i.originalOperations;if(n.length==0||e.length==0)return{operationsA:n,operationsB:e,originalOperations:o};const a=new WeakMap;for(const de of n)a.set(de,0);const C={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:e.length};let W=0;for(;W<n.length;){const de=n[W],ke=a.get(de);if(ke==e.length){W++;continue}const Se=e[ke],$e=Ns(de,Se,i.getContext(de,Se,!0)),ot=Ns(Se,de,i.getContext(Se,de,!1));i.updateRelation(de,Se),i.setOriginalOperations($e,de),i.setOriginalOperations(ot,Se);for(const Vt of $e)a.set(Vt,ke+ot.length);n.splice(W,1,...$e),e.splice(ke,1,...ot)}if(t.padWithNoOps){const de=n.length-C.originalOperationsACount,ke=e.length-C.originalOperationsBCount;ss(n,ke-de),ss(e,de-ke)}return rs(n,C.nextBaseVersionB),rs(e,C.nextBaseVersionA),{operationsA:n,operationsB:e,originalOperations:o}}class Ts{constructor(e,t,i=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(e,t=null){const i=t?this.originalOperations.get(t):null;for(const o of e)this.originalOperations.set(o,i||o)}updateRelation(e,t){if(e instanceof dn)t instanceof En?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof dn&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof pn){if(t instanceof En)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof dn)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const i=Dt._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const o=i.end.offset-e.splitPosition.offset,a=e.splitPosition.offset-i.start.offset;this._setRelation(e,t,{howMany:o,offset:a})}}}else if(e instanceof En)t instanceof En?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof pn&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof co){const i=e.newRange;if(!i)return;if(t instanceof dn){const o=Dt._createFromPositionAndShift(t.sourcePosition,t.howMany),a=o.containsPosition(i.start)||o.start.isEqual(i.start),C=o.containsPosition(i.end)||o.end.isEqual(i.end);!a&&!C||o.containsRange(i)||this._setRelation(e,t,{side:a?"left":"right",path:a?i.start.path.slice():i.end.path.slice()})}else if(t instanceof En){const o=i.start.isEqual(t.targetPosition),a=i.start.isEqual(t.deletionPosition),C=i.end.isEqual(t.deletionPosition),W=i.end.isEqual(t.sourcePosition);(o||a||C||W)&&this._setRelation(e,t,{wasInLeftElement:o,wasStartBeforeMergedElement:a,wasEndBeforeMergedElement:C,wasInRightElement:W})}}}getContext(e,t,i){return{aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const i=this.originalOperations.get(t),o=this._history.getUndoneOperation(i);if(!o)return null;const a=this.originalOperations.get(e),C=this._relations.get(a);return C&&C.get(o)||null}_setRelation(e,t,i){const o=this.originalOperations.get(e),a=this.originalOperations.get(t);let C=this._relations.get(o);C||(C=new Map,this._relations.set(o,C)),C.set(a,i)}}function rs(n,e){for(const t of n)t.baseVersion=e++}function ss(n,e){for(let t=0;t<e;t++)n.push(new Hn(0))}function as(n,e,t){const i=n.nodes.getNode(0).getAttribute(e);if(i==t)return null;const o=new Dt(n.position,n.position.getShiftedBy(n.howMany));return new jn(o,e,i,t,0)}function As(n,e){return n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function xr(n,e){const t=[];for(let i=0;i<n.length;i++){const o=n[i],a=new dn(o.start,o.end.offset-o.start.offset,e,0);t.push(a);for(let C=i+1;C<n.length;C++)n[C]=n[C]._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)[0];e=e._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)}return t}un(jn,jn,(n,e,t)=>{if(n.key===e.key&&n.range.start.hasSameParentAs(e.range.start)){const i=n.range.getDifference(e.range).map(a=>new jn(a,n.key,n.oldValue,n.newValue,0)),o=n.range.getIntersection(e.range);return o&&t.aIsStrong&&i.push(new jn(o,e.key,e.newValue,n.newValue,0)),i.length==0?[new Hn(0)]:i}return[n]}),un(jn,On,(n,e)=>{if(n.range.start.hasSameParentAs(e.position)&&n.range.containsPosition(e.position)){const t=n.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(i=>new jn(i,n.key,n.oldValue,n.newValue,n.baseVersion));if(e.shouldReceiveAttributes){const i=as(e,n.key,n.oldValue);i&&t.unshift(i)}return t}return n.range=n.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[n]}),un(jn,En,(n,e)=>{const t=[];n.range.start.hasSameParentAs(e.deletionPosition)&&(n.range.containsPosition(e.deletionPosition)||n.range.start.isEqual(e.deletionPosition))&&t.push(Dt._createFromPositionAndShift(e.graveyardPosition,1));const i=n.range._getTransformedByMergeOperation(e);return i.isCollapsed||t.push(i),t.map(o=>new jn(o,n.key,n.oldValue,n.newValue,n.baseVersion))}),un(jn,dn,(n,e)=>function(t,i){const o=Dt._createFromPositionAndShift(i.sourcePosition,i.howMany);let a=null,C=[];o.containsRange(t,!0)?a=t:t.start.hasSameParentAs(o.start)?(C=t.getDifference(o),a=t.getIntersection(o)):C=[t];const W=[];for(let de of C){de=de._getTransformedByDeletion(i.sourcePosition,i.howMany);const ke=i.getMovedRangeStart(),Se=de.start.hasSameParentAs(ke),$e=de._getTransformedByInsertion(ke,i.howMany,Se);W.push(...$e)}return a&&W.push(a._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany,!1)[0]),W}(n.range,e).map(t=>new jn(t,n.key,n.oldValue,n.newValue,n.baseVersion))),un(jn,pn,(n,e)=>{if(n.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(e.splitPosition)&&n.range.containsPosition(e.splitPosition)){const t=n.clone();return t.range=new Dt(e.moveTargetPosition.clone(),n.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),n.range.end=e.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,t]}return n.range=n.range._getTransformedBySplitOperation(e),[n]}),un(On,jn,(n,e)=>{const t=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(n.position)){const i=as(n,e.key,e.newValue);i&&t.push(i)}return t}),un(On,On,(n,e,t)=>(n.position.isEqual(e.position)&&t.aIsStrong||(n.position=n.position._getTransformedByInsertOperation(e)),[n])),un(On,dn,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n])),un(On,pn,(n,e)=>(n.position=n.position._getTransformedBySplitOperation(e),[n])),un(On,En,(n,e)=>(n.position=n.position._getTransformedByMergeOperation(e),[n])),un(co,On,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(e)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(e)[0]),[n])),un(co,co,(n,e,t)=>{if(n.name==e.name){if(!t.aIsStrong)return[new Hn(0)];n.oldRange=e.newRange?e.newRange.clone():null}return[n]}),un(co,En,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(e)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(e)),[n])),un(co,dn,(n,e,t)=>{if(n.oldRange&&(n.oldRange=Dt._createFromRanges(n.oldRange._getTransformedByMoveOperation(e))),n.newRange){if(t.abRelation){const i=Dt._createFromRanges(n.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(n.newRange.start))return n.newRange.end=i.end,n.newRange.start.path=t.abRelation.path,[n];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(n.newRange.end))return n.newRange.start=i.start,n.newRange.end.path=t.abRelation.path,[n]}n.newRange=Dt._createFromRanges(n.newRange._getTransformedByMoveOperation(e))}return[n]}),un(co,pn,(n,e,t)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(e)),n.newRange){if(t.abRelation){const i=n.newRange._getTransformedBySplitOperation(e);return n.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?n.newRange.start=Xt._createAt(e.insertionPosition):n.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(n.newRange.start=Xt._createAt(e.moveTargetPosition)),n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?n.newRange.end=Xt._createAt(e.moveTargetPosition):n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?n.newRange.end=Xt._createAt(e.insertionPosition):n.newRange.end=i.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(e)}return[n]}),un(En,On,(n,e)=>(n.sourcePosition.hasSameParentAs(e.position)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(e),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e),[n])),un(En,En,(n,e,t)=>{if(n.sourcePosition.isEqual(e.sourcePosition)&&n.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const i=e.graveyardPosition.path.slice();return i.push(0),n.sourcePosition=new Xt(e.graveyardPosition.root,i),n.howMany=0,[n]}return[new Hn(0)]}if(n.sourcePosition.isEqual(e.sourcePosition)&&!n.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const i=n.targetPosition.root.rootName=="$graveyard",o=e.targetPosition.root.rootName=="$graveyard";if(o&&!i||!(i&&!o)&&t.aIsStrong){const a=e.targetPosition._getTransformedByMergeOperation(e),C=n.targetPosition._getTransformedByMergeOperation(e);return[new dn(a,n.howMany,C,0)]}return[new Hn(0)]}return n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(e),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),n.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]}),un(En,dn,(n,e,t)=>{const i=Dt._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&n.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.sourcePosition)?[new Hn(0)]:(n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition.hasSameParentAs(e.sourcePosition)&&(n.howMany-=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(e),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(e),n.graveyardPosition.isEqual(e.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)),[n])}),un(En,pn,(n,e,t)=>{if(e.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),n.deletionPosition.isEqual(e.graveyardPosition)&&(n.howMany=e.howMany)),n.targetPosition.isEqual(e.splitPosition)){const i=e.howMany!=0,o=e.graveyardPosition&&n.deletionPosition.isEqual(e.graveyardPosition);if(i||o||t.abRelation=="mergeTargetNotMoved")return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),[n]}if(n.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n];if(t.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=e.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}return n.sourcePosition.hasSameParentAs(e.splitPosition)&&(n.howMany=e.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}),un(dn,On,(n,e)=>{const t=Dt._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(e,!1)[0];return n.sourcePosition=t.start,n.howMany=t.end.offset-t.start.offset,n.targetPosition.isEqual(e.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e)),[n]}),un(dn,dn,(n,e,t)=>{const i=Dt._createFromPositionAndShift(n.sourcePosition,n.howMany),o=Dt._createFromPositionAndShift(e.sourcePosition,e.howMany);let a,C=t.aIsStrong,W=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?W=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(W=!1),a=n.targetPosition.isEqual(e.targetPosition)&&W?n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):n.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),As(n,e)&&As(e,n))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(o,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),xr([i],a);if(o.containsPosition(n.targetPosition)&&o.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),xr([i],a);const de=(0,h.Rt)(n.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(de=="prefix"||de=="extension")return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),xr([i],a);n.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?n.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(C=!1):C=!0;const ke=[],Se=i.getDifference(o);for(const ot of Se){ot.start=ot.start._getTransformedByDeletion(e.sourcePosition,e.howMany),ot.end=ot.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const Vt=(0,h.Rt)(ot.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",qt=ot._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,Vt);ke.push(...qt)}const $e=i.getIntersection(o);return $e!==null&&C&&($e.start=$e.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),$e.end=$e.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),ke.length===0?ke.push($e):ke.length==1?o.start.isBefore(i.start)||o.start.isEqual(i.start)?ke.unshift($e):ke.push($e):ke.splice(1,0,$e)),ke.length===0?[new Hn(n.baseVersion)]:xr(ke,a)}),un(dn,pn,(n,e,t)=>{let i=n.targetPosition.clone();n.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(i=n.targetPosition._getTransformedBySplitOperation(e));const o=Dt._createFromPositionAndShift(n.sourcePosition,n.howMany);if(o.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.howMany++,n.targetPosition=i,[n];if(o.start.hasSameParentAs(e.splitPosition)&&o.containsPosition(e.splitPosition)){let C=new Dt(e.splitPosition,o.end);return C=C._getTransformedBySplitOperation(e),xr([new Dt(o.start,e.splitPosition),C],i)}n.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(i=e.moveTargetPosition),n.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(i=n.targetPosition);const a=[o._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const C=o.start.isEqual(e.graveyardPosition)||o.containsPosition(e.graveyardPosition);n.howMany>1&&C&&!t.aWasUndone&&a.push(Dt._createFromPositionAndShift(e.insertionPosition,1))}return xr(a,i)}),un(dn,En,(n,e,t)=>{const i=Dt._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(e.sourcePosition)){if(n.type!="remove"||t.forceWeakRemove){if(n.howMany==1)return t.bWasUndone?(n.sourcePosition=e.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]):[new Hn(0)]}else if(!t.aWasUndone){const a=[];let C=e.graveyardPosition.clone(),W=e.targetPosition._getTransformedByMergeOperation(e);n.howMany>1&&(a.push(new dn(n.sourcePosition,n.howMany-1,n.targetPosition,0)),C=C._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1),W=W._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1));const de=e.deletionPosition._getCombined(n.sourcePosition,n.targetPosition),ke=new dn(C,1,de,0),Se=ke.getMovedRangeStart().path.slice();Se.push(0);const $e=new Xt(ke.targetPosition.root,Se);W=W._getTransformedByMove(C,de,1);const ot=new dn(W,e.howMany,$e,0);return a.push(ke),a.push(ot),a}}const o=Dt._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(e);return n.sourcePosition=o.start,n.howMany=o.end.offset-o.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]}),un(po,On,(n,e)=>(n.position=n.position._getTransformedByInsertOperation(e),[n])),un(po,En,(n,e)=>n.position.isEqual(e.deletionPosition)?(n.position=e.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(e),[n])),un(po,dn,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n])),un(po,po,(n,e,t)=>{if(n.position.isEqual(e.position)){if(!t.aIsStrong)return[new Hn(0)];n.oldName=e.newName}return[n]}),un(po,pn,(n,e)=>{const t=n.position.path,i=e.splitPosition.getParentPath();if((0,h.Rt)(t,i)=="same"&&!e.graveyardPosition){const o=new po(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,o]}return n.position=n.position._getTransformedBySplitOperation(e),[n]}),un($o,$o,(n,e,t)=>{if(n.root===e.root&&n.key===e.key){if(!t.aIsStrong||n.newValue===e.newValue)return[new Hn(0)];n.oldValue=e.newValue}return[n]}),un(Do,Do,(n,e)=>n.rootName===e.rootName&&n.isAdd===e.isAdd?[new Hn(0)]:[n]),un(pn,On,(n,e)=>(n.splitPosition.hasSameParentAs(e.position)&&n.splitPosition.offset<e.position.offset&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(e),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(e),[n])),un(pn,En,(n,e,t)=>{if(!n.graveyardPosition&&!t.bWasUndone&&n.splitPosition.hasSameParentAs(e.sourcePosition)){const i=e.graveyardPosition.path.slice();i.push(0);const o=new Xt(e.graveyardPosition.root,i),a=pn.getInsertionPosition(new Xt(e.graveyardPosition.root,i)),C=new pn(o,0,a,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),n.graveyardPosition=C.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[C,n]}return n.splitPosition.hasSameParentAs(e.deletionPosition)&&!n.splitPosition.isAfter(e.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]}),un(pn,dn,(n,e,t)=>{const i=Dt._createFromPositionAndShift(e.sourcePosition,e.howMany);if(n.graveyardPosition){const a=i.start.isEqual(n.graveyardPosition)||i.containsPosition(n.graveyardPosition);if(!t.bWasUndone&&a){const C=n.splitPosition._getTransformedByMoveOperation(e),W=n.graveyardPosition._getTransformedByMoveOperation(e),de=W.path.slice();de.push(0);const ke=new Xt(W.root,de);return[new dn(C,n.howMany,ke,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)}const o=n.splitPosition.isEqual(e.targetPosition);if(o&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return n.howMany+=e.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n];if(o&&t.abRelation&&t.abRelation.howMany){const{howMany:a,offset:C}=t.abRelation;return n.howMany+=a,n.splitPosition=n.splitPosition.getShiftedBy(C),[n]}if(n.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.splitPosition)){const a=e.howMany-(n.splitPosition.offset-e.sourcePosition.offset);return n.howMany-=a,n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany),n.splitPosition=e.sourcePosition.clone(),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n]}return e.sourcePosition.isEqual(e.targetPosition)||(n.splitPosition.hasSameParentAs(e.sourcePosition)&&n.splitPosition.offset<=e.sourcePosition.offset&&(n.howMany-=e.howMany),n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(e),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(e):n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n]}),un(pn,pn,(n,e,t)=>{if(n.splitPosition.isEqual(e.splitPosition)){if(!n.graveyardPosition&&!e.graveyardPosition)return[new Hn(0)];if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition))return[new Hn(0)];if(t.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e),[n]}if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition)){const i=n.splitPosition.root.rootName=="$graveyard",o=e.splitPosition.root.rootName=="$graveyard";if(o&&!i||!(i&&!o)&&t.aIsStrong){const a=[];return e.howMany&&a.push(new dn(e.moveTargetPosition,e.howMany,e.splitPosition,0)),n.howMany&&a.push(new dn(n.splitPosition,n.howMany,n.moveTargetPosition,0)),a}return[new Hn(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e)),n.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return n.howMany++,[n];if(e.splitPosition.isEqual(n.insertionPosition)&&t.baRelation=="splitBefore"){const i=e.insertionPosition.path.slice();i.push(0);const o=new Xt(e.insertionPosition.root,i);return[n,new dn(n.insertionPosition,1,o,0)]}return n.splitPosition.hasSameParentAs(e.splitPosition)&&n.splitPosition.offset<e.splitPosition.offset&&(n.howMany-=e.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(e),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n]});class uo extends(0,h.ln)(Xt){constructor(e,t,i="toNone"){if(super(e,t,i),!this.root.is("rootElement"))throw new h.Bb("model-liveposition-root-not-rootelement",e);Bs.call(this)}detach(){this.stopListening()}toPosition(){return new Xt(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function Bs(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&Ds.call(this,t)},{priority:"low"})}function Ds(n){const e=this.getTransformedByOperation(n);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}uo.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};class Vr{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},(0,h.KE)("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:i=!0,isUndo:o=!1,isTyping:a=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=i,this.isUndo=o,this.isTyping=a}get type(){return(0,h.KE)("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var Ys=Object.defineProperty,Qs=Object.defineProperties,Js=Object.getOwnPropertyDescriptors,zs=Object.getOwnPropertySymbols,Cr=Object.prototype.hasOwnProperty,Fs=Object.prototype.propertyIsEnumerable,Ss=(n,e,t)=>e in n?Ys(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Es=(n,e)=>{for(var t in e||(e={}))Cr.call(e,t)&&Ss(n,t,e[t]);if(zs)for(var t of zs(e))Fs.call(e,t)&&Ss(n,t,e[t]);return n};class ls{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const i of t.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const i=this._isInInsertedElement(t.sourcePosition.parent),o=this._isInInsertedElement(t.targetPosition.parent);i||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),o||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const i=Dt._createFromPositionAndShift(t.position,1);for(const o of this._markerCollection.getMarkersIntersectingRange(i)){const a=o.getData();this.bufferMarkerChange(o.name,a,a)}break}case"split":{const i=t.splitPosition.parent;this._isInInsertedElement(i)||this._markRemove(i,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const i=t.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const o=t.graveyardPosition.parent;this._markInsert(o,t.graveyardPosition.offset,1);const a=t.targetPosition.parent;this._isInInsertedElement(a)||this._markInsert(a,t.targetPosition.offset,i.maxOffset);break}case"detachRoot":case"addRoot":{const i=t.affectedSelectable;if(!i._isLoaded||i.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const i=t.root.rootName;this._bufferRootAttributeChange(i,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,i){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let o=this._changedMarkers.get(e);o?o.newMarkerData=i:(o={newMarkerData:i,oldMarkerData:t},this._changedMarkers.set(e,o)),o.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,i]of this._changedMarkers)i.oldMarkerData.range!=null&&e.push({name:t,range:i.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,i]of this._changedMarkers)i.newMarkerData.range!=null&&e.push({name:t,range:i.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const i=e.range&&!t.range,o=!e.range&&t.range,a=e.range&&t.range&&!e.range.isEqual(t.range);if(i||o||a)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const i of this._changesInElement.keys()){const o=this._changesInElement.get(i).sort((Se,$e)=>Se.offset===$e.offset?Se.type!=$e.type?Se.type=="remove"?-1:1:0:Se.offset<$e.offset?-1:1),a=this._elementSnapshots.get(i),C=Is(i.getChildren()),W=Xs(a.length,o);let de=0,ke=0;for(const Se of W)if(Se==="i")t.push(this._getInsertDiff(i,de,C[de])),de++;else if(Se==="r")t.push(this._getRemoveDiff(i,de,a[ke])),ke++;else if(Se==="a"){const $e=C[de].attributes,ot=a[ke].attributes;let Vt;if(C[de].name=="$text")Vt=new Dt(Xt._createAt(i,de),Xt._createAt(i,de+1));else{const qt=i.offsetToIndex(de);Vt=new Dt(Xt._createAt(i,de),Xt._createAt(i.getChild(qt),0))}t.push(...this._getAttributesDiff(Vt,ot,$e)),de++,ke++}else de++,ke++}t.sort((i,o)=>i.position.root!=o.position.root?i.position.root.rootName<o.position.root.rootName?-1:1:i.position.isEqual(o.position)?i.changeCount-o.changeCount:i.position.isBefore(o.position)?-1:1);for(let i=1,o=0;i<t.length;i++){const a=t[o],C=t[i],W=a.type=="remove"&&C.type=="remove"&&a.name=="$text"&&C.name=="$text"&&a.position.isEqual(C.position),de=a.type=="insert"&&C.type=="insert"&&a.name=="$text"&&C.name=="$text"&&a.position.parent==C.position.parent&&a.position.offset+a.length==C.position.offset,ke=a.type=="attribute"&&C.type=="attribute"&&a.position.parent==C.position.parent&&a.range.isFlat&&C.range.isFlat&&a.position.offset+a.length==C.position.offset&&a.attributeKey==C.attributeKey&&a.attributeOldValue==C.attributeOldValue&&a.attributeNewValue==C.attributeNewValue;W||de||ke?(a.length++,ke&&(a.range.end=a.range.end.getShiftedBy(1)),t[i]=null):o=i}t=t.filter(i=>i);for(const i of t)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(ea),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t=Es({},e);return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const i=this._changedRoots.get(e);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(e)):i.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,i,o){const a=this._changedRoots.get(e)||{name:e},C=a.attributes||{};if(C[t]){const W=C[t];o===W.oldValue?delete C[t]:W.newValue=o}else C[t]={oldValue:i,newValue:o};Object.entries(C).length===0?(delete a.attributes,a.state===void 0&&this._changedRoots.delete(e)):(a.attributes=C,this._changedRoots.set(e,a))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=Dt._createOn(e);for(const i of this._markerCollection.getMarkersIntersectingRange(t)){const o=i.getData();this.bufferMarkerChange(i.name,o,o)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const i of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,i,null,e.getAttribute(i));for(const i of this._markerCollection)if(i.getRange().root==e){const o=i.getData();this.bufferMarkerChange(i.name,(t=Es({},o),Qs(t,Js({range:null}))),o)}var t}}_markInsert(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const o={type:"insert",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,o)}_markRemove(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const o={type:"remove",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,o),this._removeAllNestedChanges(e,t,i)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const i=this._getChangesForElement(e);this._handleChange(t,i),i.push(t);for(let o=0;o<i.length;o++)i[o].howMany<1&&(i.splice(o,1),o--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Is(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const i of t){const o=e.offset+e.howMany,a=i.offset+i.howMany;if(e.type=="insert"&&(i.type=="insert"&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<a&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),i.type=="remove"&&e.offset<i.offset&&(i.offset+=e.howMany),i.type=="attribute")){if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<a){const C=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:o,howMany:C-i.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(i.type=="insert"){if(o<=i.offset)i.offset-=e.howMany;else if(o<=a)if(e.offset<i.offset){const C=o-i.offset;i.offset=e.offset,i.howMany-=C,e.nodesToHandle-=C}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<a){const C=a-e.offset;i.howMany-=C,e.nodesToHandle-=C}}if(i.type=="remove"&&(o<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(o<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){const C=o-i.offset;i.offset=e.offset,i.howMany-=C}else if(e.offset<a)if(o<=a){const C=i.howMany;i.howMany=e.offset-i.offset;const W=C-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:W,count:this._changeCount++})}else i.howMany-=a-e.offset}}if(e.type=="attribute"){if(i.type=="insert")if(e.offset<i.offset&&o>i.offset){if(o>a){const C={type:"attribute",offset:a,howMany:o-a,count:this._changeCount++};this._handleChange(C,t),t.push(C)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<a&&(o>a?(e.nodesToHandle=o-a,e.offset=a):e.nodesToHandle=0);if(i.type=="remove"&&e.offset<i.offset&&o>i.offset){const C={type:"attribute",offset:i.offset,howMany:o-i.offset,count:this._changeCount++};this._handleChange(C,t),t.push(C),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}i.type=="attribute"&&(e.offset>=i.offset&&o<=a?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&o>=a&&(i.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,i){return{type:"insert",position:Xt._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,i){return{type:"remove",position:Xt._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,i){const o=[];i=new Map(i);for(const[a,C]of t){const W=i.has(a)?i.get(a):null;W!==C&&o.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:a,attributeOldValue:C,attributeNewValue:W,changeCount:this._changeCount++}),i.delete(a)}for(const[a,C]of i)o.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:a,attributeOldValue:null,attributeNewValue:C,changeCount:this._changeCount++});return o}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const i=this._changesInElement.get(t),o=e.startOffset;if(i){for(const a of i)if(a.type=="insert"&&o>=a.offset&&o<a.offset+a.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,i){const o=new Dt(Xt._createAt(e,t),Xt._createAt(e,t+i));for(const a of o.getItems({shallow:!0}))a.is("element")&&(this._elementSnapshots.delete(a),this._changesInElement.delete(a),this._removeAllNestedChanges(a,0,a.maxOffset))}}function Is(n){const e=[];for(const t of n)if(t.is("$text"))for(let i=0;i<t.data.length;i++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function Xs(n,e){const t=[];let i=0,o=0;for(const a of e){if(a.offset>i){for(let C=0;C<a.offset-i;C++)t.push("e");o+=a.offset-i}if(a.type=="insert"){for(let C=0;C<a.howMany;C++)t.push("i");i=a.offset+a.howMany}else if(a.type=="remove"){for(let C=0;C<a.howMany;C++)t.push("r");i=a.offset,o+=a.howMany}else t.push(..."a".repeat(a.howMany).split("")),i=a.offset+a.howMany,o+=a.howMany}if(o<n)for(let a=0;a<n-o-i;a++)t.push("e");return t}function ea(n){const e="position"in n&&n.position.root.rootName=="$graveyard",t="range"in n&&n.range.root.rootName=="$graveyard";return!e&&!t}class Ps{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new h.Bb("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const i=this._operations[0];e===void 0&&(e=i.baseVersion);let o=t-1;for(const[W,de]of this._gaps)e>W&&e<de&&(e=de),o>W&&o<de&&(o=W-1);if(o<i.baseVersion||e>this.lastOperation.baseVersion)return[];let a=this._baseVersionToOperationIndex.get(e);a===void 0&&(a=0);let C=this._baseVersionToOperationIndex.get(o);return C===void 0&&(C=this._operations.length-1),this._operations.slice(a,C+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class cs extends ln{constructor(e,t,i="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}cs.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};var ta=Object.defineProperty,ia=Object.defineProperties,Hs=Object.getOwnPropertyDescriptors,Ls=Object.getOwnPropertySymbols,na=Object.prototype.hasOwnProperty,oa=Object.prototype.propertyIsEnumerable,O=(n,e,t)=>e in n?ta(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,s=(n,e)=>{for(var t in e||(e={}))na.call(e,t)&&O(n,t,e[t]);if(Ls)for(var t of Ls(e))oa.call(e,t)&&O(n,t,e[t]);return n},g=(n,e)=>ia(n,Hs(e));const L="$graveyard";class R extends(0,h.ln)(){constructor(e){super(),this.model=e,this.history=new Ps,this.selection=new vn(this),this.roots=new h.FE({idProperty:"rootName"}),this.differ=new ls(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",L),this.listenTo(e,"applyOperation",(t,i)=>{const o=i[0];o.isDocumentOperation&&this.differ.bufferOperation(o)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,i)=>{const o=i[0];o.isDocumentOperation&&this.history.addOperation(o)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,i,o,a,C)=>{const W=g(s({},i.getData()),{range:a});this.differ.bufferMarkerChange(i.name,C,W),o===null&&i.on("change",(de,ke)=>{const Se=i.getData();this.differ.bufferMarkerChange(i.name,g(s({},Se),{range:ke}),Se)})}),this.registerPostFixer(t=>{let i=!1;for(const o of this.roots)o.isAttached()||o.isEmpty||(t.remove(t.createRangeIn(o)),i=!0);for(const o of this.model.markers)o.getRange().root.isAttached()||(t.removeMarker(o),i=!0);return i})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(L)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new h.Bb("model-document-createroot-name-exists",this,{name:t});const i=new cs(this,e,t);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=E(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,i=t.schema,o=t.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(o)||t.createRange(o)}_validateSelectionRange(e){return G(e.start)&&G(e.end)}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(this.selection.refresh(),t=i(e),t)break;while(t)}}function G(n){const e=n.textNode;if(e){const t=e.data,i=n.offset-e.startOffset;return!(0,h.to)(t,i)&&!(0,h.pp)(t,i)}return!0}var ne=Object.defineProperty,we=Object.defineProperties,fe=Object.getOwnPropertyDescriptors,Pe=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable,kt=(n,e,t)=>e in n?ne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;class Bt extends(0,h.ln)(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Kt?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,i=!1,o=!1){const a=e instanceof Kt?e.name:e;if(a.includes(","))throw new h.Bb("markercollection-incorrect-marker-name",this);const C=this._markers.get(a);if(C){const Se=C.getData(),$e=C.getRange();let ot=!1;return $e.isEqual(t)||(C._attachLiveRange(cn.fromRange(t)),ot=!0),i!=C.managedUsingOperations&&(C._managedUsingOperations=i,ot=!0),typeof o=="boolean"&&o!=C.affectsData&&(C._affectsData=o,ot=!0),ot&&this.fire(`update:${a}`,C,$e,t,Se),C}const W=cn.fromRange(t),de=new Kt(a,W,i,o);var ke;return this._markers.set(a,de),this.fire(`update:${a}`,de,null,t,(ke=((Se,$e)=>{for(var ot in $e||($e={}))He.call($e,ot)&&kt(Se,ot,$e[ot]);if(Pe)for(var ot of Pe($e))ct.call($e,ot)&&kt(Se,ot,$e[ot]);return Se})({},de.getData()),we(ke,fe({range:null})))),de}_remove(e){const t=e instanceof Kt?e.name:e,i=this._markers.get(t);return!!i&&(this._markers.delete(t),this.fire(`update:${t}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0)}_refresh(e){const t=e instanceof Kt?e.name:e,i=this._markers.get(t);if(!i)throw new h.Bb("markercollection-refresh-marker-not-exists",this);const o=i.getRange();this.fire(`update:${t}`,i,o,o,i.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Kt extends(0,h.ln)(Lo){constructor(e,t,i,o){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=i,this._affectsData=o}get managedUsingOperations(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Kt.prototype.is=function(n){return n==="marker"||n==="model:marker"};class Zt extends fi{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new h.Bb("detach-operation-on-document-node",this)}_execute(){bn(Dt._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ei extends Lo{constructor(e){super(),this.markers=new Map,this._children=new Ln,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const i of e)i.name?t.push(ln.fromJSON(i)):t.push(an.fromJSON(i));return new ei(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=function(o){return typeof o=="string"?[new an(o)]:((0,h.TW)(o)||(o=[o]),Array.from(o).map(a=>typeof a=="string"?new an(a):a instanceof Wn?new an(a.data,a.getAttributes()):a))}(t);for(const o of i)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const o of i)o.parent=null;return i}}ei.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};class pi{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new an(e,t)}createElement(e,t){return new ln(e,t)}createDocumentFragment(){return new ei}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,i=0){if(this._assertWriterUsedCorrectly(),e instanceof an&&e.data=="")return;const o=Xt._createAt(t,i);if(e.parent){if(Un(e.root,o.root))return void this.move(Dt._createOn(e),o);if(e.root.document)throw new h.Bb("model-writer-insert-forbidden-move",this);this.remove(e)}const a=o.root.document?o.root.document.version:null,C=new On(o,e,a);if(e instanceof an&&(C.shouldReceiveAttributes=!0),this.batch.addOperation(C),this.model.applyOperation(C),e instanceof ei)for(const[W,de]of e.markers){const ke=Xt._createAt(de.root,0),Se={range:new Dt(de.start._getCombined(ke,o),de.end._getCombined(ke,o)),usingOperation:!0,affectsData:!0};this.model.markers.has(W)?this.updateMarker(W,Se):this.addMarker(W,Se)}}insertText(e,t,i,o){t instanceof ei||t instanceof ln||t instanceof Xt?this.insert(this.createText(e),t,i):this.insert(this.createText(e,t),i,o)}insertElement(e,t,i,o){t instanceof ei||t instanceof ln||t instanceof Xt?this.insert(this.createElement(e),t,i):this.insert(this.createElement(e,t),i,o)}append(e,t){this.insert(e,t,"end")}appendText(e,t,i){t instanceof ei||t instanceof ln?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),i,"end")}appendElement(e,t,i){t instanceof ei||t instanceof ln?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),i,"end")}setAttribute(e,t,i){if(this._assertWriterUsedCorrectly(),i instanceof Dt){const o=i.getMinimalFlatRanges();for(const a of o)xi(this,e,t,a)}else Bi(this,e,t,i)}setAttributes(e,t){for(const[i,o]of(0,h.qL)(e))this.setAttribute(i,o,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Dt){const i=t.getMinimalFlatRanges();for(const o of i)xi(this,e,null,o)}else Bi(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=i=>{for(const o of i.getAttributeKeys())this.removeAttribute(o,i)};if(e instanceof Dt)for(const i of e.getItems())t(i);else t(e)}move(e,t,i){if(this._assertWriterUsedCorrectly(),!(e instanceof Dt))throw new h.Bb("writer-move-invalid-range",this);if(!e.isFlat)throw new h.Bb("writer-move-range-not-flat",this);const o=Xt._createAt(t,i);if(o.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!Un(e.root,o.root))throw new h.Bb("writer-move-different-document",this);const a=e.root.document?e.root.document.version:null,C=new dn(e.start,e.end.offset-e.start.offset,o,a);this.batch.addOperation(C),this.model.applyOperation(C)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof Dt?e:Dt._createOn(e)).getMinimalFlatRanges().reverse();for(const i of t)this._addOperationForAffectedMarkers("move",i),Vn(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,i=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof ln))throw new h.Bb("writer-merge-no-element-before",this);if(!(i instanceof ln))throw new h.Bb("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,i){return this.model.createPositionFromPath(e,t,i)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,i=e.nodeAfter;this.move(Dt._createIn(i),Xt._createAt(t,"end")),this.remove(i)}_merge(e){const t=Xt._createAt(e.nodeBefore,"end"),i=Xt._createAt(e.nodeAfter,0),o=e.root.document.graveyard,a=new Xt(o,[0]),C=e.root.document.version,W=new En(i,e.nodeAfter.maxOffset,t,a,C);this.batch.addOperation(W),this.model.applyOperation(W)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof ln))throw new h.Bb("writer-rename-not-element-instance",this);const i=e.root.document?e.root.document.version:null,o=new po(Xt._createBefore(e),e.name,t,i);this.batch.addOperation(o),this.model.applyOperation(o)}split(e,t){this._assertWriterUsedCorrectly();let i,o,a=e.parent;if(!a.parent)throw new h.Bb("writer-split-element-no-parent",this);if(t||(t=a.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new h.Bb("writer-split-invalid-limit-element",this);do{const C=a.root.document?a.root.document.version:null,W=a.maxOffset-e.offset,de=pn.getInsertionPosition(e),ke=new pn(e,W,de,null,C);this.batch.addOperation(ke),this.model.applyOperation(ke),i||o||(i=a,o=e.parent.nextSibling),a=(e=this.createPositionAfter(e.parent)).parent}while(a!==t);return{position:e,range:new Dt(Xt._createAt(i,"end"),Xt._createAt(o,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new h.Bb("writer-wrap-range-not-flat",this);const i=t instanceof ln?t:new ln(t);if(i.childCount>0)throw new h.Bb("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new h.Bb("writer-wrap-element-attached",this);this.insert(i,e.start);const o=new Dt(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(o,Xt._createAt(i,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new h.Bb("writer-unwrap-element-no-parent",this);this.move(Dt._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new h.Bb("writer-addmarker-no-usingoperation",this);const i=t.usingOperation,o=t.range,a=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new h.Bb("writer-addmarker-marker-exists",this);if(!o)throw new h.Bb("writer-addmarker-no-range",this);return i?(en(this,e,null,o,a),this.model.markers.get(e)):this.model.markers._set(e,o,i,a)}updateMarker(e,t){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name,o=this.model.markers.get(i);if(!o)throw new h.Bb("writer-updatemarker-marker-not-exists",this);if(!t)return(0,h.KE)("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),void this.model.markers._refresh(o);const a=typeof t.usingOperation=="boolean",C=typeof t.affectsData=="boolean",W=C?t.affectsData:o.affectsData;if(!a&&!t.range&&!C)throw new h.Bb("writer-updatemarker-wrong-options",this);const de=o.getRange(),ke=t.range?t.range:de;a&&t.usingOperation!==o.managedUsingOperations?t.usingOperation?en(this,i,null,ke,W):(en(this,i,de,null,W),this.model.markers._set(i,ke,void 0,W)):o.managedUsingOperations?en(this,i,de,ke,W):this.model.markers._set(i,ke,void 0,W)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new h.Bb("writer-removemarker-no-marker",this);const i=this.model.markers.get(t);if(!i.managedUsingOperations)return void this.model.markers._remove(t);en(this,t,i.getRange(),null,i.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(e);if(i&&i.isAttached())throw new h.Bb("writer-addroot-root-exists",this);const o=this.model.document,a=new Do(e,t,!0,o,o.version);return this.batch.addOperation(a),this.model.applyOperation(a),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new h.Bb("writer-detachroot-no-root",this);for(const a of this.model.markers)a.getRange().root===t&&this.removeMarker(a);for(const a of t.getAttributeKeys())this.removeAttribute(a,t);this.remove(this.createRangeIn(t));const i=this.model.document,o=new Do(t.rootName,t.name,!1,i,i.version);this.batch.addOperation(o),this.model.applyOperation(o)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[i,o]of(0,h.qL)(e))this._setSelectionAttribute(i,o)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const o=vn._getStoreAttributeKey(e);this.setAttribute(o,t,i.anchor.parent)}i._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const i=vn._getStoreAttributeKey(e);this.removeAttribute(i,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new h.Bb("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const o=i.getRange();let a=!1;if(e==="move"){const C=t;a=C.containsPosition(o.start)||C.start.isEqual(o.start)||C.containsPosition(o.end)||C.end.isEqual(o.end)}else{const C=t,W=C.nodeBefore,de=C.nodeAfter,ke=o.start.parent==W&&o.start.isAtEnd,Se=o.end.parent==de&&o.end.offset==0,$e=o.end.nodeAfter==de,ot=o.start.nodeAfter==de;a=ke||Se||$e||ot}a&&this.updateMarker(i.name,{range:o})}}}function xi(n,e,t,i){const o=n.model,a=o.document;let C,W,de,ke=i.start;for(const $e of i.getWalker({shallow:!0}))de=$e.item.getAttribute(e),C&&W!=de&&(W!=t&&Se(),ke=C),C=$e.nextPosition,W=de;function Se(){const $e=new Dt(ke,C),ot=$e.root.document?a.version:null,Vt=new jn($e,e,W,t,ot);n.batch.addOperation(Vt),o.applyOperation(Vt)}C instanceof Xt&&C!=ke&&W!=t&&Se()}function Bi(n,e,t,i){const o=n.model,a=o.document,C=i.getAttribute(e);let W,de;if(C!=t){if(i.root===i){const ke=i.document?a.version:null;de=new $o(i,e,C,t,ke)}else{W=new Dt(Xt._createBefore(i),n.createPositionAfter(i));const ke=W.root.document?a.version:null;de=new jn(W,e,C,t,ke)}n.batch.addOperation(de),o.applyOperation(de)}}function en(n,e,t,i,o){const a=n.model,C=a.document,W=new co(e,t,i,a.markers,!!o,C.version);n.batch.addOperation(W),a.applyOperation(W)}function Vn(n,e,t,i){let o;if(n.root.document){const a=i.document,C=new Xt(a.graveyard,[0]);o=new dn(n,e,C,a.version)}else o=new Zt(n,e);t.addOperation(o),i.applyOperation(o)}function Un(n,e){return n===e||n instanceof cs&&e instanceof cs}function yn(n,e,t={}){if(e.isCollapsed)return;const i=e.getFirstRange();if(i.root.rootName=="$graveyard")return;const o=n.schema;n.change(a=>{if(!t.doNotResetEntireContent&&function(ke,Se){const $e=ke.getLimitElement(Se);if(!Se.containsEntireContent($e))return!1;const ot=Se.getFirstRange();return ot.start.parent==ot.end.parent?!1:ke.checkChild($e,"paragraph")}(o,e))return void function(ke,Se){const $e=ke.model.schema.getLimitElement(Se);ke.remove(ke.createRangeIn($e)),ur(ke,ke.createPositionAt($e,0),Se)}(a,e);const C={};if(!t.doNotAutoparagraph){const ke=e.getSelectedElement();ke&&Object.assign(C,o.getAttributesWithProperty(ke,"copyOnReplace",!0))}const[W,de]=function(ke){const Se=ke.root.document.model,$e=ke.start;let ot=ke.end;if(Se.hasContent(ke,{ignoreMarkers:!0})){const Vt=function(qt){const ci=qt.parent,vi=ci.root.document.model.schema,Fi=ci.getAncestors({parentFirst:!0,includeSelf:!0});for(const Wi of Fi){if(vi.isLimit(Wi))return null;if(vi.isBlock(Wi))return Wi}}(ot);if(Vt&&ot.isTouching(Se.createPositionAt(Vt,0))){const qt=Se.createSelection(ke);Se.modifySelection(qt,{direction:"backward"});const ci=qt.getLastPosition(),vi=Se.createRange(ci,ot);Se.hasContent(vi,{ignoreMarkers:!0})||(ot=ci)}}return[uo.fromPosition($e,"toPrevious"),uo.fromPosition(ot,"toNext")]}(i);W.isTouching(de)||a.remove(a.createRange(W,de)),t.leaveUnmerged||(function(ke,Se,$e){const ot=ke.model;if(!Nr(ke.model.schema,Se,$e))return;const[Vt,qt]=function(ci,vi){const Fi=ci.getAncestors(),Wi=vi.getAncestors();let xn=0;for(;Fi[xn]&&Fi[xn]==Wi[xn];)xn++;return[Fi[xn],Wi[xn]]}(Se,$e);!Vt||!qt||(!ot.hasContent(Vt,{ignoreMarkers:!0})&&ot.hasContent(qt,{ignoreMarkers:!0})?yo(ke,Se,$e,Vt.parent):Tr(ke,Se,$e,Vt.parent))}(a,W,de),o.removeDisallowedAttributes(W.parent.getChildren(),a)),Jo(a,e,W),!t.doNotAutoparagraph&&function(ke,Se){const $e=ke.checkChild(Se,"$text"),ot=ke.checkChild(Se,"paragraph");return!$e&&ot}(o,W)&&ur(a,W,e,C),W.detach(),de.detach()})}function Tr(n,e,t,i){const o=e.parent,a=t.parent;if(o!=i&&a!=i){for(e=n.createPositionAfter(o),(t=n.createPositionBefore(a)).isEqual(e)||n.insert(a,e),n.merge(e);t.parent.isEmpty;){const C=t.parent;t=n.createPositionBefore(C),n.remove(C)}Nr(n.model.schema,e,t)&&Tr(n,e,t,i)}}function yo(n,e,t,i){const o=e.parent,a=t.parent;if(o!=i&&a!=i){for(e=n.createPositionAfter(o),(t=n.createPositionBefore(a)).isEqual(e)||n.insert(o,t);e.parent.isEmpty;){const C=e.parent;e=n.createPositionBefore(C),n.remove(C)}t=n.createPositionBefore(a),function(C,W){const de=W.nodeBefore,ke=W.nodeAfter;de.name!=ke.name&&C.rename(de,ke.name),C.clearAttributes(de),C.setAttributes(Object.fromEntries(ke.getAttributes()),de),C.merge(W)}(n,t),Nr(n.model.schema,e,t)&&yo(n,e,t,i)}}function Nr(n,e,t){const i=e.parent,o=t.parent;return i!=o&&!n.isLimit(i)&&!n.isLimit(o)&&function(a,C,W){const de=new Dt(a,C);for(const ke of de.getWalker())if(W.isLimit(ke.item))return!1;return!0}(e,t,n)}function ur(n,e,t,i={}){const o=n.createElement("paragraph");n.model.schema.setAllowedAttributes(o,i,n),n.insert(o,e),Jo(n,t,n.createPositionAt(o,0))}function Jo(n,e,t){e instanceof vn?n.setSelection(t):e.setTo(t)}function Ar(n,e){const t=[];Array.from(n.getItems({direction:"backward"})).map(i=>e.createRangeOn(i)).filter(i=>(i.start.isAfter(n.start)||i.start.isEqual(n.start))&&(i.end.isBefore(n.end)||i.end.isEqual(n.end))).forEach(i=>{t.push(i.start.parent),e.remove(i)}),t.forEach(i=>{let o=i;for(;o.parent&&o.isEmpty;){const a=e.createRangeOn(o);o=o.parent,e.remove(a)}})}class Br{constructor(e,t,i){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(e);if(i.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new h.Bb("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Dt._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Dt(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=uo.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new h.Bb("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=uo.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=uo.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof ln)||!this._canMergeLeft(e))return;const t=uo._createBefore(e);t.stickiness="toNext";const i=uo.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=uo._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=uo._createAt(t.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof ln)||!this._canMergeRight(e))return;const t=uo._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new h.Bb("insertcontent-invalid-insertion-position",this);this.position=Xt._createAt(t.nodeBefore,"end");const i=uo.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=uo._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=uo._createAt(t.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof ln&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof ln&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===t&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function Os(n,e,t="auto"){const i=n.getSelectedElement();if(i&&e.schema.isObject(i)&&!e.schema.isInline(i))return t=="before"||t=="after"?e.createRange(e.createPositionAt(i,t)):e.createRangeOn(i);const o=(0,h.Ps)(n.getSelectedBlocks());if(!o)return e.createRange(n.focus);if(o.isEmpty)return e.createRange(e.createPositionAt(o,0));const a=e.createPositionAfter(o);return n.focus.isTouching(a)?e.createRange(a):e.createRange(e.createPositionBefore(o))}function Us(n,e,t,i={}){if(!n.schema.isObject(e))throw new h.Bb("insertobject-element-not-an-object",n,{object:e});const o=t||n.document.selection;let a=o;i.findOptimalPosition&&n.schema.isBlock(e)&&(a=n.createSelection(Os(o,n,i.findOptimalPosition)));const C=(0,h.Ps)(o.getSelectedBlocks()),W={};return C&&Object.assign(W,n.schema.getAttributesWithProperty(C,"copyOnReplace",!0)),n.change(de=>{a.isCollapsed||n.deleteContent(a,{doNotAutoparagraph:!0});let ke=e;const Se=a.anchor.parent;!n.schema.checkChild(Se,e)&&n.schema.checkChild(Se,"paragraph")&&n.schema.checkChild("paragraph",e)&&(ke=de.createElement("paragraph"),de.insert(e,ke)),n.schema.setAllowedAttributes(ke,W,de);const $e=n.insertContent(ke,a);return $e.isCollapsed||i.setSelection&&function(ot,Vt,qt,ci){const vi=ot.model;if(qt=="on")return void ot.setSelection(Vt,"on");if(qt!="after")throw new h.Bb("insertobject-invalid-place-parameter-value",vi);let Fi=Vt.nextSibling;if(vi.schema.isInline(Vt))return void ot.setSelection(Vt,"after");!(Fi&&vi.schema.checkChild(Fi,"$text"))&&vi.schema.checkChild(Vt.parent,"paragraph")&&(Fi=ot.createElement("paragraph"),vi.schema.setAllowedAttributes(Fi,ci,ot),vi.insertContent(Fi,ot.createPositionAfter(Vt))),Fi&&ot.setSelection(Fi,0)}(de,e,i.setSelection,W),$e})}const Ws=' ,.?!:;"-()';function ka(n,e){const{isForward:t,walker:i,unit:o,schema:a,treatEmojiAsSingleUnit:C}=n,{type:W,item:de,nextPosition:ke}=e;if(W=="text")return n.unit==="word"?function(Se,$e){let ot=Se.position.textNode;for(ot||(ot=$e?Se.position.nodeAfter:Se.position.nodeBefore);ot&&ot.is("$text");){const Vt=Se.position.offset-ot.startOffset;if(ya(ot,Vt,$e))ot=$e?Se.position.nodeAfter:Se.position.nodeBefore;else{if(_a(ot.data,Vt,$e))break;Se.next()}}return Se.position}(i,t):function(Se,$e,ot){const Vt=Se.position.textNode;if(Vt){const qt=Vt.data;let ci=Se.position.offset-Vt.startOffset;for(;(0,h.to)(qt,ci)||$e=="character"&&(0,h.pp)(qt,ci)||ot&&(0,h.YK)(qt,ci);)Se.next(),ci=Se.position.offset-Vt.startOffset}return Se.position}(i,o,C);if(W==(t?"elementStart":"elementEnd")){if(a.isSelectable(de))return Xt._createAt(de,t?"after":"before");if(a.checkChild(ke,"$text"))return ke}else{if(a.isLimit(de))return void i.skip(()=>!0);if(a.checkChild(ke,"$text"))return ke}}function va(n,e){const t=n.root,i=Xt._createAt(t,e?"end":0);return e?new Dt(n,i):new Dt(i,n)}function _a(n,e,t){const i=e+(t?0:-1);return Ws.includes(n.charAt(i))}function ya(n,e,t){return e===(t?n.offsetSize:0)}class xa extends(0,h.Re)(){constructor(){super(),this.markers=new Bt,this.document=new R(this),this.schema=new ps,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),ms(this),this.document.registerPostFixer(Bn),this.on("insertContent",(e,[t,i])=>{e.return=function(o,a,C){return o.change(W=>{const de=C||o.document.selection;de.isCollapsed||o.deleteContent(de,{doNotAutoparagraph:!0});const ke=new Br(o,W,de.anchor),Se=[];let $e;if(a.is("documentFragment")){if(a.markers.size){const qt=[];for(const[ci,vi]of a.markers){const{start:Fi,end:Wi}=vi,xn=Fi.isEqual(Wi);qt.push({position:Fi,name:ci,isCollapsed:xn},{position:Wi,name:ci,isCollapsed:xn})}qt.sort(({position:ci},{position:vi})=>ci.isBefore(vi)?1:-1);for(const{position:ci,name:vi,isCollapsed:Fi}of qt){let Wi=null,xn=null;const Vo=ci.parent===a&&ci.isAtStart,Xo=ci.parent===a&&ci.isAtEnd;Vo||Xo?Fi&&(xn=Vo?"start":"end"):(Wi=W.createElement("$marker"),W.insert(Wi,ci)),Se.push({name:vi,element:Wi,collapsed:xn})}}$e=a.getChildren()}else $e=[a];ke.handleNodes($e);let ot=ke.getSelectionRange();if(a.is("documentFragment")&&Se.length){const qt=ot?cn.fromRange(ot):null,ci={};for(let vi=Se.length-1;vi>=0;vi--){const{name:Fi,element:Wi,collapsed:xn}=Se[vi],Vo=!ci[Fi];if(Vo&&(ci[Fi]=[]),Wi){const Xo=W.createPositionAt(Wi,"before");ci[Fi].push(Xo),W.remove(Wi)}else{const Xo=ke.getAffectedRange();if(!Xo){xn&&ci[Fi].push(ke.position);continue}xn?ci[Fi].push(Xo[xn]):ci[Fi].push(Vo?Xo.start:Xo.end)}}for(const[vi,[Fi,Wi]]of Object.entries(ci))Fi&&Wi&&Fi.root===Wi.root&&W.addMarker(vi,{usingOperation:!0,affectsData:!0,range:new Dt(Fi,Wi)});qt&&(ot=qt.toRange(),qt.detach())}ot&&(de instanceof vn?W.setSelection(ot):de.setTo(ot));const Vt=ke.getAffectedRange()||o.createRange(de.anchor);return ke.destroy(),Vt})}(this,t,i)}),this.on("insertObject",(e,[t,i,o])=>{e.return=Us(this,t,i,o)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Vr,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){h.Bb.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Vr):e instanceof Vr||(e=new Vr(e)):e=new Vr,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){h.Bb.rethrowUnexpectedError(i,this)}}applyOperation(e){e._execute()}insertContent(e,t,i,...o){const a=ra(t,i);return this.fire("insertContent",[e,a,i,...o])}insertObject(e,t,i,o,...a){const C=ra(t,i);return this.fire("insertObject",[e,C,o,o,...a])}deleteContent(e,t){yn(this,e,t)}modifySelection(e,t){(function(i,o,a={}){const C=i.schema,W=a.direction!="backward",de=a.unit?a.unit:"character",ke=!!a.treatEmojiAsSingleUnit,Se=o.focus,$e=new ko({boundaries:va(Se,W),singleCharacters:!0,direction:W?"forward":"backward"}),ot={walker:$e,schema:C,isForward:W,unit:de,treatEmojiAsSingleUnit:ke};let Vt;for(;Vt=$e.next();){if(Vt.done)return;const qt=ka(ot,Vt.value);if(qt)return void(o instanceof vn?i.change(ci=>{ci.setSelectionFocus(qt)}):o.setFocus(qt))}})(this,e,t)}getSelectedContent(e){return function(t,i){return t.change(o=>{const a=o.createDocumentFragment(),C=i.getFirstRange();if(!C||C.isCollapsed)return a;const W=C.start.root,de=C.start.getCommonPath(C.end),ke=W.getNodeByPath(de);let Se;Se=C.start.parent==C.end.parent?C:o.createRange(o.createPositionAt(ke,C.start.path[de.length]),o.createPositionAt(ke,C.end.path[de.length]+1));const $e=Se.end.offset-Se.start.offset;for(const ot of Se.getItems({shallow:!0}))ot.is("$textProxy")?o.appendText(ot.data,ot.getAttributes(),a):o.append(o.cloneElement(ot,!0),a);if(Se!=C){const ot=C._getTransformedByMove(Se.start,o.createPositionAt(a,0),$e)[0],Vt=o.createRange(o.createPositionAt(a,0),ot.start);Ar(o.createRange(ot.end,o.createPositionAt(a,"end")),o),Ar(Vt,o)}return a})}(this,e)}hasContent(e,t={}){const i=e instanceof Dt?e:Dt._createIn(e);if(i.isCollapsed)return!1;const{ignoreWhitespaces:o=!1,ignoreMarkers:a=!1}=t;if(!a){for(const C of this.markers.getMarkersIntersectingRange(i))if(C.affectsData)return!0}for(const C of i.getItems())if(this.schema.isContent(C)&&(!C.is("$textProxy")||!o||C.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=ra(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,i){return new Xt(e,t,i)}createPositionAt(e,t){return Xt._createAt(e,t)}createPositionAfter(e){return Xt._createAfter(e)}createPositionBefore(e){return Xt._createBefore(e)}createRange(e,t){return new Dt(e,t)}createRangeIn(e){return Dt._createIn(e)}createRangeOn(e){return Dt._createOn(e)}createSelection(...e){return new _i(...e)}createBatch(e){return new Vr(e)}createOperationFromJSON(e){return js.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new pi(this,t);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function ra(n,e){if(n)return n instanceof _i||n instanceof vn?n:n instanceof wo?e||e===0?new _i(n,e):n.is("rootElement")?new _i(n,"in"):new _i(n,"on"):new _i(n)}class Ca extends ve{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Ta extends ve{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Aa{constructor(e){this.document=e}createDocumentFragment(e){return new Sn(this.document,e)}createElement(e,t,i){return new Mi(this.document,e,t,i)}createText(e){return new q(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,i){return i._insertChild(e,t)}removeChildren(e,t,i){return i._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const i=e.parent;if(i){const o=i.getChildIndex(e);return this.removeChildren(o,1,i),this.insertChild(o,t,i),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const i=t.getChildIndex(e);this.remove(e),this.insertChild(i,e.getChildren(),t)}}rename(e,t){const i=new Mi(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,i)?i:null}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){(0,b.Z)(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return be._createAt(e,t)}createPositionAfter(e){return be._createAfter(e)}createPositionBefore(e){return be._createBefore(e)}createRange(e,t){return new ht(e,t)}createRangeOn(e){return ht._createOn(e)}createRangeIn(e){return ht._createIn(e)}createSelection(...e){return new Qt(...e)}}const Sa=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,Ea=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,Ia=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Pa=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,La=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Oa=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,Ma=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function ca(n){return n.startsWith("#")?Sa.test(n):n.startsWith("rgb")?Ea.test(n)||Ia.test(n):n.startsWith("hsl")?Pa.test(n)||La.test(n):Ma.has(n.toLowerCase())}const Ra=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function da(n){return Ra.includes(n)}const ja=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function ua(n){return ja.test(n)}const Va=/^[+-]?[0-9]*([.][0-9]+)?%$/;function Na(n){return Va.test(n)}const Ba=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function ha(n){return Ba.includes(n)}const Da=["center","top","bottom","left","right"];function ma(n){return Da.includes(n)}const za=["fixed","scroll","local"];function ga(n){return za.includes(n)}const Fa=/^url\(/;function pa(n){return Fa.test(n)}function ds(n=""){if(n==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const e=$s(n),t=e[0],i=e[2]||t,o=e[1]||t;return{top:t,bottom:i,right:o,left:e[3]||o}}function us(n){return e=>{const{top:t,right:i,bottom:o,left:a}=e,C=[];return[t,i,a,o].every(W=>!!W)?C.push([n,fa(e)]):(t&&C.push([n+"-top",t]),i&&C.push([n+"-right",i]),o&&C.push([n+"-bottom",o]),a&&C.push([n+"-left",a])),C}}function fa({top:n,right:e,bottom:t,left:i}){const o=[];return i!==e?o.push(n,e,t,i):t!==n?o.push(n,e,t):e!==n?o.push(n,e):o.push(n),o.join(" ")}function sa(n){return e=>({path:n,value:ds(e)})}function $s(n){const e=n.matchAll(Oa);return Array.from(e).map(t=>t[0])}function Ha(n){n.setNormalizer("background",e=>{const t={},i=$s(e);for(const o of i)ha(o)?(t.repeat=t.repeat||[],t.repeat.push(o)):ma(o)?(t.position=t.position||[],t.position.push(o)):ga(o)?t.attachment=o:ca(o)?t.color=o:pa(o)&&(t.image=o);return{path:"background",value:t}}),n.setNormalizer("background-color",e=>({path:"background.color",value:e})),n.setReducer("background",e=>{const t=[];return t.push(["background-color",e.color]),t}),n.setStyleRelation("background",["background-color"])}function Ua(n){n.setNormalizer("border",e=>{const{color:t,style:i,width:o}=ba(e);return{path:"border",value:{color:ds(t),style:ds(i),width:ds(o)}}}),n.setNormalizer("border-top",Zs("top")),n.setNormalizer("border-right",Zs("right")),n.setNormalizer("border-bottom",Zs("bottom")),n.setNormalizer("border-left",Zs("left")),n.setNormalizer("border-color",aa("color")),n.setNormalizer("border-width",aa("width")),n.setNormalizer("border-style",aa("style")),n.setNormalizer("border-top-color",Zo("color","top")),n.setNormalizer("border-top-style",Zo("style","top")),n.setNormalizer("border-top-width",Zo("width","top")),n.setNormalizer("border-right-color",Zo("color","right")),n.setNormalizer("border-right-style",Zo("style","right")),n.setNormalizer("border-right-width",Zo("width","right")),n.setNormalizer("border-bottom-color",Zo("color","bottom")),n.setNormalizer("border-bottom-style",Zo("style","bottom")),n.setNormalizer("border-bottom-width",Zo("width","bottom")),n.setNormalizer("border-left-color",Zo("color","left")),n.setNormalizer("border-left-style",Zo("style","left")),n.setNormalizer("border-left-width",Zo("width","left")),n.setExtractor("border-top",qs("top")),n.setExtractor("border-right",qs("right")),n.setExtractor("border-bottom",qs("bottom")),n.setExtractor("border-left",qs("left")),n.setExtractor("border-top-color","border.color.top"),n.setExtractor("border-right-color","border.color.right"),n.setExtractor("border-bottom-color","border.color.bottom"),n.setExtractor("border-left-color","border.color.left"),n.setExtractor("border-top-width","border.width.top"),n.setExtractor("border-right-width","border.width.right"),n.setExtractor("border-bottom-width","border.width.bottom"),n.setExtractor("border-left-width","border.width.left"),n.setExtractor("border-top-style","border.style.top"),n.setExtractor("border-right-style","border.style.right"),n.setExtractor("border-bottom-style","border.style.bottom"),n.setExtractor("border-left-style","border.style.left"),n.setReducer("border-color",us("border-color")),n.setReducer("border-style",us("border-style")),n.setReducer("border-width",us("border-width")),n.setReducer("border-top",Ks("top")),n.setReducer("border-right",Ks("right")),n.setReducer("border-bottom",Ks("bottom")),n.setReducer("border-left",Ks("left")),n.setReducer("border",function(){return t=>{const i=Ms(t,"top"),o=Ms(t,"right"),a=Ms(t,"bottom"),C=Ms(t,"left"),W=[i,o,a,C],de={width:e(W,"width"),style:e(W,"style"),color:e(W,"color")},ke=hs(de,"all");return ke.length?ke:[...Object.entries(de).reduce((Se,[$e,ot])=>(ot&&(Se.push([`border-${$e}`,ot]),W.forEach(Vt=>delete Vt[$e])),Se),[]),...hs(i,"top"),...hs(o,"right"),...hs(a,"bottom"),...hs(C,"left")]};function e(t,i){return t.map(o=>o[i]).reduce((o,a)=>o==a?o:null)}}()),n.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),n.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),n.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),n.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),n.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),n.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function Zs(n){return e=>{const{color:t,style:i,width:o}=ba(e),a={};return t!==void 0&&(a.color={[n]:t}),i!==void 0&&(a.style={[n]:i}),o!==void 0&&(a.width={[n]:o}),{path:"border",value:a}}}function aa(n){return e=>({path:"border",value:Wa(e,n)})}function Wa(n,e){return{[e]:ds(n)}}function Zo(n,e){return t=>({path:"border",value:{[n]:{[e]:t}}})}function qs(n){return(e,t)=>{if(t.border)return Ms(t.border,n)}}function Ms(n,e){const t={};return n.width&&n.width[e]&&(t.width=n.width[e]),n.style&&n.style[e]&&(t.style=n.style[e]),n.color&&n.color[e]&&(t.color=n.color[e]),t}function ba(n){const e={},t=$s(n);for(const i of t)ua(i)||/thin|medium|thick/.test(i)?e.width=i:da(i)?e.style=i:e.color=i;return e}function Ks(n){return e=>hs(e,n)}function hs(n,e){const t=[];if(n&&n.width&&t.push("width"),n&&n.style&&t.push("style"),n&&n.color&&t.push("color"),t.length==3){const i=t.map(o=>n[o]).join(" ");return[e=="all"?["border",i]:[`border-${e}`,i]]}return e=="all"?[]:t.map(i=>[`border-${e}-${i}`,n[i]])}function $a(n){n.setNormalizer("margin",sa("margin")),n.setNormalizer("margin-top",e=>({path:"margin.top",value:e})),n.setNormalizer("margin-right",e=>({path:"margin.right",value:e})),n.setNormalizer("margin-bottom",e=>({path:"margin.bottom",value:e})),n.setNormalizer("margin-left",e=>({path:"margin.left",value:e})),n.setReducer("margin",us("margin")),n.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function Za(n){n.setNormalizer("padding",sa("padding")),n.setNormalizer("padding-top",e=>({path:"padding.top",value:e})),n.setNormalizer("padding-right",e=>({path:"padding.right",value:e})),n.setNormalizer("padding-bottom",e=>({path:"padding.bottom",value:e})),n.setNormalizer("padding-left",e=>({path:"padding.left",value:e})),n.setReducer("padding",us("padding")),n.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}},"./packages/ckeditor5-enter/src/index.ts":(p,_,l)=>{"use strict";l.d(_,{C:()=>te,G:()=>y});var c=l("./packages/ckeditor5-core/src/index.ts");function*P(f,v){for(const A of v)A&&f.getAttributeProperties(A[0]).copyOnEnter&&(yield A)}class B extends c.mY{execute(){this.editor.model.change(v=>{this.enterBlock(v),this.fire("afterExecute",{writer:v})})}enterBlock(v){const A=this.editor.model,T=A.document.selection,E=A.schema,ae=T.isCollapsed,q=T.getFirstRange(),z=q.start.parent,b=q.end.parent;if(E.isLimit(z)||E.isLimit(b))return ae||z!=b||A.deleteContent(T),!1;if(ae){const V=P(v.model.schema,T.getAttributes());return x(v,q.start),v.setSelectionAttribute(V),!0}{const V=!(q.start.isAtStart&&q.end.isAtEnd),$=z==b;if(A.deleteContent(T,{leaveUnmerged:V}),V){if($)return x(v,T.focus),!0;v.setSelection(b,0)}}return!1}}function x(f,v){f.split(v),f.setSelection(v.parent.nextSibling,0)}var h=l("./packages/ckeditor5-engine/src/index.ts"),j=l("./packages/ckeditor5-utils/src/index.ts");const Z={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Y extends h.Qj{constructor(v){super(v);const A=this.document;let T=!1;A.on("keydown",(E,ae)=>{T=ae.shiftKey}),A.on("beforeinput",(E,ae)=>{if(!this.isEnabled)return;let q=ae.inputType;j.OB.isSafari&&T&&q=="insertParagraph"&&(q="insertLineBreak");const z=ae.domEvent,b=Z[q];if(!b)return;const V=new h.r7(A,"enter",ae.targetRanges[0]);A.fire(V,new h.dK(v,z,{isSoft:b.isSoft})),V.stop.called&&E.stop()})}observe(){}stopObserving(){}}class te extends c.Sy{static get pluginName(){return"Enter"}init(){const v=this.editor,A=v.editing.view,T=A.document;A.addObserver(Y),v.commands.add("enter",new B(v)),this.listenTo(T,"enter",(E,ae)=>{T.isComposing||ae.preventDefault(),ae.isSoft||(v.execute("enter"),A.scrollToTheSelection())},{priority:"low"})}}class oe extends c.mY{execute(){const v=this.editor.model,A=v.document;v.change(T=>{(function(E,ae,q){const z=q.isCollapsed,b=q.getFirstRange(),V=b.start.parent,$=b.end.parent,D=V==$;if(z){const re=P(E.schema,q.getAttributes());ie(E,ae,b.end),ae.removeSelectionAttribute(q.getAttributeKeys()),ae.setSelectionAttribute(re)}else{const re=!(b.start.isAtStart&&b.end.isAtEnd);E.deleteContent(q,{leaveUnmerged:re}),D?ie(E,ae,q.focus):re&&ae.setSelection($,0)}})(v,T,A.selection),this.fire("afterExecute",{writer:T})})}refresh(){const v=this.editor.model,A=v.document;this.isEnabled=function(T,E){if(E.rangeCount>1)return!1;const ae=E.anchor;if(!ae||!T.checkChild(ae,"softBreak"))return!1;const q=E.getFirstRange(),z=q.start.parent,b=q.end.parent;return!((u(z,T)||u(b,T))&&z!==b)}(v.schema,A.selection)}}function ie(f,v,A){const T=v.createElement("softBreak");f.insertContent(T,A),v.setSelection(T,"after")}function u(f,v){return!f.is("rootElement")&&(v.isLimit(f)||u(f.parent,v))}class y extends c.Sy{static get pluginName(){return"ShiftEnter"}init(){const v=this.editor,A=v.model.schema,T=v.conversion,E=v.editing.view,ae=E.document;A.register("softBreak",{allowWhere:"$text",isInline:!0}),T.for("upcast").elementToElement({model:"softBreak",view:"br"}),T.for("downcast").elementToElement({model:"softBreak",view:(q,{writer:z})=>z.createEmptyElement("br")}),E.addObserver(Y),v.commands.add("shiftEnter",new oe(v)),this.listenTo(ae,"enter",(q,z)=>{ae.isComposing||z.preventDefault(),z.isSoft&&(v.execute("shiftEnter"),E.scrollToTheSelection())},{priority:"low"})}}},"./packages/ckeditor5-typing/src/index.ts":(p,_,l)=>{"use strict";l.d(_,{HG:()=>T,II:()=>Y,BT:()=>x,cL:()=>lt,uL:()=>q,mh:()=>z,Mq:()=>E,VD:()=>Qe,r9:()=>ft,Up:()=>ae,Im:()=>Ve});var c=l("./packages/ckeditor5-core/src/index.ts"),P=l("./packages/ckeditor5-utils/src/index.ts");class B{constructor(Q,xe=20){this._batch=null,this.model=Q,this._size=0,this.limit=xe,this._isLocked=!1,this._changeCallback=(Oe,Je)=>{Je.isLocal&&Je.isUndoable&&Je!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(Q){this._size+=Q,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(Q=!1){this.isLocked&&!Q||(this._batch=null,this._size=0)}}class x extends c.mY{constructor(Q,xe){super(Q),this._buffer=new B(Q.model,xe),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(Q={}){const xe=this.editor.model,Oe=xe.document,Je=Q.text||"",Ze=Je.length;let tt=Oe.selection;if(Q.selection?tt=Q.selection:Q.range&&(tt=xe.createSelection(Q.range)),!xe.canEditAt(tt))return;const st=Q.resultRange;xe.enqueueChange(this._buffer.batch,Lt=>{this._buffer.lock();const Ft=Array.from(Oe.selection.getAttributes());xe.deleteContent(tt),Je&&xe.insertContent(Lt.createText(Je,Ft),tt),st?Lt.setSelection(st):tt.is("documentSelection")||Lt.setSelection(tt),this._buffer.unlock(),this._buffer.input(Ze)})}}var h=l("./packages/ckeditor5-engine/src/index.ts");const j=["insertText","insertReplacementText"];class Z extends h.Qj{constructor(Q){super(Q),this.focusObserver=Q.getObserver(h.DX),P.OB.isAndroid&&j.push("insertCompositionText");const xe=Q.document;xe.on("beforeinput",(Oe,Je)=>{if(!this.isEnabled)return;const{data:Ze,targetRanges:tt,inputType:st,domEvent:Lt}=Je;if(!j.includes(st))return;this.focusObserver.flush();const Ft=new P.M3(xe,"insertText");xe.fire(Ft,new h.dK(Q,Lt,{text:Ze,selection:Q.createSelection(tt)})),Ft.stop.called&&Oe.stop()}),xe.on("compositionend",(Oe,{data:Je,domEvent:Ze})=>{this.isEnabled&&!P.OB.isAndroid&&Je&&xe.fire("insertText",new h.dK(Q,Ze,{text:Je,selection:xe.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class Y extends c.Sy{static get pluginName(){return"Input"}init(){const Q=this.editor,xe=Q.model,Oe=Q.editing.view,Je=xe.document.selection;Oe.addObserver(Z);const Ze=new x(Q,Q.config.get("typing.undoStep")||20);Q.commands.add("insertText",Ze),Q.commands.add("input",Ze),this.listenTo(Oe.document,"insertText",(tt,st)=>{Oe.document.isComposing||st.preventDefault();const{text:Lt,selection:Ft,resultRange:Yt}=st,ui=Array.from(Ft.getRanges()).map(hi=>Q.editing.mapper.toModelRange(hi));let Nt=Lt;if(P.OB.isAndroid){const hi=Array.from(ui[0].getItems()).reduce((Ci,Oi)=>Ci+(Oi.is("$textProxy")?Oi.data:""),"");hi&&(hi.length<=Nt.length?Nt.startsWith(hi)&&(Nt=Nt.substring(hi.length),ui[0].start=ui[0].start.getShiftedBy(hi.length)):hi.startsWith(Nt)&&(ui[0].start=ui[0].start.getShiftedBy(Nt.length),Nt=""))}const ti={text:Nt,selection:xe.createSelection(ui)};Yt&&(ti.resultRange=Q.editing.mapper.toModelRange(Yt)),Q.execute("insertText",ti),Oe.scrollToTheSelection()}),P.OB.isAndroid?this.listenTo(Oe.document,"keydown",(tt,st)=>{!Je.isCollapsed&&st.keyCode==229&&Oe.document.isComposing&&te(xe,Ze)}):this.listenTo(Oe.document,"compositionstart",()=>{Je.isCollapsed||te(xe,Ze)})}}function te(Te,Q){if(!Q.isEnabled)return;const xe=Q.buffer;xe.lock(),Te.enqueueChange(xe.batch,()=>{Te.deleteContent(Te.document.selection)}),xe.unlock()}class oe extends c.mY{constructor(Q,xe){super(Q),this.direction=xe,this._buffer=new B(Q.model,Q.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(Q={}){const xe=this.editor.model,Oe=xe.document;xe.enqueueChange(this._buffer.batch,Je=>{this._buffer.lock();const Ze=Je.createSelection(Q.selection||Oe.selection);if(!xe.canEditAt(Ze))return;const tt=Q.sequence||1,st=Ze.isCollapsed;if(Ze.isCollapsed&&xe.modifySelection(Ze,{direction:this.direction,unit:Q.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(tt))return void this._replaceEntireContentWithParagraph(Je);if(this._shouldReplaceFirstBlockWithParagraph(Ze,tt))return void this.editor.execute("paragraph",{selection:Ze});if(Ze.isCollapsed)return;let Lt=0;Ze.getFirstRange().getMinimalFlatRanges().forEach(Ft=>{Lt+=(0,P.QX)(Ft.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),xe.deleteContent(Ze,{doNotResetEntireContent:st,direction:this.direction}),this._buffer.input(Lt),Je.setSelection(Ze),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(Q){if(Q>1)return!1;const xe=this.editor.model,Oe=xe.document.selection,Je=xe.schema.getLimitElement(Oe);if(!(Oe.isCollapsed&&Oe.containsEntireContent(Je))||!xe.schema.checkChild(Je,"paragraph"))return!1;const Ze=Je.getChild(0);return!Ze||!Ze.is("element","paragraph")}_replaceEntireContentWithParagraph(Q){const xe=this.editor.model,Oe=xe.document.selection,Je=xe.schema.getLimitElement(Oe),Ze=Q.createElement("paragraph");Q.remove(Q.createRangeIn(Je)),Q.insert(Ze,Je),Q.setSelection(Ze,0)}_shouldReplaceFirstBlockWithParagraph(Q,xe){const Oe=this.editor.model;if(xe>1||this.direction!="backward"||!Q.isCollapsed)return!1;const Je=Q.getFirstPosition(),Ze=Oe.schema.getLimitElement(Je),tt=Ze.getChild(0);return Je.parent==tt&&!!Q.containsEntireContent(tt)&&!!Oe.schema.checkChild(Ze,"paragraph")&&tt.name!="paragraph"}}const ie="word",u="selection",y="backward",f="forward",v={deleteContent:{unit:u,direction:y},deleteContentBackward:{unit:"codePoint",direction:y},deleteWordBackward:{unit:ie,direction:y},deleteHardLineBackward:{unit:u,direction:y},deleteSoftLineBackward:{unit:u,direction:y},deleteContentForward:{unit:"character",direction:f},deleteWordForward:{unit:ie,direction:f},deleteHardLineForward:{unit:u,direction:f},deleteSoftLineForward:{unit:u,direction:f}};class A extends h.Qj{constructor(Q){super(Q);const xe=Q.document;let Oe=0;xe.on("keydown",()=>{Oe++}),xe.on("keyup",()=>{Oe=0}),xe.on("beforeinput",(Je,Ze)=>{if(!this.isEnabled)return;const{targetRanges:tt,domEvent:st,inputType:Lt}=Ze,Ft=v[Lt];if(!Ft)return;const Yt={direction:Ft.direction,unit:Ft.unit,sequence:Oe};Yt.unit==u&&(Yt.selectionToRemove=Q.createSelection(tt[0])),Lt==="deleteContentBackward"&&(P.OB.isAndroid&&(Yt.sequence=1),function(Nt){if(Nt.length!=1||Nt[0].isCollapsed)return!1;const ti=Nt[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let hi=0;for(const{nextPosition:Ci}of ti){if(Ci.parent.is("$text")){const Oi=Ci.parent.data,Di=Ci.offset;if((0,P.to)(Oi,Di)||(0,P.pp)(Oi,Di)||(0,P.YK)(Oi,Di))continue;hi++}else hi++;if(hi>1)return!0}return!1}(tt)&&(Yt.unit=u,Yt.selectionToRemove=Q.createSelection(tt)));const ui=new h.r7(xe,"delete",tt[0]);xe.fire(ui,new h.dK(Q,st,Yt)),ui.stop.called&&Je.stop()}),P.OB.isBlink&&function(Je){const Ze=Je.view,tt=Ze.document;let st=null,Lt=!1;function Ft(ui){return ui==P.Do.backspace||ui==P.Do.delete}function Yt(ui){return ui==P.Do.backspace?y:f}tt.on("keydown",(ui,{keyCode:Nt})=>{st=Nt,Lt=!1}),tt.on("keyup",(ui,{keyCode:Nt,domEvent:ti})=>{const hi=tt.selection,Ci=Je.isEnabled&&Nt==st&&Ft(Nt)&&!hi.isCollapsed&&!Lt;if(st=null,Ci){const Oi=hi.getFirstRange(),Di=new h.r7(tt,"delete",Oi),Vi={unit:u,direction:Yt(Nt),selectionToRemove:hi};tt.fire(Di,new h.dK(Ze,ti,Vi))}}),tt.on("beforeinput",(ui,{inputType:Nt})=>{const ti=v[Nt];Ft(st)&&ti&&ti.direction==Yt(st)&&(Lt=!0)},{priority:"high"}),tt.on("beforeinput",(ui,{inputType:Nt,data:ti})=>{st==P.Do.delete&&Nt=="insertText"&&ti=="\x7F"&&ui.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class T extends c.Sy{static get pluginName(){return"Delete"}init(){const Q=this.editor,xe=Q.editing.view,Oe=xe.document,Je=Q.model.document;xe.addObserver(A),this._undoOnBackspace=!1;const Ze=new oe(Q,"forward");Q.commands.add("deleteForward",Ze),Q.commands.add("forwardDelete",Ze),Q.commands.add("delete",new oe(Q,"backward")),this.listenTo(Oe,"delete",(tt,st)=>{Oe.isComposing||st.preventDefault();const{direction:Lt,sequence:Ft,selectionToRemove:Yt,unit:ui}=st,Nt=Lt==="forward"?"deleteForward":"delete",ti={sequence:Ft};if(ui=="selection"){const hi=Array.from(Yt.getRanges()).map(Ci=>Q.editing.mapper.toModelRange(Ci));ti.selection=Q.model.createSelection(hi)}else ti.unit=ui;Q.execute(Nt,ti),xe.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(Oe,"delete",(tt,st)=>{this._undoOnBackspace&&st.direction=="backward"&&st.sequence==1&&st.unit=="codePoint"&&(this._undoOnBackspace=!1,Q.execute("undo"),st.preventDefault(),tt.stop())},{context:"$capture"}),this.listenTo(Je,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class E extends c.Sy{static get requires(){return[Y,T]}static get pluginName(){return"Typing"}}function ae(Te,Q){let xe=Te.start;return{text:Array.from(Te.getWalker({ignoreElementEnd:!1})).reduce((Oe,{item:Je})=>Je.is("$text")||Je.is("$textProxy")?Oe+Je.data:(xe=Q.createPositionAfter(Je),""),""),range:Q.createRange(xe,Te.end)}}class q extends(0,P.Re)(){constructor(Q,xe){super(),this.model=Q,this.testCallback=xe,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(Q.document.selection),this.stopListening(Q.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const Q=this.model.document;this.listenTo(Q.selection,"change:range",(xe,{directChange:Oe})=>{Oe&&(Q.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(Q,"change:data",(xe,Oe)=>{!Oe.isUndo&&Oe.isLocal&&this._evaluateTextBeforeSelection("data",{batch:Oe})})}_evaluateTextBeforeSelection(Q,xe={}){const Oe=this.model,Je=Oe.document.selection,Ze=Oe.createRange(Oe.createPositionAt(Je.focus.parent,0),Je.focus),{text:tt,range:st}=ae(Ze,Oe),Lt=this.testCallback(tt);if(!Lt&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!Lt,Lt){const Ft=Object.assign(xe,{text:tt,range:st});typeof Lt=="object"&&Object.assign(Ft,Lt),this.fire(`matched:${Q}`,Ft)}}}class z extends c.Sy{constructor(Q){super(Q),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const Q=this.editor,xe=Q.model,Oe=Q.editing.view,Je=Q.locale,Ze=xe.document.selection;this.listenTo(Oe.document,"arrowKey",(tt,st)=>{if(!Ze.isCollapsed||st.shiftKey||st.altKey||st.ctrlKey)return;const Lt=st.keyCode==P.Do.arrowright,Ft=st.keyCode==P.Do.arrowleft;if(!Lt&&!Ft)return;const Yt=Je.contentLanguageDirection;let ui=!1;ui=Yt==="ltr"&&Lt||Yt==="rtl"&&Ft?this._handleForwardMovement(st):this._handleBackwardMovement(st),ui===!0&&tt.stop()},{context:"$text",priority:"highest"}),this.listenTo(Ze,"change:range",(tt,st)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!st.directChange&&Ee(Ze.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(Q){this.attributes.add(Q)}_handleForwardMovement(Q){const xe=this.attributes,Oe=this.editor.model,Je=Oe.document.selection,Ze=Je.getFirstPosition();return!this._isGravityOverridden&&(!Ze.isAtStart||!b(Je,xe))&&!!Ee(Ze,xe)&&(D(Q),b(Je,xe)&&Ee(Ze,xe,!0)?$(Oe,xe):this._overrideGravity(),!0)}_handleBackwardMovement(Q){const xe=this.attributes,Oe=this.editor.model,Je=Oe.document.selection,Ze=Je.getFirstPosition();return this._isGravityOverridden?(D(Q),this._restoreGravity(),Ee(Ze,xe,!0)?$(Oe,xe):V(Oe,xe,Ze),!0):Ze.isAtStart?!!b(Je,xe)&&(D(Q),V(Oe,xe,Ze),!0):!b(Je,xe)&&Ee(Ze,xe,!0)?(D(Q),V(Oe,xe,Ze),!0):!!re(Ze,xe)&&(Ze.isAtEnd&&!b(Je,xe)&&Ee(Ze,xe)?(D(Q),V(Oe,xe,Ze),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const Q=this.editor,xe=Q.model,Oe=xe.document.selection,Je=Q.editing.view.document;Q.editing.view.addObserver(h.dM);let Ze=!1;this.listenTo(Je,"mousedown",()=>{Ze=!0}),this.listenTo(Je,"selectionChange",()=>{const tt=this.attributes;if(!Ze||(Ze=!1,!Oe.isCollapsed)||!b(Oe,tt))return;const st=Oe.getFirstPosition();Ee(st,tt)&&(st.isAtStart||Ee(st,tt,!0)?$(xe,tt):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const Q=this.editor.model,xe=Q.document.selection,Oe=this.attributes;this.listenTo(Q,"insertContent",()=>{const Je=xe.getFirstPosition();b(xe,Oe)&&Ee(Je,Oe)&&$(Q,Oe)},{priority:"low"})}_handleDeleteContentAfterNode(){const Q=this.editor,xe=Q.model,Oe=xe.document.selection,Je=Q.editing.view;let Ze=!1,tt=!1;this.listenTo(Je.document,"delete",(st,Lt)=>{Ze=Lt.direction==="backward"},{priority:"high"}),this.listenTo(xe,"deleteContent",()=>{if(!Ze)return;const st=Oe.getFirstPosition();tt=b(Oe,this.attributes)&&!re(st,this.attributes)},{priority:"high"}),this.listenTo(xe,"deleteContent",()=>{Ze&&(Ze=!1,tt||Q.model.enqueueChange(()=>{const st=Oe.getFirstPosition();b(Oe,this.attributes)&&Ee(st,this.attributes)&&(st.isAtStart||Ee(st,this.attributes,!0)?$(xe,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(Q=>Q.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(Q=>{Q.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function b(Te,Q){for(const xe of Q)if(Te.hasAttribute(xe))return!0;return!1}function V(Te,Q,xe){const Oe=xe.nodeBefore;Te.change(Je=>{if(Oe){const Ze=[],tt=Te.schema.isObject(Oe)&&Te.schema.isInline(Oe);for(const[st,Lt]of Oe.getAttributes())!Te.schema.checkAttribute("$text",st)||tt&&Te.schema.getAttributeProperties(st).copyFromObject===!1||Ze.push([st,Lt]);Je.setSelectionAttribute(Ze)}else Je.removeSelectionAttribute(Q)})}function $(Te,Q){Te.change(xe=>{xe.removeSelectionAttribute(Q)})}function D(Te){Te.preventDefault()}function re(Te,Q){return Ee(Te.getShiftedBy(-1),Q)}function Ee(Te,Q,xe=!1){const{nodeBefore:Oe,nodeAfter:Je}=Te;for(const Ze of Q){const tt=Oe?Oe.getAttribute(Ze):void 0,st=Je?Je.getAttribute(Ze):void 0;if((!xe||tt!==void 0&&st!==void 0)&&st!==tt)return!0}return!1}var je=l("./node_modules/lodash-es/escapeRegExp.js");const Ie={copyright:{from:"(c)",to:"\xA9"},registeredTrademark:{from:"(r)",to:"\xAE"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xBD",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xBC",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xBE",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:bt('"'),to:[null,"\u201C",null,"\u201D"]},quotesSecondary:{from:bt("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:bt("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:bt('"'),to:[null,"\u201C",null,"\u201D"]},quotesPrimaryPl:{from:bt('"'),to:[null,"\u201E",null,"\u201D"]},quotesSecondaryPl:{from:bt("'"),to:[null,"\u201A",null,"\u2019"]}},De={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},mt=["symbols","mathematical","typography","quotes"];class lt extends c.Sy{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(Q){super(Q),Q.config.define("typing",{transformations:{include:mt}})}init(){const Q=this.editor.model.document.selection;Q.on("change:range",()=>{this.isEnabled=!Q.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const Q=this.editor,xe=Q.model,Oe=Q.plugins.get("Delete"),Je=function(tt){const st=tt.extra||[],Lt=tt.remove||[],Ft=Yt=>!Lt.includes(Yt);return function(Yt){const ui=new Set;for(const Nt of Yt)if(typeof Nt=="string"&&De[Nt])for(const ti of De[Nt])ui.add(ti);else ui.add(Nt);return Array.from(ui)}(tt.include.concat(st).filter(Ft)).filter(Ft).map(Yt=>typeof Yt=="string"&&Ie[Yt]?Ie[Yt]:Yt).filter(Yt=>typeof Yt=="object").map(Yt=>({from:ut(Yt.from),to:dt(Yt.to)}))}(Q.config.get("typing.transformations")),Ze=new q(Q.model,tt=>{for(const st of Je)if(st.from.test(tt))return{normalizedTransformation:st}});Ze.on("matched:data",(tt,st)=>{if(!st.batch.isTyping)return;const{from:Lt,to:Ft}=st.normalizedTransformation,Yt=Lt.exec(st.text),ui=Ft(Yt.slice(1)),Nt=st.range;let ti=Yt.index;xe.enqueueChange(hi=>{for(let Ci=1;Ci<Yt.length;Ci++){const Oi=Yt[Ci],Di=ui[Ci-1];if(Di==null){ti+=Oi.length;continue}const Vi=Nt.start.getShiftedBy(ti),Pi=xe.createRange(Vi,Vi.getShiftedBy(Oi.length)),$i=_t(Vi);xe.insertContent(hi.createText(Di,$i),Pi),ti+=Di.length}xe.enqueueChange(()=>{Oe.requestUndoOnBackspace()})})}),Ze.bind("isEnabled").to(this)}}function ut(Te){return typeof Te=="string"?new RegExp(`(${(0,je.Z)(Te)})$`):Te}function dt(Te){return typeof Te=="string"?()=>[Te]:Te instanceof Array?()=>Te:Te}function _t(Te){return(Te.textNode?Te.textNode:Te.nodeAfter).getAttributes()}function bt(Te){return new RegExp(`(^|\\s)(${Te})([^${Te}]*)(${Te})$`)}function Qe(Te,Q,xe,Oe){return Oe.createRange(ft(Te,Q,xe,!0,Oe),ft(Te,Q,xe,!1,Oe))}function ft(Te,Q,xe,Oe,Je){let Ze=Te.textNode||(Oe?Te.nodeBefore:Te.nodeAfter),tt=null;for(;Ze&&Ze.getAttribute(Q)==xe;)tt=Ze,Ze=Oe?Ze.previousSibling:Ze.nextSibling;return tt?Je.createPositionAt(tt,Oe?"before":"after"):Te}function Ve(Te,Q,xe,Oe){const Je=Te.editing.view,Ze=new Set;Je.document.registerPostFixer(tt=>{const st=Te.model.document.selection;let Lt=!1;if(st.hasAttribute(Q)){const Ft=Qe(st.getFirstPosition(),Q,st.getAttribute(Q),Te.model),Yt=Te.editing.mapper.toViewRange(Ft);for(const ui of Yt.getItems())ui.is("element",xe)&&!ui.hasClass(Oe)&&(tt.addClass(Oe,ui),Ze.add(ui),Lt=!0)}return Lt}),Te.conversion.for("editingDowncast").add(tt=>{function st(){Je.change(Lt=>{for(const Ft of Ze.values())Lt.removeClass(Oe,Ft),Ze.delete(Ft)})}tt.on("insert",st,{priority:"highest"}),tt.on("remove",st,{priority:"highest"}),tt.on("attribute",st,{priority:"highest"}),tt.on("selection",st,{priority:"highest"})})}},"./packages/ckeditor5-ui/src/index.ts":(p,_,l)=>{"use strict";function c({emitter:U,activator:r,callback:w,contextElements:F}){U.listenTo(document,"mousedown",(le,Me)=>{if(!r())return;const Fe=typeof Me.composedPath=="function"?Me.composedPath():[],it=typeof F=="function"?F():F;for(const Rt of it)if(Rt.contains(Me.target)||Fe.includes(Rt))return;w()})}function P(U){const r=U;r.set("_isCssTransitionsDisabled",!1),r.disableCssTransitions=()=>{r._isCssTransitionsDisabled=!0},r.enableCssTransitions=()=>{r._isCssTransitionsDisabled=!1},r.extendTemplate({attributes:{class:[r.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function B(U){return class extends U{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...r){super(...r),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function x({view:U}){U.listenTo(U.element,"submit",(r,w)=>{w.preventDefault(),U.fire("submit")},{useCapture:!0})}function h({keystrokeHandler:U,focusTracker:r,gridItems:w,numberOfColumns:F,uiLanguageDirection:le}){const Me=typeof F=="number"?()=>F:F;function Fe(fi){return zi=>{const bn=w.find(gn=>gn.element===r.focusedElement),Qo=w.getIndex(bn),yr=fi(Qo,w);w.get(yr).focus(),zi.stopPropagation(),zi.preventDefault()}}function it(fi,zi){return fi===zi-1?0:fi+1}function Rt(fi,zi){return fi===0?zi-1:fi-1}U.set("arrowright",Fe((fi,zi)=>le==="rtl"?Rt(fi,zi.length):it(fi,zi.length))),U.set("arrowleft",Fe((fi,zi)=>le==="rtl"?it(fi,zi.length):Rt(fi,zi.length))),U.set("arrowup",Fe((fi,zi)=>{let bn=fi-Me();return bn<0&&(bn=fi+Me()*Math.floor(zi.length/Me()),bn>zi.length-1&&(bn-=Me())),bn})),U.set("arrowdown",Fe((fi,zi)=>{let bn=fi+Me();return bn>zi.length-1&&(bn=fi%Me()),bn}))}l.d(_,{cH:()=>Bo,no:()=>Ln,Jf:()=>ks,ee:()=>Kr,BK:()=>bt,py:()=>eo,UR:()=>Q,r5:()=>Je,p2:()=>ws,J6:()=>hi,J2:()=>ii,MI:()=>tr,_9:()=>ui,_Y:()=>hr,WB:()=>io,RX:()=>B,J0:()=>H,G2:()=>Ki,_n:()=>wn,S8:()=>ao,fF:()=>Oo,LR:()=>gs(),I0:()=>ee,Gp:()=>vo,yd:()=>bs,mO:()=>Te,VY:()=>kr,r1:()=>to,Xs:()=>wi,pq:()=>oi,Em:()=>ri,Dn:()=>Le,KP:()=>gt,YK:()=>kn,dn:()=>Zi,Bv:()=>Sn,Hn:()=>go,P_:()=>Lr,$W:()=>Tn,ZU:()=>Ur,RO:()=>qr,Rm:()=>ho,lp:()=>_o,BM:()=>st,YS:()=>v,nC:()=>yi,qR:()=>ht,$y:()=>be,jB:()=>Ti,gE:()=>nn,G7:()=>u,vX:()=>Z,IJ:()=>h,Pm:()=>et,up:()=>Ue,eC:()=>c,t9:()=>Ae,FH:()=>mi,sh:()=>zt,R:()=>St,s$:()=>Wt,Mh:()=>It,k6:()=>Lt,ci:()=>ys,fe:()=>P,S1:()=>Ft,jY:()=>Yt,iw:()=>Ke,GI:()=>x});var j=l("./packages/ckeditor5-utils/src/index.ts");class Z extends j.FE{constructor(r=[]){super(r,{idProperty:"viewUid"}),this.on("add",(w,F,le)=>{this._renderViewIntoCollectionParent(F,le)}),this.on("remove",(w,F)=>{F.element&&this._parentElement&&F.element.remove()}),this._parentElement=null}destroy(){this.map(r=>r.destroy())}setParent(r){this._parentElement=r;for(const w of this)this._renderViewIntoCollectionParent(w)}delegate(...r){if(!r.length||!r.every(w=>typeof w=="string"))throw new j.Bb("ui-viewcollection-delegate-wrong-events",this);return{to:w=>{for(const F of this)for(const le of r)F.delegate(le).to(w);this.on("add",(F,le)=>{for(const Me of r)le.delegate(Me).to(w)}),this.on("remove",(F,le)=>{for(const Me of r)le.stopDelegating(Me,w)})}}}_renderViewIntoCollectionParent(r,w){r.isRendered||r.render(),r.element&&this._parentElement&&this._parentElement.insertBefore(r.element,this._parentElement.children[w])}remove(r){return super.remove(r)}}var Y=l("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),te=l.n(Y),oe=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/globals/globals.css"),ie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(oe.Z,ie),oe.Z.locals;class u extends(0,j.Xu)((0,j.Re)()){constructor(r){super(),this.element=null,this.isRendered=!1,this.locale=r,this.t=r&&r.t,this._viewCollections=new j.FE,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(w,F)=>{F.locale=r,F.t=r&&r.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=v.bind(this,this)}createCollection(r){const w=new Z(r);return this._viewCollections.add(w),w}registerChild(r){(0,j.TW)(r)||(r=[r]);for(const w of r)this._unboundChildren.add(w)}deregisterChild(r){(0,j.TW)(r)||(r=[r]);for(const w of r)this._unboundChildren.remove(w)}setTemplate(r){this.template=new v(r)}extendTemplate(r){v.extend(this.template,r)}render(){if(this.isRendered)throw new j.Bb("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(r=>r.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}var y=l("./node_modules/lodash-es/cloneDeepWith.js"),f=l("./node_modules/lodash-es/isObject.js");class v extends(0,j.ln)(){constructor(r){super(),Object.assign(this,D($(r))),this._isRendered=!1,this._revertData=null}render(){const r=this._renderNode({intoFragment:!0});return this._isRendered=!0,r}apply(r){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:r,intoFragment:!1,isApplying:!0,revertData:this._revertData}),r}revert(r){if(!this._revertData)throw new j.Bb("ui-template-revert-not-applied",[this,r]);this._revertTemplateFromNode(r,this._revertData)}*getViews(){yield*function*r(w){if(w.children)for(const F of w.children)mt(F)?yield F:lt(F)&&(yield*r(F))}(this)}static bind(r,w){return{to:(F,le)=>new T({eventNameOrFunction:F,attribute:F,observable:r,emitter:w,callback:le}),if:(F,le,Me)=>new E({observable:r,emitter:w,attribute:F,valueIfTrue:le,callback:Me})}}static extend(r,w){if(r._isRendered)throw new j.Bb("template-extend-render",[this,r]);Ie(r,D($(w)))}_renderNode(r){let w;if(w=r.node?this.tag&&this.text:this.tag?this.text:!this.text,w)throw new j.Bb("ui-template-wrong-syntax",this);return this.text?this._renderText(r):this._renderElement(r)}_renderElement(r){let w=r.node;return w||(w=r.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(r),this._renderElementChildren(r),this._setUpListeners(r),w}_renderText(r){let w=r.node;return w?r.revertData.text=w.textContent:w=r.node=document.createTextNode(""),ae(this.text)?this._bindToObservable({schema:this.text,updater:z(w),data:r}):w.textContent=this.text.join(""),w}_renderAttributes(r){if(!this.attributes)return;const w=r.node,F=r.revertData;for(const le in this.attributes){const Me=w.getAttribute(le),Fe=this.attributes[le];F&&(F.attributes[le]=Me);const it=dt(Fe)?Fe[0].ns:null;if(ae(Fe)){const Rt=dt(Fe)?Fe[0].value:Fe;F&&_t(le)&&Rt.unshift(Me),this._bindToObservable({schema:Rt,updater:b(w,le,it),data:r})}else if(le=="style"&&typeof Fe[0]!="string")this._renderStyleAttribute(Fe[0],r);else{F&&Me&&_t(le)&&Fe.unshift(Me);const Rt=Fe.map(fi=>fi&&fi.value||fi).reduce((fi,zi)=>fi.concat(zi),[]).reduce(Ee,"");De(Rt)||w.setAttributeNS(it,le,Rt)}}}_renderStyleAttribute(r,w){const F=w.node;for(const le in r){const Me=r[le];ae(Me)?this._bindToObservable({schema:[Me],updater:V(F,le),data:w}):F.style[le]=Me}}_renderElementChildren(r){const w=r.node,F=r.intoFragment?document.createDocumentFragment():w,le=r.isApplying;let Me=0;for(const Fe of this.children)if(ut(Fe)){if(!le){Fe.setParent(w);for(const it of Fe)F.appendChild(it.element)}}else if(mt(Fe))le||(Fe.isRendered||Fe.render(),F.appendChild(Fe.element));else if((0,j.UG)(Fe))F.appendChild(Fe);else if(le){const it={children:[],bindings:[],attributes:{}};r.revertData.children.push(it),Fe._renderNode({intoFragment:!1,node:F.childNodes[Me++],isApplying:!0,revertData:it})}else F.appendChild(Fe.render());r.intoFragment&&w.appendChild(F)}_setUpListeners(r){if(this.eventListeners)for(const w in this.eventListeners){const F=this.eventListeners[w].map(le=>{const[Me,Fe]=w.split("@");return le.activateDomEventListener(Me,Fe,r)});r.revertData&&r.revertData.bindings.push(F)}}_bindToObservable({schema:r,updater:w,data:F}){const le=F.revertData;q(r,w,F);const Me=r.filter(Fe=>!De(Fe)).filter(Fe=>Fe.observable).map(Fe=>Fe.activateAttributeListener(r,w,F));le&&le.bindings.push(Me)}_revertTemplateFromNode(r,w){for(const le of w.bindings)for(const Me of le)Me();if(w.text)return void(r.textContent=w.text);const F=r;for(const le in w.attributes){const Me=w.attributes[le];Me===null?F.removeAttribute(le):F.setAttribute(le,Me)}for(let le=0;le<w.children.length;++le)this._revertTemplateFromNode(F.childNodes[le],w.children[le])}}class A{constructor(r){this.attribute=r.attribute,this.observable=r.observable,this.emitter=r.emitter,this.callback=r.callback}getValue(r){const w=this.observable[this.attribute];return this.callback?this.callback(w,r):w}activateAttributeListener(r,w,F){const le=()=>q(r,w,F);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,le),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,le)}}}class T extends A{constructor(r){super(r),this.eventNameOrFunction=r.eventNameOrFunction}activateDomEventListener(r,w,F){const le=(Me,Fe)=>{w&&!Fe.target.matches(w)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(Fe):this.observable.fire(this.eventNameOrFunction,Fe))};return this.emitter.listenTo(F.node,r,le),()=>{this.emitter.stopListening(F.node,r,le)}}}class E extends A{constructor(r){super(r),this.valueIfTrue=r.valueIfTrue}getValue(r){return!De(super.getValue(r))&&(this.valueIfTrue||!0)}}function ae(U){return!!U&&(U.value&&(U=U.value),Array.isArray(U)?U.some(ae):U instanceof A)}function q(U,r,{node:w}){const F=function(Me,Fe){return Me.map(it=>it instanceof A?it.getValue(Fe):it)}(U,w);let le;le=U.length==1&&U[0]instanceof E?F[0]:F.reduce(Ee,""),De(le)?r.remove():r.set(le)}function z(U){return{set(r){U.textContent=r},remove(){U.textContent=""}}}function b(U,r,w){return{set(F){U.setAttributeNS(w,r,F)},remove(){U.removeAttributeNS(w,r)}}}function V(U,r){return{set(w){U.style[r]=w},remove(){U.style[r]=null}}}function $(U){return(0,y.Z)(U,r=>{if(r&&(r instanceof A||lt(r)||mt(r)||ut(r)))return r})}function D(U){if(typeof U=="string"?U=function(r){return{text:[r]}}(U):U.text&&function(r){r.text=(0,j.qo)(r.text)}(U),U.on&&(U.eventListeners=function(r){for(const w in r)re(r,w);return r}(U.on),delete U.on),!U.text){U.attributes&&function(w){for(const F in w)w[F].value&&(w[F].value=(0,j.qo)(w[F].value)),re(w,F)}(U.attributes);const r=[];if(U.children)if(ut(U.children))r.push(U.children);else for(const w of U.children)lt(w)||mt(w)||(0,j.UG)(w)?r.push(w):r.push(new v(w));U.children=r}return U}function re(U,r){U[r]=(0,j.qo)(U[r])}function Ee(U,r){return De(r)?U:De(U)?r:`${U} ${r}`}function je(U,r){for(const w in r)U[w]?U[w].push(...r[w]):U[w]=r[w]}function Ie(U,r){if(r.attributes&&(U.attributes||(U.attributes={}),je(U.attributes,r.attributes)),r.eventListeners&&(U.eventListeners||(U.eventListeners={}),je(U.eventListeners,r.eventListeners)),r.text&&U.text.push(...r.text),r.children&&r.children.length){if(U.children.length!=r.children.length)throw new j.Bb("ui-template-extend-children-mismatch",U);let w=0;for(const F of r.children)Ie(U.children[w++],F)}}function De(U){return!U&&U!==0}function mt(U){return U instanceof u}function lt(U){return U instanceof v}function ut(U){return U instanceof Z}function dt(U){return(0,f.Z)(U[0])&&U[0].ns}function _t(U){return U=="class"||U=="style"}class bt extends Z{constructor(r,w=[]){super(w),this.locale=r}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new v({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let r=document.querySelector(".ck-body-wrapper");r||(r=(0,j.az)(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(r)),r.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const r=document.querySelector(".ck-body-wrapper");r&&r.childElementCount==0&&r.remove()}}var Qe=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/icon/icon.css"),ft={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Qe.Z,ft),Qe.Z.locals;const Ve=class extends u{constructor(){super();const U=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",U.if("isVisible","ck-hidden",r=>!r),"ck-reset_all-excluded",U.if("isColorInherited","ck-icon_inherit-color")],viewBox:U.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const U=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),r=U.getAttribute("viewBox");r&&(this.viewBox=r);for(const{name:w,value:F}of Array.from(U.attributes))Ve.presentationalAttributeNames.includes(w)&&this.element.setAttribute(w,F);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;U.childNodes.length>0;)this.element.appendChild(U.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(U=>{U.style.fill=this.fillColor})}};let Te=Ve;Te.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class Q extends u{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const r=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:r.to("style"),id:r.to("id")},children:[{text:r.to("text")}]})}}var xe=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/button.css"),Oe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(xe.Z,Oe),xe.Z.locals;class Je extends u{constructor(r,w=new Q){super(r),this._focusDelayed=null;const F=this.bindTemplate,le=(0,j.hQ)();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${le}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(w),this.iconView=new Te,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const Me={tag:"button",attributes:{class:["ck","ck-button",F.to("class"),F.if("isEnabled","ck-disabled",Fe=>!Fe),F.if("isVisible","ck-hidden",Fe=>!Fe),F.to("isOn",Fe=>Fe?"ck-on":"ck-off"),F.if("withText","ck-button_with-text"),F.if("withKeystroke","ck-button_with-keystroke")],role:F.to("role"),type:F.to("type",Fe=>Fe||"button"),tabindex:F.to("tabindex"),"aria-label":F.to("ariaLabel"),"aria-labelledby":F.to("ariaLabelledBy"),"aria-disabled":F.if("isEnabled",!0,Fe=>!Fe),"aria-pressed":F.to("isOn",Fe=>!!this.isToggleable&&String(!!Fe)),"data-cke-tooltip-text":F.to("_tooltipString"),"data-cke-tooltip-position":F.to("tooltipPosition")},children:this.children,on:{click:F.to(Fe=>{this.isEnabled?this.fire("execute"):Fe.preventDefault()})}};j.OB.isSafari&&(this._focusDelayed||(this._focusDelayed=(0,j.gw)(()=>this.focus(),0)),Me.on.mousedown=F.to(()=>{this._focusDelayed()}),Me.on.mouseup=F.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(Me)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(r){return r.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),r}_createKeystrokeView(){const r=new u;return r.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",w=>(0,j.XU)(w))}]}),r}_getTooltipString(r,w,F){return r?typeof r=="string"?r:(F&&(F=(0,j.XU)(F)),r instanceof Function?r(w,F):`${w}${F?` (${F})`:""}`):""}}var Ze=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/switchbutton.css"),tt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Ze.Z,tt),Ze.Z.locals;class st extends Je{constructor(r){super(r),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const r=new u;return r.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),r}}function Lt(U,r){const w=U.t,F={Black:w("Black"),"Dim grey":w("Dim grey"),Grey:w("Grey"),"Light grey":w("Light grey"),White:w("White"),Red:w("Red"),Orange:w("Orange"),Yellow:w("Yellow"),"Light green":w("Light green"),Green:w("Green"),Aquamarine:w("Aquamarine"),Turquoise:w("Turquoise"),"Light blue":w("Light blue"),Blue:w("Blue"),Purple:w("Purple")};return r.map(le=>{const Me=F[le.label];return Me&&Me!=le.label&&(le.label=Me),le})}function Ft(U){return U.map(Yt).filter(r=>!!r)}function Yt(U){return typeof U=="string"?{model:U,label:U,hasBorder:!1,view:{name:"span",styles:{color:U}}}:{model:U.color,label:U.label||U.color,hasBorder:U.hasBorder!==void 0&&U.hasBorder,view:{name:"span",styles:{color:`${U.color}`}}}}class ui extends Je{constructor(r){super(r);const w=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',this.extendTemplate({attributes:{style:{backgroundColor:w.to("color")},class:["ck","ck-color-grid__tile",w.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var Nt=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorgrid/colorgrid.css"),ti={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Nt.Z,ti),Nt.Z.locals;class hi extends u{constructor(r,w){super(r);const F=w&&w.colorDefinitions?w.colorDefinitions:[];this.columns=w&&w.columns?w.columns:5;const le={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new j.Rh,this.keystrokes=new j.VD,this.items.on("add",(Me,Fe)=>{Fe.isOn=Fe.color===this.selectedColor}),F.forEach(Me=>{const Fe=new ui;Fe.set({color:Me.color,label:Me.label,tooltip:!0,hasBorder:Me.options.hasBorder}),Fe.on("execute",()=>{this.fire("execute",{value:Me.color,hasBorder:Me.options.hasBorder,label:Me.label})}),this.items.add(Fe)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:le}}),this.on("change:selectedColor",(Me,Fe,it)=>{for(const Rt of this.items)Rt.isOn=Rt.color===it})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const r of this.items)this.focusTracker.add(r.element);this.items.on("add",(r,w)=>{this.focusTracker.add(w.element)}),this.items.on("remove",(r,w)=>{this.focusTracker.remove(w.element)}),this.keystrokes.listenTo(this.element),h({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}var Ci=l("./node_modules/color-name/index.js");const Oi=function(U){var r,w,F=[],le=1;if(typeof U=="string")if(Ci[U])F=Ci[U].slice(),w="rgb";else if(U==="transparent")le=0,w="rgb",F=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(U)){var Me=U.slice(1);le=1,(Rt=Me.length)<=4?(F=[parseInt(Me[0]+Me[0],16),parseInt(Me[1]+Me[1],16),parseInt(Me[2]+Me[2],16)],Rt===4&&(le=parseInt(Me[3]+Me[3],16)/255)):(F=[parseInt(Me[0]+Me[1],16),parseInt(Me[2]+Me[3],16),parseInt(Me[4]+Me[5],16)],Rt===8&&(le=parseInt(Me[6]+Me[7],16)/255)),F[0]||(F[0]=0),F[1]||(F[1]=0),F[2]||(F[2]=0),w="rgb"}else if(r=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(U)){var Fe=r[1],it=Fe==="rgb";w=Me=Fe.replace(/a$/,"");var Rt=Me==="cmyk"?4:Me==="gray"?1:3;F=r[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(fi,zi){if(/%$/.test(fi))return zi===Rt?parseFloat(fi)/100:Me==="rgb"?255*parseFloat(fi)/100:parseFloat(fi);if(Me[zi]==="h"){if(/deg$/.test(fi))return parseFloat(fi);if(Di[fi]!==void 0)return Di[fi]}return parseFloat(fi)}),Fe===Me&&F.push(1),le=it||F[Rt]===void 0?1:F[Rt],F=F.slice(0,Rt)}else U.length>10&&/[0-9](?:\s|\/)/.test(U)&&(F=U.match(/([0-9]+)/g).map(function(fi){return parseFloat(fi)}),w=U.match(/([a-z])/gi).join("").toLowerCase());else isNaN(U)?Array.isArray(U)||U.length?(F=[U[0],U[1],U[2]],w="rgb",le=U.length===4?U[3]:1):U instanceof Object&&(U.r!=null||U.red!=null||U.R!=null?(w="rgb",F=[U.r||U.red||U.R||0,U.g||U.green||U.G||0,U.b||U.blue||U.B||0]):(w="hsl",F=[U.h||U.hue||U.H||0,U.s||U.saturation||U.S||0,U.l||U.lightness||U.L||U.b||U.brightness]),le=U.a||U.alpha||U.opacity||1,U.opacity!=null&&(le/=100)):(w="rgb",F=[U>>>16,(65280&U)>>>8,255&U]);return{space:w,values:F,alpha:le}};var Di={red:0,orange:60,yellow:120,green:180,blue:240,purple:300},Vi=l("./node_modules/color-convert/index.js");function Pi(U,r){if(!U)return"";const w=$i(U);if(!w)return"";if(w.space===r)return U;if(F=w,!Object.keys(Vi).includes(F.space))return"";var F;const le=Vi[w.space][r];return le?function(Me,Fe){switch(Fe){case"hex":return`#${Me}`;case"rgb":return`rgb( ${Me[0]}, ${Me[1]}, ${Me[2]} )`;case"hsl":return`hsl( ${Me[0]}, ${Me[1]}%, ${Me[2]}% )`;case"hwb":return`hwb( ${Me[0]}, ${Me[1]}, ${Me[2]} )`;case"lab":return`lab( ${Me[0]}% ${Me[1]} ${Me[2]} )`;case"lch":return`lch( ${Me[0]}% ${Me[1]} ${Me[2]} )`;default:return""}}(le(w.space==="hex"?w.hexValue:w.values),r):""}function $i(U){if(U.startsWith("#")){const w=Oi(U);return{space:"hex",values:w.values,hexValue:U,alpha:w.alpha}}const r=Oi(U);return r.space?r:null}var at=l("./node_modules/lodash-es/debounce.js"),ue=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/label/label.css"),ye={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(ue.Z,ye),ue.Z.locals;class Le extends u{constructor(r){super(r),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${(0,j.hQ)()}`;const w=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:w.to("for")},children:[{text:w.to("text")}]})}}var Ge=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css"),rt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Ge.Z,rt),Ge.Z.locals;class gt extends u{constructor(r,w){super(r);const F=`ck-labeled-field-view-${(0,j.hQ)()}`,le=`ck-labeled-field-view-status-${(0,j.hQ)()}`;this.fieldView=w(this,F,le),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(F),this.statusView=this._createStatusView(le),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(Fe,it)=>Fe||it);const Me=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",Me.to("class"),Me.if("isEnabled","ck-disabled",Fe=>!Fe),Me.if("isEmpty","ck-labeled-field-view_empty"),Me.if("isFocused","ck-labeled-field-view_focused"),Me.if("placeholder","ck-labeled-field-view_placeholder"),Me.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(r){const w=new Le(this.locale);return w.for=r,w.bind("text").to(this,"label"),w}_createStatusView(r){const w=new u(this.locale),F=this.bindTemplate;return w.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",F.if("errorText","ck-labeled-field-view__status_error"),F.if("_statusText","ck-hidden",le=>!le)],id:r,role:F.if("errorText","alert")},children:[{text:F.to("_statusText")}]}),w}focus(r){this.fieldView.focus(r)}}class Ot extends u{constructor(r){super(r),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new j.Rh,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const w=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",w.if("isFocused","ck-input_focused"),w.if("isEmpty","ck-input-text_empty"),w.if("hasError","ck-error")],id:w.to("id"),placeholder:w.to("placeholder"),readonly:w.to("isReadOnly"),"aria-invalid":w.if("hasError",!0),"aria-describedby":w.to("ariaDescribedById")},on:{input:w.to((...F)=>{this.fire("input",...F),this._updateIsEmpty()}),change:w.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(r,w,F)=>{this._setDomElementValue(F),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(r){this.element.value=r||r===0?r:""}}var Mt=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/input/input.css"),Ut={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Mt.Z,Ut),Mt.Z.locals;class ri extends Ot{constructor(r){super(r),this.set("inputMode","text");const w=this.bindTemplate;this.extendTemplate({attributes:{inputmode:w.to("inputMode")}})}}class oi extends ri{constructor(r){super(r),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class wi extends ri{constructor(r,{min:w,max:F,step:le}={}){super(r);const Me=this.bindTemplate;this.set("min",w),this.set("max",F),this.set("step",le),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:Me.to("min"),max:Me.to("max"),step:Me.to("step")}})}}var Ii=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/textarea/textarea.css"),Li={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Ii.Z,Li),Ii.Z.locals;class yi extends Ot{constructor(r){super(r);const w=(0,j.nn)("px");this.set("minRows",2),this.set("maxRows",5),this.set("_height",null),this.set("resize","none"),this.on("change:minRows",this._validateMinMaxRows.bind(this)),this.on("change:maxRows",this._validateMinMaxRows.bind(this));const F=this.bindTemplate;this.template.tag="textarea",this.extendTemplate({attributes:{class:["ck-textarea"],style:{height:F.to("_height",le=>le?w(le):null),resize:F.to("resize")},rows:F.to("minRows")}})}render(){super.render(),this.on("input",()=>{this._updateAutoGrowHeight(!0),this.fire("update")}),this.on("change:value",()=>{j.global.window.requestAnimationFrame(()=>{(0,j.pn)(this.element)&&(this._updateAutoGrowHeight(),this.fire("update"))})})}reset(){super.reset(),this._updateAutoGrowHeight(),this.fire("update")}_updateAutoGrowHeight(r){const w=this.element,F=ji(w,"1"),le=ji(w,w.value),Me=F.ownerDocument.defaultView.getComputedStyle(F),Fe=parseFloat(Me.paddingTop)+parseFloat(Me.paddingBottom),it=(0,j.lo)(F),Rt=parseFloat(Me.lineHeight),fi=it.top+it.bottom,zi=new j.UL(F).height,bn=Math.round((le.scrollHeight-Fe)/Rt),Qo=this.maxRows*Rt+Fe+fi,yr=bn===1?zi:this.minRows*Rt+Fe+fi;this._height=Math.min(Math.max(Math.max(bn,this.minRows)*Rt+Fe+fi,yr),Qo),r&&(w.scrollTop=w.scrollHeight),F.remove(),le.remove()}_validateMinMaxRows(){if(this.minRows>this.maxRows)throw new j.Bb("ui-textarea-view-min-rows-greater-than-max-rows",{textareaView:this,minRows:this.minRows,maxRows:this.maxRows})}}function ji(U,r){const w=U.cloneNode();return w.style.position="absolute",w.style.top="-99999px",w.style.left="-99999px",w.style.height="auto",w.style.overflow="hidden",w.style.width=U.ownerDocument.defaultView.getComputedStyle(U).width,w.tabIndex=-1,w.rows=1,w.value=r,U.parentNode.insertBefore(w,U),w}class Ki extends u{constructor(r){super(r);const w=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",w.to("position",F=>`ck-dropdown__panel_${F}`),w.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:w.to(F=>{F.target.tagName.toLocaleLowerCase()!=="input"&&F.preventDefault()})}})}focus(){if(this.children.length){const r=this.children.first;typeof r.focus=="function"?r.focus():(0,j.KE)("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const r=this.children.last;typeof r.focusLast=="function"?r.focusLast():r.focus()}}}var Mi=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/dropdown.css"),tn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Mi.Z,tn),Mi.Z.locals;const $t=class extends u{constructor(U,r,w){super(U);const F=this.bindTemplate;this.buttonView=r,this.panelView=w,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new j.VD,this.focusTracker=new j.Rh,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",F.to("class"),F.if("isEnabled","ck-disabled",le=>!le)],id:F.to("id"),"aria-describedby":F.to("ariaDescribedById")},children:[r,w]}),r.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":F.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(r,w,F)=>{if(F)if(this.panelPosition==="auto"){const le=$t._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=le?le.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const U=(r,w)=>{this.isOpen&&(this.isOpen=!1,w())};this.keystrokes.set("arrowdown",(r,w)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,w())}),this.keystrokes.set("arrowright",(r,w)=>{this.isOpen&&w()}),this.keystrokes.set("arrowleft",U),this.keystrokes.set("esc",U)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:U,north:r,southEast:w,southWest:F,northEast:le,northWest:Me,southMiddleEast:Fe,southMiddleWest:it,northMiddleEast:Rt,northMiddleWest:fi}=$t.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[w,F,Fe,it,U,le,Me,Rt,fi,r]:[F,w,it,Fe,U,Me,le,fi,Rt,r]}};let wn=$t;wn.defaultPanelPositions={south:(U,r)=>({top:U.bottom,left:U.left-(r.width-U.width)/2,name:"s"}),southEast:U=>({top:U.bottom,left:U.left,name:"se"}),southWest:(U,r)=>({top:U.bottom,left:U.left-r.width+U.width,name:"sw"}),southMiddleEast:(U,r)=>({top:U.bottom,left:U.left-(r.width-U.width)/4,name:"sme"}),southMiddleWest:(U,r)=>({top:U.bottom,left:U.left-3*(r.width-U.width)/4,name:"smw"}),north:(U,r)=>({top:U.top-r.height,left:U.left-(r.width-U.width)/2,name:"n"}),northEast:(U,r)=>({top:U.top-r.height,left:U.left,name:"ne"}),northWest:(U,r)=>({top:U.top-r.height,left:U.left-r.width+U.width,name:"nw"}),northMiddleEast:(U,r)=>({top:U.top-r.height,left:U.left-(r.width-U.width)/4,name:"nme"}),northMiddleWest:(U,r)=>({top:U.top-r.height,left:U.left-3*(r.width-U.width)/4,name:"nmw"})},wn._getOptimalPosition=j.xZ;const Ne='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class H extends Je{constructor(r){super(r),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",w=>String(w))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const r=new Te;return r.content=Ne,r.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),r}}class ee extends(0,j.ln)(){constructor(r){if(super(),this.focusables=r.focusables,this.focusTracker=r.focusTracker,this.keystrokeHandler=r.keystrokeHandler,this.actions=r.actions,r.actions&&r.keystrokeHandler)for(const w in r.actions){let F=r.actions[w];typeof F=="string"&&(F=[F]);for(const le of F)r.keystrokeHandler.set(le,(Me,Fe)=>{this[w](),Fe()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(se)||null}get last(){return this.focusables.filter(se).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let r=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((w,F)=>{const le=w.element===this.focusTracker.focusedElement;return le&&(r=F),le}),r)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const r=this.next;r&&this.focusables.getIndex(r)===this.current||(r===this.first?this.fire("forwardCycle"):this._focus(r,1))}focusPrevious(){const r=this.previous;r&&this.focusables.getIndex(r)===this.current||(r===this.last?this.fire("backwardCycle"):this._focus(r,-1))}_focus(r,w){r&&r.focus(w)}_getFocusableItem(r){const w=this.current,F=this.focusables.length;if(!F)return null;if(w===null)return this[r===1?"first":"last"];let le=(w+F+r)%F;do{const Me=this.focusables.get(le);if(se(Me))return Me;le=(le+F+r)%F}while(le!==w);return null}}function se(U){return!(!("focus"in U)||!(0,j.pn)(U.element))}class be extends u{constructor(r){super(r),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class ht extends u{constructor(r){super(r),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var jt=Object.defineProperty,Qt=Object.getOwnPropertySymbols,yt=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable,ze=(U,r,w)=>r in U?jt(U,r,{enumerable:!0,configurable:!0,writable:!0,value:w}):U[r]=w,nt=(U,r)=>{for(var w in r||(r={}))yt.call(r,w)&&ze(U,w,r[w]);if(Qt)for(var w of Qt(r))Ce.call(r,w)&&ze(U,w,r[w]);return U};function Ke(U){if(Array.isArray(U))return{items:U,removeItems:[]};const r={items:[],removeItems:[]};return U?nt(nt({},r),U):r}var xt=l("./packages/ckeditor5-core/src/index.ts"),si=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/toolbar.css"),ni={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(si.Z,ni),si.Z.locals;const{threeVerticalDots:ki}=xt.icons,di={alignLeft:xt.icons.alignLeft,bold:xt.icons.bold,importExport:xt.icons.importExport,paragraph:xt.icons.paragraph,plus:xt.icons.plus,text:xt.icons.text,threeVerticalDots:xt.icons.threeVerticalDots,pilcrow:xt.icons.pilcrow,dragIndicator:xt.icons.dragIndicator};class Ti extends u{constructor(r,w){super(r);const F=this.bindTemplate,le=this.t;this.options=w||{},this.set("ariaLabel",le("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new j.Rh,this.keystrokes=new j.VD,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Ni(r),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const Me=r.uiLanguageDirection==="rtl";this._focusCycler=new ee({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[Me?"arrowright":"arrowleft","arrowup"],focusNext:[Me?"arrowleft":"arrowright","arrowdown"]}});const Fe=["ck","ck-toolbar",F.to("class"),F.if("isCompact","ck-toolbar_compact")];var it;this.options.shouldGroupWhenFull&&this.options.isFloating&&Fe.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:Fe,role:"toolbar","aria-label":F.to("ariaLabel"),style:{maxWidth:F.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(it=this,it.bindTemplate.to(Rt=>{Rt.target===it.element&&Rt.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new on(this):new Gi(this)}render(){super.render(),this.focusTracker.add(this.element);for(const r of this.items)this.focusTracker.add(r.element);this.items.on("add",(r,w)=>{this.focusTracker.add(w.element)}),this.items.on("remove",(r,w)=>{this.focusTracker.remove(w.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(r,w,F){this.items.addMany(this._buildItemsFromConfig(r,w,F))}_buildItemsFromConfig(r,w,F){const le=Ke(r),Me=F||le.removeItems;return this._cleanItemsConfiguration(le.items,w,Me).map(Fe=>(0,f.Z)(Fe)?this._createNestedToolbarDropdown(Fe,w,Me):Fe==="|"?new be:Fe==="-"?new ht:w.create(Fe)).filter(Fe=>!!Fe)}_cleanItemsConfiguration(r,w,F){const le=r.filter((Me,Fe,it)=>Me==="|"||F.indexOf(Me)===-1&&(Me==="-"?!this.options.shouldGroupWhenFull||((0,j.KE)("toolbarview-line-break-ignored-when-grouping-items",it),!1):!(!(0,f.Z)(Me)&&!w.has(Me))||((0,j.KE)("toolbarview-item-unavailable",{item:Me}),!1)));return this._cleanSeparatorsAndLineBreaks(le)}_cleanSeparatorsAndLineBreaks(r){const w=Fe=>Fe!=="-"&&Fe!=="|",F=r.length,le=r.findIndex(w);if(le===-1)return[];const Me=F-r.slice().reverse().findIndex(w);return r.slice(le,Me).filter((Fe,it,Rt)=>w(Fe)?!0:!(it>0&&Rt[it-1]===Fe))}_createNestedToolbarDropdown(r,w,F){let{label:le,icon:Me,items:Fe,tooltip:it=!0,withText:Rt=!1}=r;if(Fe=this._cleanItemsConfiguration(Fe,w,F),!Fe.length)return null;const fi=Ae(this.locale);return le||(0,j.KE)("toolbarview-nested-toolbar-dropdown-missing-label",r),fi.class="ck-toolbar__nested-toolbar-dropdown",fi.buttonView.set({label:le,tooltip:it,withText:!!Rt}),Me!==!1?fi.buttonView.icon=di[Me]||Me||ki:fi.buttonView.withText=!0,Ue(fi,()=>fi.toolbarView._buildItemsFromConfig(Fe,w,F)),fi}}class Ni extends u{constructor(r){super(r),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Gi{constructor(r){const w=r.bindTemplate;r.set("isVertical",!1),r.itemsView.children.bindTo(r.items).using(F=>F),r.focusables.bindTo(r.items).using(F=>F),r.extendTemplate({attributes:{class:[w.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class on{constructor(r){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=r,this.viewChildren=r.children,this.viewFocusables=r.focusables,this.viewItemsView=r.itemsView,this.viewFocusTracker=r.focusTracker,this.viewLocale=r.locale,this.ungroupedItems=r.createCollection(),this.groupedItems=r.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),r.itemsView.children.bindTo(this.ungroupedItems).using(w=>w),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),r.children.on("change",this._updateFocusCycleableItems.bind(this)),r.items.on("change",(w,F)=>{const le=F.index,Me=Array.from(F.added);for(const Fe of F.removed)le>=this.ungroupedItems.length?this.groupedItems.remove(Fe):this.ungroupedItems.remove(Fe);for(let Fe=le;Fe<le+Me.length;Fe++){const it=Me[Fe-le];Fe>this.ungroupedItems.length?this.groupedItems.add(it,Fe-this.ungroupedItems.length):this.ungroupedItems.add(it,Fe)}this._updateGrouping()}),r.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(r){this.viewElement=r.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(r)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!(0,j.pn)(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const r=this.groupedItems.length;let w;for(;this._areItemsOverflowing;)this._groupLastItem(),w=!0;if(!w&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==r&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const r=this.viewElement,w=this.viewLocale.uiLanguageDirection,F=new j.UL(r.lastChild),le=new j.UL(r);if(!this.cachedPadding){const Me=j.global.window.getComputedStyle(r),Fe=w==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(Me[Fe])}return w==="ltr"?F.right>le.right-this.cachedPadding:F.left<le.left+this.cachedPadding}_enableGroupingOnResize(){let r;this.resizeObserver=new j.do(this.viewElement,w=>{r&&r===w.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),r=w.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(r){r.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new be),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const r=this.viewLocale,w=r.t,F=Ae(r);return F.class="ck-toolbar__grouped-dropdown",F.panelPosition=r.uiLanguageDirection==="ltr"?"sw":"se",Ue(F,this.groupedItems),F.buttonView.set({label:w("Show more items"),tooltip:!0,tooltipPosition:r.uiLanguageDirection==="rtl"?"se":"sw",icon:ki}),F}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(r=>{this.viewFocusables.add(r)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Zi extends u{constructor(r){super(r);const w=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",w.if("isVisible","ck-hidden",F=>!F)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class hn extends u{constructor(r){super(r),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class kn extends u{constructor(r,w=new Le){super(r);const F=this.bindTemplate,le=new Sn(r);this.set({label:"",isVisible:!0}),this.labelView=w,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,le]),le.set({role:"group",ariaLabelledBy:w.id}),le.focusTracker.destroy(),le.keystrokes.destroy(),this.items=le.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",F.if("isVisible","ck-hidden",Me=>!Me)]},children:this.children})}focus(){if(this.items){const r=this.items.find(w=>!(w instanceof hn));r&&r.focus()}}}var qn=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/list/list.css"),rn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(qn.Z,rn),qn.Z.locals;class Sn extends u{constructor(r){super(r),this._listItemGroupToChangeListeners=new WeakMap;const w=this.bindTemplate;this.focusables=new Z,this.items=this.createCollection(),this.focusTracker=new j.Rh,this.keystrokes=new j.VD,this._focusCycler=new ee({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:w.to("role"),"aria-label":w.to("ariaLabel"),"aria-labelledby":w.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const r of this.items)r instanceof kn?this._registerFocusableItemsGroup(r):r instanceof Zi&&this._registerFocusableListItem(r);this.items.on("change",(r,w)=>{for(const F of w.removed)F instanceof kn?this._deregisterFocusableItemsGroup(F):this._deregisterFocusableListItem(F);for(const F of Array.from(w.added).reverse())F instanceof kn?this._registerFocusableItemsGroup(F,w.index):this._registerFocusableListItem(F,w.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(r,w){this.focusTracker.add(r.element),this.focusables.add(r,w)}_deregisterFocusableListItem(r){this.focusTracker.remove(r.element),this.focusables.remove(r)}_getOnGroupItemsChangeCallback(r){return(w,F)=>{for(const le of F.removed)this._deregisterFocusableListItem(le);for(const le of Array.from(F.added).reverse())this._registerFocusableListItem(le,this.items.getIndex(r)+F.index)}}_registerFocusableItemsGroup(r,w){Array.from(r.items).forEach((le,Me)=>{const Fe=w!==void 0?w+Me:void 0;this._registerFocusableListItem(le,Fe)});const F=this._getOnGroupItemsChangeCallback(r);this._listItemGroupToChangeListeners.set(r,F),r.items.on("change",F)}_deregisterFocusableItemsGroup(r){for(const w of r.items)this._deregisterFocusableListItem(w);r.items.off("change",this._listItemGroupToChangeListeners.get(r)),this._listItemGroupToChangeListeners.delete(r)}}var In=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/splitbutton.css"),Yn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(In.Z,Yn),In.Z.locals;class ho extends u{constructor(r,w){super(r);const F=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(w),this.arrowView=this._createArrowView(),this.keystrokes=new j.VD,this.focusTracker=new j.Rh,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",F.to("class"),F.if("isVisible","ck-hidden",le=>!le),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(r,w)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),w())}),this.keystrokes.set("arrowleft",(r,w)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),w())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(r){const w=r||new Je;return r||w.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),w.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),w.delegate("execute").to(this),w}_createArrowView(){const r=new Je,w=r.bindTemplate;return r.icon=Ne,r.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":w.to("isOn"),"aria-haspopup":!0,"aria-expanded":w.to("isOn",F=>String(F))}}),r.bind("isEnabled").to(this),r.bind("label").to(this),r.bind("tooltip").to(this),r.delegate("execute").to(this,"open"),r}}var oo=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css"),ro={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(oo.Z,ro),oo.Z.locals;var Ht=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/listdropdown.css"),K={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Ht.Z,K),Ht.Z.locals;function Ae(U,r=H){const w=typeof r=="function"?new r(U):r,F=new Ki(U),le=new wn(U,w,F);return w.bind("isEnabled").to(le),w instanceof ho?w.arrowView.bind("isOn").to(le,"isOpen"):w.bind("isOn").to(le,"isOpen"),function(Me){(function(Fe){Fe.on("render",()=>{c({emitter:Fe,activator:()=>Fe.isOpen,callback:()=>{Fe.isOpen=!1},contextElements:()=>[Fe.element,...Fe.focusTracker._elements]})})})(Me),function(Fe){Fe.on("execute",it=>{it.source instanceof st||(Fe.isOpen=!1)})}(Me),function(Fe){Fe.focusTracker.on("change:isFocused",(it,Rt,fi)=>{Fe.isOpen&&!fi&&(Fe.isOpen=!1)})}(Me),function(Fe){Fe.keystrokes.set("arrowdown",(it,Rt)=>{Fe.isOpen&&(Fe.panelView.focus(),Rt())}),Fe.keystrokes.set("arrowup",(it,Rt)=>{Fe.isOpen&&(Fe.panelView.focusLast(),Rt())})}(Me),function(Fe){Fe.on("change:isOpen",(it,Rt,fi)=>{if(fi)return;const zi=Fe.panelView.element;zi&&zi.contains(j.global.document.activeElement)&&Fe.buttonView.focus()})}(Me),function(Fe){Fe.on("change:isOpen",(it,Rt,fi)=>{fi&&Fe.panelView.focus()},{priority:"low"})}(Me)}(le),le}function Ue(U,r,w={}){U.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),U.isOpen?Be(U,r,w):U.once("change:isOpen",()=>Be(U,r,w),{priority:"highest"}),w.enableActiveItemFocusOnDropdownOpen&&It(U,()=>U.toolbarView.items.find(F=>F.isOn))}function Be(U,r,w){const F=U.locale,le=F.t,Me=U.toolbarView=new Ti(F),Fe=typeof r=="function"?r():r;Me.ariaLabel=w.ariaLabel||le("Dropdown toolbar"),w.maxWidth&&(Me.maxWidth=w.maxWidth),w.class&&(Me.class=w.class),w.isCompact&&(Me.isCompact=w.isCompact),w.isVertical&&(Me.isVertical=!0),Fe instanceof Z?Me.items.bindTo(Fe).using(it=>it):Me.items.addMany(Fe),U.panelView.children.add(Me),Me.items.delegate("execute").to(U)}function et(U,r,w={}){U.isOpen?Xe(U,r,w):U.once("change:isOpen",()=>Xe(U,r,w),{priority:"highest"}),It(U,()=>U.listView.items.find(F=>F instanceof Zi&&F.children.first.isOn))}function Xe(U,r,w){const F=U.locale,le=U.listView=new Sn(F),Me=typeof r=="function"?r():r;le.ariaLabel=w.ariaLabel,le.role=w.role,vt(U,le.items,Me,F),U.panelView.children.add(le),le.items.delegate("execute").to(U)}function It(U,r){U.on("change:isOpen",()=>{if(!U.isOpen)return;const w=r();w&&(typeof w.focus=="function"?w.focus():(0,j.KE)("ui-dropdown-focus-child-on-open-child-missing-focus",{view:w}))},{priority:j.tA.low-10})}function vt(U,r,w,F){r.bindTo(w).using(le=>{if(le.type==="separator")return new hn(F);if(le.type==="group"){const Me=new kn(F);return Me.set({label:le.label}),vt(U,Me.items,le.items,F),Me.items.delegate("execute").to(U),Me}if(le.type==="button"||le.type==="switchbutton"){const Me=new Zi(F);let Fe;return le.type==="button"?(Fe=new Je(F),Fe.extendTemplate({attributes:{"aria-checked":Fe.bindTemplate.to("isOn")}})):Fe=new st(F),Fe.bind(...Object.keys(le.model)).to(le.model),Fe.delegate("execute").to(Me),Me.children.add(Fe),Me}return null})}const St=(U,r,w)=>{const F=new oi(U.locale);return F.set({id:r,ariaDescribedById:w}),F.bind("isReadOnly").to(U,"isEnabled",le=>!le),F.bind("hasError").to(U,"errorText",le=>!!le),F.on("input",()=>{U.errorText=null}),U.bind("isEmpty","isFocused","placeholder").to(F),F},zt=(U,r,w)=>{const F=new wi(U.locale);return F.set({id:r,ariaDescribedById:w,inputMode:"numeric"}),F.bind("isReadOnly").to(U,"isEnabled",le=>!le),F.bind("hasError").to(U,"errorText",le=>!!le),F.on("input",()=>{U.errorText=null}),U.bind("isEmpty","isFocused","placeholder").to(F),F},Wt=(U,r,w)=>{const F=new yi(U.locale);return F.set({id:r,ariaDescribedById:w}),F.bind("isReadOnly").to(U,"isEnabled",le=>!le),F.bind("hasError").to(U,"errorText",le=>!!le),F.on("input",()=>{U.errorText=null}),U.bind("isEmpty","isFocused","placeholder").to(F),F},mi=(U,r,w)=>{const F=Ae(U.locale);return F.set({id:r,ariaDescribedById:w}),F.bind("isEnabled").to(U),F},ai=(U,r=0,w=1)=>U>w?w:U<r?r:U,gi=(U,r=0,w=Math.pow(10,r))=>Math.round(w*U)/w,Ri=U=>(U[0]==="#"&&(U=U.substring(1)),U.length<6?{r:parseInt(U[0]+U[0],16),g:parseInt(U[1]+U[1],16),b:parseInt(U[2]+U[2],16),a:U.length===4?gi(parseInt(U[3]+U[3],16)/255,2):1}:{r:parseInt(U.substring(0,2),16),g:parseInt(U.substring(2,4),16),b:parseInt(U.substring(4,6),16),a:U.length===8?gi(parseInt(U.substring(6,8),16)/255,2):1}),Qi=({h:U,s:r,v:w,a:F})=>{const le=(200-r)*w/100;return{h:gi(U),s:gi(le>0&&le<200?r*w/100/(le<=100?le:200-le)*100:0),l:gi(le/2),a:gi(F,2)}},Pn=U=>{const{h:r,s:w,l:F}=Qi(U);return`hsl(${r}, ${w}%, ${F}%)`},Mn=({h:U,s:r,v:w,a:F})=>{U=U/360*6,r/=100,w/=100;const le=Math.floor(U),Me=w*(1-r),Fe=w*(1-(U-le)*r),it=w*(1-(1-U+le)*r),Rt=le%6;return{r:gi(255*[w,Fe,Me,Me,it,w][Rt]),g:gi(255*[it,w,w,Fe,Me,Me][Rt]),b:gi(255*[Me,Me,it,w,w,Fe][Rt]),a:gi(F,2)}},Qn=U=>{const r=U.toString(16);return r.length<2?"0"+r:r},Kn=({r:U,g:r,b:w,a:F})=>{const le=F<1?Qn(gi(255*F)):"";return"#"+Qn(U)+Qn(r)+Qn(w)+le},Rn=({r:U,g:r,b:w,a:F})=>{const le=Math.max(U,r,w),Me=le-Math.min(U,r,w),Fe=Me?le===U?(r-w)/Me:le===r?2+(w-U)/Me:4+(U-r)/Me:0;return{h:gi(60*(Fe<0?Fe+6:Fe)),s:gi(le?Me/le*100:0),v:gi(le/255*100),a:F}},mo=(U,r)=>{if(U===r)return!0;for(const w in U)if(U[w]!==r[w])return!1;return!0},xo={},Nn=U=>{let r=xo[U];return r||(r=document.createElement("template"),r.innerHTML=U,xo[U]=r),r},so=(U,r,w)=>{U.dispatchEvent(new CustomEvent(r,{bubbles:!0,detail:w}))};let zn=!1;const _e=U=>"touches"in U,k=(U,r)=>{const w=_e(r)?r.touches[0]:r,F=U.el.getBoundingClientRect();so(U.el,"move",U.getMove({x:ai((w.pageX-(F.left+window.pageXOffset))/F.width),y:ai((w.pageY-(F.top+window.pageYOffset))/F.height)}))};class d{constructor(r,w,F,le){const Me=Nn(`<div role="slider" tabindex="0" part="${w}" ${F}><div part="${w}-pointer"></div></div>`);r.appendChild(Me.content.cloneNode(!0));const Fe=r.querySelector(`[part=${w}]`);Fe.addEventListener("mousedown",this),Fe.addEventListener("touchstart",this),Fe.addEventListener("keydown",this),this.el=Fe,this.xy=le,this.nodes=[Fe.firstChild,Fe]}set dragging(r){const w=r?document.addEventListener:document.removeEventListener;w(zn?"touchmove":"mousemove",this),w(zn?"touchend":"mouseup",this)}handleEvent(r){switch(r.type){case"mousedown":case"touchstart":if(r.preventDefault(),!(w=>!(zn&&!_e(w)||(zn||(zn=_e(w)),0)))(r)||!zn&&r.button!=0)return;this.el.focus(),k(this,r),this.dragging=!0;break;case"mousemove":case"touchmove":r.preventDefault(),k(this,r);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((w,F)=>{const le=F.keyCode;le>40||w.xy&&le<37||le<33||(F.preventDefault(),so(w.el,"move",w.getMove({x:le===39?.01:le===37?-.01:le===34?.05:le===33?-.05:le===35?1:le===36?-1:0,y:le===40?.01:le===38?-.01:0},!0)))})(this,r)}}style(r){r.forEach((w,F)=>{for(const le in w)this.nodes[F].style.setProperty(le,w[le])})}}class I extends d{constructor(r){super(r,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:r}){this.h=r,this.style([{left:r/360*100+"%",color:Pn({h:r,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${gi(r)}`)}getMove(r,w){return{h:w?ai(this.h+360*r.x,0,360):360*r.x}}}class N extends d{constructor(r){super(r,"saturation",'aria-label="Color"',!0)}update(r){this.hsva=r,this.style([{top:100-r.v+"%",left:`${r.s}%`,color:Pn(r)},{"background-color":Pn({h:r.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${gi(r.s)}%, Brightness ${gi(r.v)}%`)}getMove(r,w){return{s:w?ai(this.hsva.s+100*r.x,0,100):100*r.x,v:w?ai(this.hsva.v-100*r.y,0,100):Math.round(100-100*r.y)}}}const X=Symbol("same"),ce=Symbol("color"),pe=Symbol("hsva"),he=Symbol("update"),ve=Symbol("parts"),Re=Symbol("css"),We=Symbol("sliders");class Ye extends HTMLElement{static get observedAttributes(){return["color"]}get[Re](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[We](){return[N,I]}get color(){return this[ce]}set color(r){if(!this[X](r)){const w=this.colorModel.toHsva(r);this[he](w),this[ce]=r}}constructor(){super();const r=Nn(`<style>${this[Re].join("")}</style>`),w=this.attachShadow({mode:"open"});w.appendChild(r.content.cloneNode(!0)),w.addEventListener("move",this),this[ve]=this[We].map(F=>new F(w))}connectedCallback(){if(this.hasOwnProperty("color")){const r=this.color;delete this.color,this.color=r}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(r,w,F){const le=this.colorModel.fromAttr(F);this[X](le)||(this.color=le)}handleEvent(r){const w=this[pe],F={...w,...r.detail};let le;this[he](F),mo(F,w)||this[X](le=this.colorModel.fromHsva(F))||(this[ce]=le,so(this,"color-changed",{value:le}))}[X](r){return this.color&&this.colorModel.equal(r,this.color)}[he](r){this[pe]=r,this[ve].forEach(w=>w.update(r))}}const pt={defaultColor:"#000",toHsva:U=>Rn(Ri(U)),fromHsva:({h:U,s:r,v:w})=>Kn(Mn({h:U,s:r,v:w,a:1})),equal:(U,r)=>U.toLowerCase()===r.toLowerCase()||mo(Ri(U),Ri(r)),fromAttr:U=>U};class Tt extends Ye{get colorModel(){return pt}}customElements.define("hex-color-picker",class extends Tt{});var Pt=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"),Ct={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Pt.Z,Ct),Pt.Z.locals;class ii extends u{constructor(r,w={}){super(r),this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const F=this.createCollection();w.hideInput||F.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:F}),this._config=w,this._debounceColorPickerEvent=(0,at.Z)(le=>{this.set("color",le),this.fire("colorSelected",{color:this.color})},150,{leading:!0}),this.on("set:color",(le,Me,Fe)=>{le.return=Pi(Fe,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=Jt(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),Jt(this.color)!=Jt(this._hexColor)&&(this.color=this._hexColor)})}render(){if(super.render(),this.picker=j.global.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const r=document.createElement("style");r.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(r)}this.picker.addEventListener("color-changed",r=>{const w=r.detail.value;this._debounceColorPickerEvent(w)})}focus(){!this._config.hideInput&&(j.OB.isGecko||j.OB.isiOS||j.OB.isSafari)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const r=[...this.picker.shadowRoot.children].filter(w=>w.getAttribute("role")==="slider").map(w=>new bi(w));this.slidersView=this.createCollection(),r.forEach(w=>{this.slidersView.add(w)})}_createInputRow(){const r=new Ei,w=this._createColorInput();return new Hi(this.locale,[r,w])}_createColorInput(){const r=new gt(this.locale,St),{t:w}=this.locale;return r.set({label:w("HEX"),class:"color-picker-hex-input"}),r.fieldView.bind("value").to(this,"_hexColor",F=>r.isFocused?r.fieldView.value:F.startsWith("#")?F.substring(1):F),r.fieldView.on("input",()=>{const F=r.fieldView.element.value;if(F){const le=F.trim(),Me=le.startsWith("#")?le.substring(1):le;[3,4,6,8].includes(Me.length)&&/(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})/.test(Me)&&this._debounceColorPickerEvent("#"+Me)}}),r}}function Jt(U){let r=function(w){if(!w)return"";const F=$i(w);return F?F.space==="hex"?F.hexValue:Pi(w,"hex"):"#000"}(U);return r||(r="#000"),r.length===4&&(r="#"+[r[1],r[1],r[2],r[2],r[3],r[3]].join("")),r.toLowerCase()}class bi extends u{constructor(r){super(),this.element=r}focus(){this.element.focus()}}class Ei extends u{constructor(r){super(r),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class Hi extends u{constructor(r,w){super(r),this.children=this.createCollection(w),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}}class sn extends(0,j.Re)(j.FE){constructor(r){super(r),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(r,w){return this.find(F=>F.color===r.color)?this:super.add(r,w)}hasColor(r){return!!this.find(w=>w.color===r)}}var mn=l("./packages/ckeditor5-core/theme/icons/eraser.svg");const Cn='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>';class fo extends u{constructor(r,{colors:w,columns:F,removeButtonLabel:le,documentColorsLabel:Me,documentColorsCount:Fe,colorPickerLabel:it,focusTracker:Rt,focusables:fi}){super(r);const zi=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=Rt,this.items=this.createCollection(),this.colorDefinitions=w,this.columns=F,this.documentColors=new sn,this.documentColorsCount=Fe,this._focusables=fi,this._removeButtonLabel=le,this._colorPickerLabel=it,this._documentColorsLabel=Me,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",zi.if("isVisible","ck-hidden",bn=>!bn)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(r,w){const F=r.document,le=this.documentColorsCount;this.documentColors.clear();for(const Me of F.getRoots()){const Fe=r.createRangeIn(Me);for(const it of Fe.getItems())if(it.is("$textProxy")&&it.hasAttribute(w)&&(this._addColorToDocumentColors(it.getAttribute(w)),this.documentColors.length>=le))return}}updateSelectedColors(){const r=this.documentColorsGrid,w=this.staticColorsGrid,F=this.selectedColor;w.selectedColor=F,r&&(r.selectedColor=F)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const r=v.bind(this.documentColors,this.documentColors),w=new Le(this.locale);w.text=this._documentColorsLabel,w.extendTemplate({attributes:{class:["ck","ck-color-grid__label",r.if("isEmpty","ck-hidden")]}}),this.items.add(w),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker(),this.focus()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new Je,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:Cn,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const r=new Je;return r.set({withText:!0,icon:mn.Z,label:this._removeButtonLabel}),r.class="ck-color-selector__remove-color",r.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),r.render(),r}_createStaticColorsGrid(){const r=new hi(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return r.on("execute",(w,F)=>{this.fire("execute",{value:F.value,source:"staticColorsGrid"})}),r}_createDocumentColorsGrid(){const r=v.bind(this.documentColors,this.documentColors),w=new hi(this.locale,{columns:this.columns});return w.extendTemplate({attributes:{class:r.if("isEmpty","ck-hidden")}}),w.items.bindTo(this.documentColors).using(F=>{const le=new ui;return le.set({color:F.color,hasBorder:F.options&&F.options.hasBorder}),F.label&&le.set({label:F.label,tooltip:!0}),le.on("execute",()=>{this.fire("execute",{value:F.color,source:"documentColorsGrid"})}),le}),this.documentColors.on("change:isEmpty",(F,le,Me)=>{Me&&(w.selectedColor=null)}),w}_addColorToDocumentColors(r){const w=this.colorDefinitions.find(F=>F.color===r);w?this.documentColors.add(Object.assign({},w)):this.documentColors.add({color:r,label:r,options:{hasBorder:!1}})}}var qo=l("./packages/ckeditor5-core/theme/icons/check.svg"),zo=l("./packages/ckeditor5-core/theme/icons/cancel.svg"),er=Object.defineProperty,bo=Object.getOwnPropertySymbols,Jn=Object.prototype.hasOwnProperty,Po=Object.prototype.propertyIsEnumerable,Fo=(U,r,w)=>r in U?er(U,r,{enumerable:!0,configurable:!0,writable:!0,value:w}):U[r]=w;class Fn extends u{constructor(r,{focusTracker:w,focusables:F,keystrokes:le,colorPickerViewConfig:Me}){super(r),this.items=this.createCollection(),this.focusTracker=w,this.keystrokes=le,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=F,this._colorPickerViewConfig=Me;const Fe=this.bindTemplate,{saveButtonView:it,cancelButtonView:Rt}=this._createActionButtons();this.saveButtonView=it,this.cancelButtonView=Rt,this.actionBarView=this._createActionBarView({saveButtonView:it,cancelButtonView:Rt}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",Fe.if("isVisible","ck-hidden",fi=>!fi)]},children:this.items})}render(){super.render();const r=new ii(this.locale,((w,F)=>{for(var le in F||(F={}))Jn.call(F,le)&&Fo(w,le,F[le]);if(bo)for(var le of bo(F))Po.call(F,le)&&Fo(w,le,F[le]);return w})({},this._colorPickerViewConfig));this.colorPickerView=r,this.colorPickerView.render(),this.selectedColor&&(r.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(w,F,le)=>{r.color=le}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}_executeOnEnterPress(){this.keystrokes.set("enter",r=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&(this.fire("execute",{value:this.selectedColor}),r.stopPropagation(),r.preventDefault())})}_stopPropagationOnArrowsKeys(){const r=w=>w.stopPropagation();this.keystrokes.set("arrowright",r),this.keystrokes.set("arrowleft",r),this.keystrokes.set("arrowup",r),this.keystrokes.set("arrowdown",r)}_addColorPickersElementsToFocusTracker(){for(const w of this.colorPickerView.slidersView)this.focusTracker.add(w.element),this._focusables.add(w);const r=this.colorPickerView.hexInputRow.children.get(1);r.element&&(this.focusTracker.add(r.element),this._focusables.add(r)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:r,cancelButtonView:w}){const F=new u,le=this.createCollection();return le.add(r),le.add(w),F.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:le}),F}_createActionButtons(){const r=this.locale,w=r.t,F=new Je(r),le=new Je(r);return F.set({icon:qo.Z,class:"ck-button-save",type:"button",withText:!1,label:w("Accept")}),le.set({icon:zo.Z,class:"ck-button-cancel",type:"button",withText:!1,label:w("Cancel")}),F.on("execute",()=>{this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),le.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:F,cancelButtonView:le}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(r,w)=>{this.fire("execute",{value:w.color,source:"colorPicker"}),this.set("selectedColor",w.color)})}}var Xn=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorselector/colorselector.css"),Dr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Xn.Z,Dr),Xn.Z.locals;class tr extends u{constructor(r,{colors:w,columns:F,removeButtonLabel:le,documentColorsLabel:Me,documentColorsCount:Fe,colorPickerLabel:it,colorPickerViewConfig:Rt}){super(r),this.items=this.createCollection(),this.focusTracker=new j.Rh,this.keystrokes=new j.VD,this._focusables=new Z,this._colorPickerViewConfig=Rt,this._focusCycler=new ee({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new fo(r,{colors:w,columns:F,removeButtonLabel:le,documentColorsLabel:Me,documentColorsCount:Fe,colorPickerLabel:it,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new Fn(r,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:Rt}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(fi,zi,bn)=>{this.colorGridsFragmentView.set("selectedColor",bn),this.colorPickerFragmentView.set("selectedColor",bn)}),this.colorGridsFragmentView.on("change:selectedColor",(fi,zi,bn)=>{this.set("selectedColor",bn)}),this.colorPickerFragmentView.on("change:selectedColor",(fi,zi,bn)=>{this.set("selectedColor",bn)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){this.colorPickerFragmentView.colorPickerView&&!this._isColorPickerFragmentVisible&&(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(r,w){this.colorGridsFragmentView.updateDocumentColors(r,w)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class hr{constructor(r){this._components=new Map,this.editor=r}*names(){for(const r of this._components.values())yield r.originalName}add(r,w){this._components.set(Ho(r),{callback:w,originalName:r})}create(r){if(!this.has(r))throw new j.Bb("componentfactory-item-missing",this,{name:r});return this._components.get(Ho(r)).callback(this.editor.locale)}has(r){return this._components.has(Ho(r))}}function Ho(U){return String(U).toLowerCase()}var mr=l("./node_modules/lodash-es/isElement.js"),Ko=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonpanel.css"),zr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Ko.Z,zr),Ko.Z.locals;var Sr=Object.defineProperty,ir=Object.getOwnPropertySymbols,Er=Object.prototype.hasOwnProperty,Ir=Object.prototype.propertyIsEnumerable,gr=(U,r,w)=>r in U?Sr(U,r,{enumerable:!0,configurable:!0,writable:!0,value:w}):U[r]=w,Ji=(U,r)=>{for(var w in r||(r={}))Er.call(r,w)&&gr(U,w,r[w]);if(ir)for(var w of ir(r))Ir.call(r,w)&&gr(U,w,r[w]);return U};const Co=(0,j.nn)("px"),To=j.global.document.body,Lo={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},wo=class extends u{constructor(U){super(U);const r=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",r.to("position",w=>`ck-balloon-panel_${w}`),r.if("isVisible","ck-balloon-panel_visible"),r.if("withArrow","ck-balloon-panel_with-arrow"),r.to("class")],style:{top:r.to("top",Co),left:r.to("left",Co)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(U){this.show();const r=wo.defaultPositions,w=Object.assign({},{element:this.element,positions:[r.southArrowNorth,r.southArrowNorthMiddleWest,r.southArrowNorthMiddleEast,r.southArrowNorthWest,r.southArrowNorthEast,r.northArrowSouth,r.northArrowSouthMiddleWest,r.northArrowSouthMiddleEast,r.northArrowSouthWest,r.northArrowSouthEast,r.viewportStickyNorth],limiter:To,fitInViewport:!0},U),F=wo._getOptimalPosition(w)||Lo,le=parseInt(F.left),Me=parseInt(F.top),Fe=F.name,it=F.config||{},{withArrow:Rt=!0}=it;this.top=Me,this.left=le,this.position=Fe,this.withArrow=Rt}pin(U){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(U):this._stopPinning()},this._startPinning(U),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(U){this.attachTo(U);const r=an(U.target),w=U.limiter?an(U.limiter):To;this.listenTo(j.global.document,"scroll",(F,le)=>{const Me=le.target,Fe=r&&Me.contains(r),it=w&&Me.contains(w);!Fe&&!it&&r&&w||this.attachTo(U)},{useCapture:!0}),this.listenTo(j.global.window,"resize",()=>{this.attachTo(U)})}_stopPinning(){this.stopListening(j.global.document,"scroll"),this.stopListening(j.global.window,"resize")}};let Ln=wo;function an(U){return(0,mr.Z)(U)?U:(0,j.bR)(U)?U.commonAncestorContainer:typeof U=="function"?an(U()):null}function Wn(U={}){const{sideOffset:r=Ln.arrowSideOffset,heightOffset:w=Ln.arrowHeightOffset,stickyVerticalOffset:F=Ln.stickyVerticalOffset,config:le}=U;return{northWestArrowSouthWest:(it,Rt)=>Ji({top:Me(it,Rt),left:it.left-r,name:"arrow_sw"},le&&{config:le}),northWestArrowSouthMiddleWest:(it,Rt)=>Ji({top:Me(it,Rt),left:it.left-.25*Rt.width-r,name:"arrow_smw"},le&&{config:le}),northWestArrowSouth:(it,Rt)=>Ji({top:Me(it,Rt),left:it.left-Rt.width/2,name:"arrow_s"},le&&{config:le}),northWestArrowSouthMiddleEast:(it,Rt)=>Ji({top:Me(it,Rt),left:it.left-.75*Rt.width+r,name:"arrow_sme"},le&&{config:le}),northWestArrowSouthEast:(it,Rt)=>Ji({top:Me(it,Rt),left:it.left-Rt.width+r,name:"arrow_se"},le&&{config:le}),northArrowSouthWest:(it,Rt)=>Ji({top:Me(it,Rt),left:it.left+it.width/2-r,name:"arrow_sw"},le&&{config:le}),northArrowSouthMiddleWest:(it,Rt)=>Ji({top:Me(it,Rt),left:it.left+it.width/2-.25*Rt.width-r,name:"arrow_smw"},le&&{config:le}),northArrowSouth:(it,Rt)=>Ji({top:Me(it,Rt),left:it.left+it.width/2-Rt.width/2,name:"arrow_s"},le&&{config:le}),northArrowSouthMiddleEast:(it,Rt)=>Ji({top:Me(it,Rt),left:it.left+it.width/2-.75*Rt.width+r,name:"arrow_sme"},le&&{config:le}),northArrowSouthEast:(it,Rt)=>Ji({top:Me(it,Rt),left:it.left+it.width/2-Rt.width+r,name:"arrow_se"},le&&{config:le}),northEastArrowSouthWest:(it,Rt)=>Ji({top:Me(it,Rt),left:it.right-r,name:"arrow_sw"},le&&{config:le}),northEastArrowSouthMiddleWest:(it,Rt)=>Ji({top:Me(it,Rt),left:it.right-.25*Rt.width-r,name:"arrow_smw"},le&&{config:le}),northEastArrowSouth:(it,Rt)=>Ji({top:Me(it,Rt),left:it.right-Rt.width/2,name:"arrow_s"},le&&{config:le}),northEastArrowSouthMiddleEast:(it,Rt)=>Ji({top:Me(it,Rt),left:it.right-.75*Rt.width+r,name:"arrow_sme"},le&&{config:le}),northEastArrowSouthEast:(it,Rt)=>Ji({top:Me(it,Rt),left:it.right-Rt.width+r,name:"arrow_se"},le&&{config:le}),southWestArrowNorthWest:it=>Ji({top:Fe(it),left:it.left-r,name:"arrow_nw"},le&&{config:le}),southWestArrowNorthMiddleWest:(it,Rt)=>Ji({top:Fe(it),left:it.left-.25*Rt.width-r,name:"arrow_nmw"},le&&{config:le}),southWestArrowNorth:(it,Rt)=>Ji({top:Fe(it),left:it.left-Rt.width/2,name:"arrow_n"},le&&{config:le}),southWestArrowNorthMiddleEast:(it,Rt)=>Ji({top:Fe(it),left:it.left-.75*Rt.width+r,name:"arrow_nme"},le&&{config:le}),southWestArrowNorthEast:(it,Rt)=>Ji({top:Fe(it),left:it.left-Rt.width+r,name:"arrow_ne"},le&&{config:le}),southArrowNorthWest:it=>Ji({top:Fe(it),left:it.left+it.width/2-r,name:"arrow_nw"},le&&{config:le}),southArrowNorthMiddleWest:(it,Rt)=>Ji({top:Fe(it),left:it.left+it.width/2-.25*Rt.width-r,name:"arrow_nmw"},le&&{config:le}),southArrowNorth:(it,Rt)=>Ji({top:Fe(it),left:it.left+it.width/2-Rt.width/2,name:"arrow_n"},le&&{config:le}),southArrowNorthMiddleEast:(it,Rt)=>Ji({top:Fe(it),left:it.left+it.width/2-.75*Rt.width+r,name:"arrow_nme"},le&&{config:le}),southArrowNorthEast:(it,Rt)=>Ji({top:Fe(it),left:it.left+it.width/2-Rt.width+r,name:"arrow_ne"},le&&{config:le}),southEastArrowNorthWest:it=>Ji({top:Fe(it),left:it.right-r,name:"arrow_nw"},le&&{config:le}),southEastArrowNorthMiddleWest:(it,Rt)=>Ji({top:Fe(it),left:it.right-.25*Rt.width-r,name:"arrow_nmw"},le&&{config:le}),southEastArrowNorth:(it,Rt)=>Ji({top:Fe(it),left:it.right-Rt.width/2,name:"arrow_n"},le&&{config:le}),southEastArrowNorthMiddleEast:(it,Rt)=>Ji({top:Fe(it),left:it.right-.75*Rt.width+r,name:"arrow_nme"},le&&{config:le}),southEastArrowNorthEast:(it,Rt)=>Ji({top:Fe(it),left:it.right-Rt.width+r,name:"arrow_ne"},le&&{config:le}),westArrowEast:(it,Rt)=>Ji({top:it.top+it.height/2-Rt.height/2,left:it.left-Rt.width-w,name:"arrow_e"},le&&{config:le}),eastArrowWest:(it,Rt)=>Ji({top:it.top+it.height/2-Rt.height/2,left:it.right+w,name:"arrow_w"},le&&{config:le}),viewportStickyNorth:(it,Rt,fi,zi)=>{const bn=zi||fi;return it.getIntersection(bn)?bn.height-it.height>F?null:{top:bn.top+F,left:it.left+it.width/2-Rt.width/2,name:"arrowless",config:Ji({withArrow:!1},le)}:null}};function Me(it,Rt){return it.top-Rt.height-w}function Fe(it){return it.bottom+w}}Ln.arrowSideOffset=25,Ln.arrowHeightOffset=10,Ln.stickyVerticalOffset=20,Ln._getOptimalPosition=j.xZ,Ln.defaultPositions=Wn();var ln=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/tooltip/tooltip.css"),ko={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(ln.Z,ko),ln.Z.locals;const Ao="ck-tooltip",Xt=class extends(0,j.Xu)(){constructor(U){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Xt._editors.add(U),Xt._instance)return Xt._instance;Xt._instance=this,this.tooltipTextView=new u(U.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Ln(U.locale),this.balloonPanelView.class=Ao,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=(0,at.Z)(this._pinTooltip,600),this.listenTo(j.global.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(j.global.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(j.global.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(j.global.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(j.global.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(U){const r=U.ui.view&&U.ui.view.body;Xt._editors.delete(U),this.stopListening(U.ui),r&&r.has(this.balloonPanelView)&&r.remove(this.balloonPanelView),Xt._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Xt._instance=null)}static getPositioningFunctions(U){const r=Xt.defaultBalloonPositions;return{s:[r.southArrowNorth,r.southArrowNorthEast,r.southArrowNorthWest],n:[r.northArrowSouth],e:[r.eastArrowWest],w:[r.westArrowEast],sw:[r.southArrowNorthEast],se:[r.southArrowNorthWest]}[U]}_onEnterOrFocus(U,{target:r}){const w=Go(r);var F;w&&w!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(w,{text:(F=w).dataset.ckeTooltipText,position:F.dataset.ckeTooltipPosition||"s",cssClass:F.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(U,{target:r,relatedTarget:w}){if(U.name==="mouseleave"){if(!(0,mr.Z)(r)||this._currentElementWithTooltip&&r!==this._currentElementWithTooltip)return;const F=Go(r),le=Go(w);F&&F!==le&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&r!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(U,{target:r}){this._currentElementWithTooltip&&(r.contains(this.balloonPanelView.element)&&r.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(U,{text:r,position:w,cssClass:F}){const le=(0,j.Ps)(Xt._editors.values()).ui.view.body;le.has(this.balloonPanelView)||le.add(this.balloonPanelView),this.tooltipTextView.text=r,this.balloonPanelView.pin({target:U,positions:Xt.getPositioningFunctions(w)}),this._resizeObserver=new j.do(U,()=>{(0,j.pn)(U)||this._unpinTooltip()}),this.balloonPanelView.class=[Ao,F].filter(Me=>Me).join(" ");for(const Me of Xt._editors)this.listenTo(Me.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=U,this._currentTooltipPosition=w}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const U of Xt._editors)this.stopListening(U.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){(0,j.pn)(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Xt.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let nn=Xt;function Go(U){return(0,mr.Z)(U)?U.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}nn.defaultBalloonPositions=Wn({heightOffset:5,sideOffset:13}),nn._editors=new Set,nn._instance=null;var pr=l("./node_modules/lodash-es/throttle.js"),nr=Object.defineProperty,or=Object.getOwnPropertySymbols,Dt=Object.prototype.hasOwnProperty,No=Object.prototype.propertyIsEnumerable,fr=(U,r,w)=>r in U?nr(U,r,{enumerable:!0,configurable:!0,writable:!0,value:w}):U[r]=w,Uo=(U,r)=>{for(var w in r||(r={}))Dt.call(r,w)&&fr(U,w,r[w]);if(or)for(var w of or(r))No.call(r,w)&&fr(U,w,r[w]);return U};const br=50,wr=350,rr="Powered by";class So extends(0,j.Xu)(){constructor(r){super(),this.editor=r,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=(0,pr.Z)(this._showBalloon.bind(this),50,{leading:!0}),r.on("ready",this._handleEditorReady.bind(this))}destroy(){const r=this._balloonView;r&&(r.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const r=this.editor;(r.config.get("ui.poweredBy.forceVisible")||(0,j.Tx)(r.config.get("licenseKey"))!=="VALID")&&r.ui.view&&(r.ui.focusTracker.on("change:isFocused",(w,F,le)=>{this._updateLastFocusedEditableElement(),le?this._showBalloon():this._hideBalloon()}),r.ui.focusTracker.on("change:focusedElement",(w,F,le)=>{this._updateLastFocusedEditableElement(),le&&this._showBalloon()}),r.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const r=this.editor,w=this._balloonView=new Ln,F=ar(r),le=new Pr(r.locale,F.label);w.content.add(le),w.set({class:"ck-powered-by-balloon"}),r.ui.view.body.add(w),r.ui.focusTracker.add(w.element),this._balloonView=w}_showBalloon(){if(!this._lastFocusedEditableElement)return;const r=function(w,F){const le=ar(w),Me=le.side==="right"?function(Fe,it){return sr(Fe,it,(Rt,fi)=>Rt.left+Rt.width-fi.width-it.horizontalOffset)}(F,le):function(Fe,it){return sr(Fe,it,Rt=>Rt.left+it.horizontalOffset)}(F,le);return{target:F,positions:[Me]}}(this.editor,this._lastFocusedEditableElement);r&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(r))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const r=this.editor,w=r.ui.focusTracker.isFocused,F=r.ui.focusTracker.focusedElement;if(!w||!F)return void(this._lastFocusedEditableElement=null);const le=Array.from(r.ui.getEditableElementsNames()).map(Me=>r.ui.getEditableElement(Me));le.includes(F)?this._lastFocusedEditableElement=F:this._lastFocusedEditableElement=le[0]}}class Pr extends u{constructor(r,w){super(r);const F=new Te,le=this.bindTemplate;F.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),F.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...w?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[w]}]:[],F],on:{dragstart:le.to(Me=>Me.preventDefault())}}]})}}function sr(U,r,w){return(F,le)=>{const Me=new j.UL(U);if(Me.width<wr||Me.height<br)return null;let Fe;Fe=r.position==="inside"?Me.bottom-le.height:Me.bottom-le.height/2,Fe-=r.verticalOffset;const it=w(Me,le),Rt=F.clone().moveTo(it,Fe).getIntersection(le.clone().moveTo(it,Fe)).getVisible();return!Rt||Rt.getArea()<le.getArea()?null:{top:Fe,left:it,name:`position_${r.position}-side_${r.side}`,config:{withArrow:!1}}}}function ar(U){const r=U.config.get("ui.poweredBy"),w=r&&r.position||"border";return Uo({position:w,label:rr,verticalOffset:w==="inside"?5:0,horizontalOffset:5,side:U.locale.contentLanguageDirection==="ltr"?"right":"left"},r)}var me=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"),ge={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(me.Z,ge),me.Z.locals;class qe{constructor(r){this.editor=r}announce(r,w,F="polite"){const le=this.editor;this.view||(this.view=new At(le.locale),le.ui.view.body.add(this.view));let Me=this.view.regionViews.find(Fe=>Fe.regionName===r);Me||(Me=new li(this.view.locale),this.view.regionViews.add(Me)),Me.set({regionName:r,text:w,politeness:F})}}class At extends u{constructor(r){super(r),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class li extends u{constructor(r){super(r);const w=this.bindTemplate;this.set("regionName",""),this.set("text",""),this.set("politeness","polite"),this.setTemplate({tag:"div",attributes:{role:"region","data-region":w.to("regionName"),"aria-live":w.to("politeness")},children:[{text:w.to("text")}]})}}var _i=Object.defineProperty,Ai=Object.getOwnPropertySymbols,Si=Object.prototype.hasOwnProperty,Yi=Object.prototype.propertyIsEnumerable,qi=(U,r,w)=>r in U?_i(U,r,{enumerable:!0,configurable:!0,writable:!0,value:w}):U[r]=w;class ao extends(0,j.Re)(){constructor(r){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const w=r.editing.view;this.editor=r,this.componentFactory=new hr(r),this.focusTracker=new j.Rh,this.tooltipManager=new nn(r),this.poweredBy=new So(r),this.ariaLiveAnnouncer=new qe(r),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(w.document,"layoutChanged",this.update.bind(this)),this.listenTo(w,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const r of this._editableElementsMap.values())r.ckeditorInstance=null,this.editor.keystrokes.stopListening(r);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(r,w){this._editableElementsMap.set(r,w),w.ckeditorInstance||(w.ckeditorInstance=this.editor),this.focusTracker.add(w);const F=()=>{this.editor.editing.view.getDomRoot(r)||this.editor.keystrokes.listenTo(w)};this.isReady?F():this.once("ready",F)}removeEditableElement(r){const w=this._editableElementsMap.get(r);w&&(this._editableElementsMap.delete(r),this.editor.keystrokes.stopListening(w),this.focusTracker.remove(w),w.ckeditorInstance=null)}getEditableElement(r="main"){return this._editableElementsMap.get(r)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(r,w={}){r.isRendered?(this.focusTracker.add(r.element),this.editor.keystrokes.listenTo(r.element)):r.once("render",()=>{this.focusTracker.add(r.element),this.editor.keystrokes.listenTo(r.element)}),this._focusableToolbarDefinitions.push({toolbarView:r,options:w})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const r=this.editor,w=r.config.get("ui.viewportOffset");if(w)return w;const F=r.config.get("toolbar.viewportTopOffset");return F?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:F}):{top:0}}_initFocusTracking(){const r=this.editor,w=r.editing.view;let F,le;r.keystrokes.set("Alt+F10",(Me,Fe)=>{const it=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(it)&&!Array.from(w.domRoots.values()).includes(it)&&(F=it);const Rt=this._getCurrentFocusedToolbarDefinition();Rt&&le||(le=this._getFocusableCandidateToolbarDefinitions());for(let fi=0;fi<le.length;fi++){const zi=le.shift();if(le.push(zi),zi!==Rt&&this._focusFocusableCandidateToolbar(zi)){Rt&&Rt.options.afterBlur&&Rt.options.afterBlur();break}}Fe()}),r.keystrokes.set("Esc",(Me,Fe)=>{const it=this._getCurrentFocusedToolbarDefinition();it&&(F?(F.focus(),F=null):r.editing.view.focus(),it.options.afterBlur&&it.options.afterBlur(),Fe())})}_getFocusableCandidateToolbarDefinitions(){const r=[];for(const w of this._focusableToolbarDefinitions){const{toolbarView:F,options:le}=w;((0,j.pn)(F.element)||le.beforeFocus)&&r.push(w)}return r.sort((w,F)=>$n(w)-$n(F)),r}_getCurrentFocusedToolbarDefinition(){for(const r of this._focusableToolbarDefinitions)if(r.toolbarView.element&&r.toolbarView.element.contains(this.focusTracker.focusedElement))return r;return null}_focusFocusableCandidateToolbar(r){const{toolbarView:w,options:{beforeFocus:F}}=r;return F&&F(),!!(0,j.pn)(w.element)&&(w.focus(),!0)}_handleScrollToTheSelection(r,w){const F=((le,Me)=>{for(var Fe in Me||(Me={}))Si.call(Me,Fe)&&qi(le,Fe,Me[Fe]);if(Ai)for(var Fe of Ai(Me))Yi.call(Me,Fe)&&qi(le,Fe,Me[Fe]);return le})({top:0,bottom:0,left:0,right:0},this.viewportOffset);w.viewportOffset.top+=F.top,w.viewportOffset.bottom+=F.bottom,w.viewportOffset.left+=F.left,w.viewportOffset.right+=F.right}}function $n(U){const{toolbarView:r,options:w}=U;let F=10;return(0,j.pn)(r.element)&&F--,w.isContextual&&F--,F}var cn=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/editorui.css"),lo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(cn.Z,lo),cn.Z.locals;class Oo extends u{constructor(r){super(r),this.body=new bt(r)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class eo extends Oo{constructor(r){super(r),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:r.uiLanguageDirection,lang:r.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const r=this.t,w=new Le;return w.text=r("Rich Text Editor"),w.extendTemplate({attributes:{class:"ck-voice-label"}}),w}}class vn extends u{constructor(r,w,F){super(r),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:r.contentLanguage,dir:r.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=F,this._hasExternalElement=!!this._editableElement,this._editingView=w}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const r=this._editingView;function w(F){r.change(le=>{const Me=r.document.getRoot(F.name);le.addClass(F.isFocused?"ck-focused":"ck-blurred",Me),le.removeClass(F.isFocused?"ck-blurred":"ck-focused",Me)})}r.isRenderingInProgress?function F(le){r.once("change:isRenderingInProgress",(Me,Fe,it)=>{it?F(le):w(le)})}(this):w(this)}}class to extends vn{constructor(r,w,F,le={}){super(r,w,F);const Me=r.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=le.label||(()=>Me("Editor editing area: %0",this.name))}render(){super.render();const r=this._editingView;r.change(w=>{const F=r.document.getRoot(this.name);w.setAttribute("aria-label",this._generateLabel(this),F)})}}var An=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/formheader/formheader.css"),Gn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(An.Z,Gn),An.Z.locals;class vo extends u{constructor(r,w={}){super(r);const F=this.bindTemplate;this.set("label",w.label||""),this.set("class",w.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",F.to("class")]},children:this.children}),w.icon&&(this.iconView=new Te,this.iconView.content=w.icon,this.children.add(this.iconView));const le=new u(r);le.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"]},children:[{text:F.to("label")}]}),this.children.add(le)}}class kr extends u{constructor(r){super(r);const w=this.bindTemplate;this.setTemplate({tag:"iframe",attributes:{class:["ck","ck-reset_all"],sandbox:"allow-same-origin allow-scripts"},on:{load:w.to("loaded")}})}render(){return new Promise(r=>(this.on("loaded",r),super.render()))}}class Lr extends xt.eO{static get pluginName(){return"Notification"}init(){this.on("show:warning",(r,w)=>{window.alert(w.message)},{priority:"lowest"})}showSuccess(r,w={}){this._showNotification({message:r,type:"success",namespace:w.namespace,title:w.title})}showInfo(r,w={}){this._showNotification({message:r,type:"info",namespace:w.namespace,title:w.title})}showWarning(r,w={}){this._showNotification({message:r,type:"warning",namespace:w.namespace,title:w.title})}_showNotification(r){const w=r.namespace?`show:${r.type}:${r.namespace}`:`show:${r.type}`;this.fire(w,{message:r.message,type:r.type,title:r.title||""})}}var Or=l("./node_modules/lodash-es/assignIn.js");class go extends(0,j.Re)(){constructor(r,w){super(),w&&(0,Or.Z)(this,w),r&&this.set(r)}}var vr=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonrotator.css"),Mr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(vr.Z,Mr),vr.Z.locals;var Ui=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/fakepanel.css"),fn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Ui.Z,fn),Ui.Z.locals;const Xi=(0,j.nn)("px");class io extends xt.Sy{constructor(r){super(r),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const w=this.editor.editing.view,F=w.document.selection.editableElement;return F?w.domConverter.mapViewToDom(F.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(r){return Array.from(this._viewToStack.keys()).includes(r)}add(r){if(this._view||this._createPanelView(),this.hasView(r.view))throw new j.Bb("contextualballoon-add-view-exist",[this,r]);const w=r.stackId||"main";if(!this._idToStack.has(w))return this._idToStack.set(w,new Map([[r.view,r]])),this._viewToStack.set(r.view,this._idToStack.get(w)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!r.singleViewMode||this.showStack(w));const F=this._idToStack.get(w);r.singleViewMode&&this.showStack(w),F.set(r.view,r),this._viewToStack.set(r.view,F),F===this._visibleStack&&this._showView(r)}remove(r){if(!this.hasView(r))throw new j.Bb("contextualballoon-remove-view-not-exist",[this,r]);const w=this._viewToStack.get(r);this._singleViewMode&&this.visibleView===r&&(this._singleViewMode=!1),this.visibleView===r&&(w.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(w.values())[w.size-2])),w.size===1?(this._idToStack.delete(this._getStackId(w)),this._numberOfStacks=this._idToStack.size):w.delete(r),this._viewToStack.delete(r)}updatePosition(r){r&&(this._visibleStack.get(this.visibleView).position=r),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(r){this.visibleStack=r;const w=this._idToStack.get(r);if(!w)throw new j.Bb("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==w&&this._showView(Array.from(w.values()).pop())}_createPanelView(){this._view=new Ln(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(r){return Array.from(this._idToStack.entries()).find(w=>w[1]===r)[0]}_showNextStack(){const r=Array.from(this._idToStack.values());let w=r.indexOf(this._visibleStack)+1;r[w]||(w=0),this.showStack(this._getStackId(r[w]))}_showPrevStack(){const r=Array.from(this._idToStack.values());let w=r.indexOf(this._visibleStack)-1;r[w]||(w=r.length-1),this.showStack(this._getStackId(r[w]))}_createRotatorView(){const r=new Mo(this.editor.locale),w=this.editor.locale.t;return this.view.content.add(r),r.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(F,le)=>!le&&F>1),r.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),r.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(F,le)=>{if(le<2)return"";const Me=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return w("%0 of %1",[Me,le])}),r.buttonNextView.on("execute",()=>{r.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),r.buttonPrevView.on("execute",()=>{r.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),r}_createFakePanelsView(){const r=new Eo(this.editor.locale,this.view);return r.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(w,F)=>!F&&w>=2?Math.min(w-1,2):0),r.listenTo(this.view,"change:top",()=>r.updatePosition()),r.listenTo(this.view,"change:left",()=>r.updatePosition()),this.editor.ui.view.body.add(r),r}_showView({view:r,balloonClassName:w="",withArrow:F=!0,singleViewMode:le=!1}){this.view.class=w,this.view.withArrow=F,this._rotatorView.showView(r),this.visibleView=r,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),le&&(this._singleViewMode=!0)}_getBalloonPosition(){let r=Array.from(this._visibleStack.values()).pop().position;return r&&(r.limiter||(r=Object.assign({},r,{limiter:this.positionLimiter})),r=Object.assign({},r,{viewportOffsetConfig:this.editor.ui.viewportOffset})),r}}class Mo extends u{constructor(r){super(r);const w=r.t,F=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new j.Rh,this.buttonPrevView=this._createButtonView(w("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(w("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",F.to("isNavigationVisible",le=>le?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:F.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(r){this.hideView(),this.content.add(r)}hideView(){this.content.clear()}_createButtonView(r,w){const F=new Je(this.locale);return F.set({label:r,icon:w,tooltip:!0}),F}}class Eo extends u{constructor(r,w){super(r);const F=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=w,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",F.to("numberOfPanels",le=>le?"":"ck-hidden")],style:{top:F.to("top",Xi),left:F.to("left",Xi),width:F.to("width",Xi),height:F.to("height",Xi)}},children:this.content}),this.on("change:numberOfPanels",(le,Me,Fe,it)=>{Fe>it?this._addPanels(Fe-it):this._removePanels(it-Fe),this.updatePosition()})}_addPanels(r){for(;r--;){const w=new u;w.setTemplate({tag:"div"}),this.content.add(w),this.registerChild(w)}}_removePanels(r){for(;r--;){const w=this.content.last;this.content.remove(w),this.deregisterChild(w),w.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:r,left:w}=this._balloonPanelView,{width:F,height:le}=new j.UL(this._balloonPanelView.element);Object.assign(this,{top:r,left:w,width:F,height:le})}}}var Bn=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/stickypanel.css"),Zn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Bn.Z,Zn),Bn.Z.locals;const _n=(0,j.nn)("px");class _o extends u{constructor(r){super(r);const w=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new v({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:w.to("isSticky",F=>F?"block":"none"),height:w.to("isSticky",F=>F?_n(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new v({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",w.if("isSticky","ck-sticky-panel__content_sticky"),w.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:w.to("isSticky",F=>F?_n(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:w.to("_stickyTopOffset",F=>F&&_n(F)),bottom:w.to("_stickyBottomOffset",F=>F&&_n(F)),marginLeft:w.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(j.global.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const r=new j.UL(this.limiterElement);let w=r.getVisible();if(w){const F=new j.UL(j.global.window);F.top+=this.viewportTopOffset,F.height-=this.viewportTopOffset,w=w.getIntersection(F)}if(w&&r.top<w.top){const F=w.top;if(F+this._contentPanelRect.height+this.limiterBottomOffset>w.bottom){const le=Math.max(r.bottom-w.bottom,0)+this.limiterBottomOffset;r.bottom-le>r.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(le):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<r.height?this._stickToTopOfAncestors(F):this._unstick()}else this._unstick()}_stickToTopOfAncestors(r){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=r,this._stickyBottomOffset=null,this._marginLeft=_n(-j.global.window.scrollX)}_stickToBottomOfLimiter(r){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=r,this._marginLeft=_n(-j.global.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new j.UL(this._contentPanel)}}class no extends gt{constructor(r,w){const F=r.t,le=Object.assign({},{showResetButton:!0,showIcon:!0,creator:St},w);super(r,le.creator),this.label=w.label,this._viewConfig=le,this._viewConfig.showIcon&&(this.iconView=new Te,this.iconView.content=xt.icons.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Je(r),this.resetButtonView.set({label:F("Clear"),icon:xt.icons.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",Me=>!Me),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class Tn extends u{constructor(){super();const r=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",r.if("isVisible","ck-hidden",w=>!w)],tabindex:-1},children:[{tag:"span",children:[{text:[r.to("primaryText")]}]},{tag:"span",children:[{text:[r.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class Dn extends u{constructor(r){super(r),this.children=this.createCollection(),this.focusTracker=new j.Rh,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new ee({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const r of this.children)this.focusTracker.add(r.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var Wo=l("./node_modules/lodash-es/escapeRegExp.js"),Yr=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/search/search.css"),Qr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Yr.Z,Qr),Yr.Z.locals;var lr=Object.defineProperty,Rr=Object.getOwnPropertySymbols,Fr=Object.prototype.hasOwnProperty,Hr=Object.prototype.propertyIsEnumerable,cr=(U,r,w)=>r in U?lr(U,r,{enumerable:!0,configurable:!0,writable:!0,value:w}):U[r]=w;class Ur extends u{constructor(r,w){super(r),this._config=w,this.filteredView=w.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new j.Rh,this.keystrokes=new j.VD,this.resultsView=new Dn(r),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),w.infoView&&w.infoView.instance?this.infoView=w.infoView.instance:(this.infoView=new Tn,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new ee({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(F,{resultsCount:le,totalItemsCount:Me})=>{this.resultsCount=le,this.totalItemsCount=Me}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",w.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const r=w=>w.stopPropagation();for(const w of this.focusableChildren)this.focusTracker.add(w.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",r),this.keystrokes.set("arrowleft",r),this.keystrokes.set("arrowup",r),this.keystrokes.set("arrowdown",r)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(r){const w=r?new RegExp((0,Wo.Z)(r),"ig"):null,F=this.filteredView.filter(w);this.fire("search",((le,Me)=>{for(var Fe in Me||(Me={}))Fr.call(Me,Fe)&&cr(le,Fe,Me[Fe]);if(Rr)for(var Fe of Rr(Me))Hr.call(Me,Fe)&&cr(le,Fe,Me[Fe]);return le})({query:r},F))}_createSearchTextQueryView(){const r=new no(this.locale,this._config.queryView);return this.listenTo(r.fieldView,"input",()=>{this.search(r.fieldView.element.value)}),r.on("reset",()=>this.reset()),r.bind("isEnabled").to(this),r}_enableDefaultInfoViewBehavior(){const r=this.locale.t,w=this.infoView;function F(le,{query:Me,resultsCount:Fe,totalItemsCount:it}){return typeof le=="function"?le(Me,Fe,it):le}this.on("search",(le,Me)=>{if(Me.resultsCount)w.set({isVisible:!1});else{const Fe=this._config.infoView&&this._config.infoView.text;let it,Rt;Me.totalItemsCount?Fe&&Fe.notFound?(it=Fe.notFound.primary,Rt=Fe.notFound.secondary):(it=r("No results found"),Rt=""):Fe&&Fe.noSearchableItems?(it=Fe.noSearchableItems.primary,Rt=Fe.noSearchableItems.secondary):(it=r("No searchable items"),Rt=""),w.set({primaryText:F(it,Me),secondaryText:F(Rt,Me),isVisible:!0})}})}}var Wr=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/autocomplete/autocomplete.css"),ms={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Wr.Z,ms),Wr.Z.locals;const jr=class extends Ur{constructor(U,r){super(U,r),this._config=r;const w=(0,j.nn)("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const F=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[F.if("isVisible","ck-hidden",le=>!le),F.to("_position",le=>`ck-search__results_${le}`)],style:{width:F.to("_width",w)}}}),this.focusTracker.on("change:isFocused",(le,Me,Fe)=>{this._updateResultsVisibility(),Fe?this.resultsView.element.scrollTop=0:r.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(le,Me)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,Me())}),this.listenTo(j.global.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(le,{value:Me})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=Me,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new j.UL(this.queryView.fieldView.element).width;const U=jr._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:jr.defaultResultsPositions});this.resultsView._position=U?U.name:"s"}_updateResultsVisibility(){const U=this._config.queryMinChars===void 0?0:this._config.queryMinChars,r=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&r>=U}};let Bo=jr;Bo.defaultResultsPositions=[U=>({top:U.bottom,left:U.left,name:"s"}),(U,r)=>({top:U.top-r.height,left:U.left,name:"n"})],Bo._getOptimalPosition=j.xZ;var $r=l("./packages/ckeditor5-ui/src/search/filteredview.ts"),gs=l.n($r);const Ro=function(U){return function(r){return U?.[r]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});var dr=l("./node_modules/lodash-es/toString.js"),Jr=/[&<>"']/g,ps=RegExp(Jr.source);const Io=function(U){return(U=(0,dr.Z)(U))&&ps.test(U)?U.replace(Jr,Ro):U};var Xr=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"),fs={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Xr.Z,fs),Xr.Z.locals;class bs extends u{constructor(){super(),this.set("text",void 0),this.setTemplate({tag:"span",attributes:{class:["ck","ck-highlighted-text"]}}),this.on("render",()=>{this.on("change:text",()=>{this._updateInnerHTML(this.text)}),this._updateInnerHTML(this.text)})}highlightText(r){this._updateInnerHTML(function(w,F){if(!F)return Io(w);const le=[];let Me=0,Fe=F.exec(w);for(;Fe!==null;){const it=Fe.index;it!==Me&&le.push({text:w.substring(Me,it),isMatch:!1}),le.push({text:Fe[0],isMatch:!0}),Me=F.lastIndex,Fe=F.exec(w)}return Me!==w.length&&le.push({text:w.substring(Me),isMatch:!1}),le.map(it=>(it.text=Io(it.text),it)).map(it=>it.isMatch?`<mark>${it.text}</mark>`:it.text).join("")}(this.text||"",r))}_updateInnerHTML(r){this.element.innerHTML=r||""}}var Zr=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/collapsible/collapsible.css"),es={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(Zr.Z,es),Zr.Z.locals;class ws extends u{constructor(r,w){super(r);const F=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),w&&this.children.addMany(w),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",F.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:F.if("isCollapsed","hidden"),"aria-labelledby":F.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const r=new Je(this.locale),w=r.bindTemplate;return r.set({withText:!0,icon:Ne}),r.extendTemplate({attributes:{"aria-expanded":w.to("isOn",F=>String(F))}}),r.bind("label").to(this),r.bind("isOn").to(this,"isCollapsed",F=>!F),r.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),r}}var ts=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/spinner/spinner.css"),is={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(ts.Z,is),ts.Z.locals;class qr extends u{constructor(){super(),this.set("isVisible",!1);const r=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-spinner-container",r.if("isVisible","ck-hidden",w=>!w)]},children:[{tag:"span",attributes:{class:["ck","ck-spinner"]}}]})}}const Yo=(0,j.nn)("px");class ks extends xt.Sy{constructor(r){super(r),this._resizeObserver=null,this._balloonConfig=Ke(r.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new j.Rh,r.ui.once("ready",()=>{this.focusTracker.add(r.ui.getEditableElement()),this.focusTracker.add(this.toolbarView.element)}),r.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._balloon=r.plugins.get(io),this._fireSelectionChangeDebounced=(0,at.Z)(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}static get pluginName(){return"BalloonToolbar"}static get requires(){return[io]}init(){const r=this.editor,w=r.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(F,le,Me)=>{const Fe=this._balloon.visibleView===this.toolbarView;!Me&&Fe?this.hide():Me&&this.show()}),this.listenTo(w,"change:range",(F,le)=>{(le.directChange||w.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(r,"ready",()=>{const F=r.ui.view.editable.element;this._resizeObserver=new j.do(F,le=>{this.toolbarView.maxWidth=Yo(.9*le.contentRect.width)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()})}afterInit(){const r=this.editor.ui.componentFactory;this.toolbarView.fillFromConfig(this._balloonConfig,r)}_createToolbarView(){const r=this.editor.locale.t,w=!this._balloonConfig.shouldNotGroupWhenFull,F=new Ti(this.editor.locale,{shouldGroupWhenFull:w,isFloating:!0});return F.ariaLabel=r("Editor contextual toolbar"),F.render(),F}show(r=!1){const w=this.editor,F=w.model.document.selection,le=w.model.schema;this._balloon.hasView(this.toolbarView)||F.isCollapsed&&!r||function(Me,Fe){return Me.rangeCount===1?!1:[...Me.getRanges()].every(it=>{const Rt=it.getContainedElement();return Rt&&Fe.isSelectable(Rt)})}(F,le)||Array.from(this.toolbarView.items).every(Me=>Me.isEnabled!==void 0&&!Me.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_getBalloonPositionData(){const r=this.editor.editing.view,w=r.document,F=w.selection,le=w.selection.isBackward;return{target:()=>{const Me=le?F.getFirstRange():F.getLastRange(),Fe=j.UL.getDomRangeRects(r.domConverter.viewRangeToDom(Me));return le?Fe[0]:(Fe.length>1&&Fe[Fe.length-1].width===0&&Fe.pop(),Fe[Fe.length-1])},positions:this._getBalloonPositions(le)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(r){const w=j.OB.isSafari&&j.OB.isiOS?Wn({heightOffset:Math.max(Ln.arrowHeightOffset,Math.round(20/j.global.window.visualViewport.scale))}):Ln.defaultPositions;return r?[w.northWestArrowSouth,w.northWestArrowSouthWest,w.northWestArrowSouthEast,w.northWestArrowSouthMiddleEast,w.northWestArrowSouthMiddleWest,w.southWestArrowNorth,w.southWestArrowNorthWest,w.southWestArrowNorthEast,w.southWestArrowNorthMiddleWest,w.southWestArrowNorthMiddleEast]:[w.southEastArrowNorth,w.southEastArrowNorthEast,w.southEastArrowNorthWest,w.southEastArrowNorthMiddleEast,w.southEastArrowNorthMiddleWest,w.northEastArrowSouth,w.northEastArrowSouthEast,w.northEastArrowSouthWest,w.northEastArrowSouthMiddleEast,w.northEastArrowSouthMiddleWest]}}var _r=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css"),ns={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};te()(_r.Z,ns),_r.Z.locals;const os=(0,j.nn)("px");class vs extends Je{constructor(r){super(r);const w=this.bindTemplate;this.isVisible=!1,this.isToggleable=!0,this.set("top",0),this.set("left",0),this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:w.to("top",F=>os(F)),left:w.to("left",F=>os(F))}}})}}const _s=(0,j.nn)("px");class Kr extends xt.Sy{constructor(r){super(r),this._resizeObserver=null,this._blockToolbarConfig=Ke(this.editor.config.get("blockToolbar")),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),c({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}static get pluginName(){return"BlockToolbar"}init(){const r=this.editor,w=r.t,F=w("Click to edit block"),le=w("Drag to move"),Me=w("Edit block"),Fe=r.plugins.has("DragDropBlockToolbar"),it=Fe?`${F}
${le}`:Me;this.buttonView.label=it,Fe&&(this.buttonView.element.dataset.ckeTooltipClass="ck-tooltip_multi-line"),this.listenTo(r.model.document.selection,"change:range",(Rt,fi)=>{fi.directChange&&this._hidePanel()}),this.listenTo(r.ui,"update",()=>this._updateButton()),this.listenTo(r,"change:isReadOnly",()=>this._updateButton(),{priority:"low"}),this.listenTo(r.ui.focusTracker,"change:isFocused",()=>this._updateButton()),this.listenTo(this.buttonView,"change:isVisible",(Rt,fi,zi)=>{zi?this.buttonView.listenTo(window,"resize",()=>this._updateButton()):(this.buttonView.stopListening(window,"resize"),this._hidePanel())}),r.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this._showPanel(),afterBlur:()=>this._hidePanel()})}afterInit(){this.toolbarView.fillFromConfig(this._blockToolbarConfig,this.editor.ui.componentFactory);for(const r of this.toolbarView.items)r.on("execute",()=>this._hidePanel(!0),{priority:"high"})}destroy(){super.destroy(),this.panelView.destroy(),this.buttonView.destroy(),this.toolbarView.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_createToolbarView(){const r=this.editor.locale.t,w=!this._blockToolbarConfig.shouldNotGroupWhenFull,F=new Ti(this.editor.locale,{shouldGroupWhenFull:w,isFloating:!0});return F.ariaLabel=r("Editor block content toolbar"),F}_createPanelView(){const r=this.editor,w=new Ln(r.locale);return w.content.add(this.toolbarView),w.class="ck-toolbar-container",r.ui.view.body.add(w),r.ui.focusTracker.add(w.element),this.toolbarView.keystrokes.set("Esc",(F,le)=>{this._hidePanel(!0),le()}),w}_createButtonView(){const r=this.editor,w=r.t,F=new vs(r.locale),le=this._blockToolbarConfig.icon,Me=di[le]||le||di.dragIndicator;return F.set({label:w("Edit block"),icon:Me,withText:!1}),F.bind("isOn").to(this.panelView,"isVisible"),F.bind("tooltip").to(this.panelView,"isVisible",Fe=>!Fe),this.listenTo(F,"execute",()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()}),r.ui.view.body.add(F),r.ui.focusTracker.add(F.element),F}_updateButton(){const r=this.editor,w=r.model,F=r.editing.view;if(!r.ui.focusTracker.isFocused)return void this._hideButton();if(!r.model.canEditAt(r.model.document.selection))return void this._hideButton();const le=Array.from(w.document.selection.getSelectedBlocks())[0];if(!le||Array.from(this.toolbarView.items).every(Fe=>!Fe.isEnabled))return void this._hideButton();const Me=F.domConverter.mapViewToDom(r.editing.mapper.toViewElement(le));this.buttonView.isVisible=!0,this._setupToolbarResize(),this._attachButtonToElement(Me),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){if(!this.buttonView.isVisible)return;const r=this.panelView.isVisible;this.panelView.show();const w=this._getSelectedEditableElement();this.toolbarView.maxWidth=this._getToolbarMaxWidth(w),this.panelView.pin({target:this.buttonView.element,limiter:w}),r||this.toolbarView.items.get(0).focus()}_getSelectedEditableElement(){const r=this.editor.model.document.selection.getFirstRange().root.rootName;return this.editor.ui.getEditableElement(r)}_hidePanel(r){this.panelView.isVisible=!1,r&&this.editor.editing.view.focus()}_attachButtonToElement(r){const w=window.getComputedStyle(r),F=new j.UL(this._getSelectedEditableElement()),le=parseInt(w.paddingTop,10),Me=parseInt(w.lineHeight,10)||1.2*parseInt(w.fontSize,10),Fe=new j.UL(this.buttonView.element),it=new j.UL(r);let Rt;Rt=this.editor.locale.uiLanguageDirection==="ltr"?F.left-Fe.width:F.right;const fi=it.top+le+(Me-Fe.height)/2;Fe.moveTo(Rt,fi);const zi=Fe.toAbsoluteRect();this.buttonView.top=zi.top,this.buttonView.left=zi.left}_setupToolbarResize(){const r=this._getSelectedEditableElement();this._blockToolbarConfig.shouldNotGroupWhenFull||(this._resizeObserver&&this._resizeObserver.element!==r&&(this._resizeObserver.destroy(),this._resizeObserver=null),this._resizeObserver||(this._resizeObserver=new j.do(r,()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth(r)})))}_getToolbarMaxWidth(r){const w=new j.UL(r),F=new j.UL(this.buttonView.element),le=this.editor.locale.uiLanguageDirection==="rtl"?F.left-w.right+F.width:w.left-F.left;return _s(w.width+le)}}const ys={colorPaletteIcon:Cn}},"./packages/ckeditor5-ui/src/search/filteredview.ts":()=>{},"./packages/ckeditor5-utils/src/ckeditorerror.ts":(p,_,l)=>{"use strict";l.d(_,{H:()=>x,KE:()=>B,ZP:()=>P});const c="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class P extends Error{constructor(Y,te,oe){super(function(ie,u){const y=new WeakSet,f=(T,E)=>{if(typeof E=="object"&&E!==null){if(y.has(E))return`[object ${E.constructor.name}]`;y.add(E)}return E},v=u?` ${JSON.stringify(u,f)}`:"",A=h(ie);return ie+v+A}(Y,oe)),this.name="CKEditorError",this.context=te,this.data=oe}is(Y){return Y==="CKEditorError"}static rethrowUnexpectedError(Y,te){if(Y.is&&Y.is("CKEditorError"))throw Y;const oe=new P(Y.message,te);throw oe.stack=Y.stack,oe}}function B(Z,Y){console.warn(...j(Z,Y))}function x(Z,Y){console.error(...j(Z,Y))}function h(Z){return`
Read more: ${c}#error-${Z}`}function j(Z,Y){const te=h(Z);return Y?[Z,Y,te]:[Z,te]}},"./packages/ckeditor5-utils/src/index.ts":(p,_,l)=>{"use strict";l.d(_,{Bb:()=>E.ZP,FE:()=>Xe,De:()=>Di,Xu:()=>ye,a6:()=>Je,ln:()=>V,M3:()=>u,Rh:()=>vt,VD:()=>St,go:()=>et,Re:()=>ft,UL:()=>yi,do:()=>wn,fZ:()=>Ze,Rt:()=>st,QX:()=>tt,az:()=>ti,gw:()=>Mn,Hg:()=>Y,Pk:()=>te,OB:()=>B,$J:()=>Ri,HZ:()=>h,wm:()=>Ot,Ps:()=>It,dk:()=>Mt,lo:()=>ri,Cq:()=>In,yy:()=>Ut,XU:()=>ho,j9:()=>Ae,mA:()=>ro,xZ:()=>Ce,global:()=>gt,cq:()=>ee,ZQ:()=>se,VG:()=>A,dj:()=>oo,tO:()=>Kn,C3:()=>be,Zt:()=>Ht,Cb:()=>Rn,pp:()=>Nn,YK:()=>zn,to:()=>xo,TW:()=>Lt,nA:()=>mo,UG:()=>$i,bR:()=>wi,Gs:()=>oi,$b:()=>ht,pn:()=>jt,Do:()=>rn,H:()=>E.H,KE:()=>E.KE,CD:()=>oe,Zz:()=>Yn,tA:()=>v,Dm:()=>T.D,Od:()=>Ke,XD:()=>gi,F0:()=>si,mR:()=>xt,jS:()=>Ne,x:()=>Pn,qo:()=>Ue,qL:()=>zt,nn:()=>H,hQ:()=>f,Tx:()=>Qn,i8:()=>T.Z,Dc:()=>Wt});const c=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var P;const B={isMac:x(c),isWindows:(P=c,P.indexOf("windows")>-1),isGecko:function(_e){return!!_e.match(/gecko\/\d+/)}(c),isSafari:function(_e){return _e.indexOf(" applewebkit/")>-1&&_e.indexOf("chrome")===-1}(c),isiOS:function(_e){return!!_e.match(/iphone|ipad/i)||x(_e)&&navigator.maxTouchPoints>0}(c),isAndroid:function(_e){return _e.indexOf("android")>-1}(c),isBlink:function(_e){return _e.indexOf("chrome/")>-1&&_e.indexOf("edge/")<0}(c),features:{isRegExpUnicodePropertySupported:function(){let _e=!1;try{_e="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch{}return _e}()}};function x(_e){return _e.indexOf("macintosh")>-1}function h(_e,k,d,I){d=d||function(he,ve){return he===ve};const N=Array.isArray(_e)?_e:Array.prototype.slice.call(_e),X=Array.isArray(k)?k:Array.prototype.slice.call(k),ce=function(he,ve,Re){const We=j(he,ve,Re);if(We===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const Ye=Z(he,We),pt=Z(ve,We),Tt=j(Ye,pt,Re),Pt=he.length-Tt,Ct=ve.length-Tt;return{firstIndex:We,lastIndexOld:Pt,lastIndexNew:Ct}}(N,X,d);return I?function(he,ve){const{firstIndex:Re,lastIndexOld:We,lastIndexNew:Ye}=he;if(Re===-1)return Array(ve).fill("equal");let pt=[];return Re>0&&(pt=pt.concat(Array(Re).fill("equal"))),Ye-Re>0&&(pt=pt.concat(Array(Ye-Re).fill("insert"))),We-Re>0&&(pt=pt.concat(Array(We-Re).fill("delete"))),Ye<ve&&(pt=pt.concat(Array(ve-Ye).fill("equal"))),pt}(ce,X.length):function(he,ve){const Re=[],{firstIndex:We,lastIndexOld:Ye,lastIndexNew:pt}=ve;return pt-We>0&&Re.push({index:We,type:"insert",values:he.slice(We,pt)}),Ye-We>0&&Re.push({index:We+(pt-We),type:"delete",howMany:Ye-We}),Re}(X,ce)}function j(_e,k,d){for(let I=0;I<Math.max(_e.length,k.length);I++)if(_e[I]===void 0||k[I]===void 0||!d(_e[I],k[I]))return I;return-1}function Z(_e,k){return _e.slice(k).reverse()}function Y(_e,k,d){d=d||function(Pt,Ct){return Pt===Ct};const I=_e.length,N=k.length;if(I>200||N>200||I+N>300)return Y.fastDiff(_e,k,d,!0);let X,ce;if(N<I){const Pt=_e;_e=k,k=Pt,X="delete",ce="insert"}else X="insert",ce="delete";const pe=_e.length,he=k.length,ve=he-pe,Re={},We={};function Ye(Pt){const Ct=(We[Pt-1]!==void 0?We[Pt-1]:-1)+1,ii=We[Pt+1]!==void 0?We[Pt+1]:-1,Jt=Ct>ii?-1:1;Re[Pt+Jt]&&(Re[Pt]=Re[Pt+Jt].slice(0)),Re[Pt]||(Re[Pt]=[]),Re[Pt].push(Ct>ii?X:ce);let bi=Math.max(Ct,ii),Ei=bi-Pt;for(;Ei<pe&&bi<he&&d(_e[Ei],k[bi]);)Ei++,bi++,Re[Pt].push("equal");return bi}let pt,Tt=0;do{for(pt=-Tt;pt<ve;pt++)We[pt]=Ye(pt);for(pt=ve+Tt;pt>ve;pt--)We[pt]=Ye(pt);We[ve]=Ye(ve),Tt++}while(We[ve]!==he);return Re[ve].slice(1)}function te(_e,k){const d=[];let I=0,N=null;return _e.forEach(ce=>{ce=="equal"?(X(),I++):ce=="insert"?(N&&N.type=="insert"?N.values.push(k[I]):(X(),N={type:"insert",index:I,values:[k[I]]}),I++):N&&N.type=="delete"?N.howMany++:(X(),N={type:"delete",index:I,howMany:1})}),X(),d;function X(){N&&(d.push(N),N=null)}}function oe(_e,...k){k.forEach(d=>{const I=Object.getOwnPropertyNames(d),N=Object.getOwnPropertySymbols(d);I.concat(N).forEach(X=>{if(X in _e.prototype||typeof d=="function"&&(X=="length"||X=="name"||X=="prototype"))return;const ce=Object.getOwnPropertyDescriptor(d,X);ce.enumerable=!1,Object.defineProperty(_e.prototype,X,ce)})})}Y.fastDiff=h;const ie=function(){return function _e(){_e.called=!0}};class u{constructor(k,d){this.source=k,this.name=d,this.path=[],this.stop=ie(),this.off=ie()}}const y=new Array(256).fill("").map((_e,k)=>("0"+k.toString(16)).slice(-2));function f(){const _e=4294967296*Math.random()>>>0,k=4294967296*Math.random()>>>0,d=4294967296*Math.random()>>>0,I=4294967296*Math.random()>>>0;return"e"+y[_e>>0&255]+y[_e>>8&255]+y[_e>>16&255]+y[_e>>24&255]+y[k>>0&255]+y[k>>8&255]+y[k>>16&255]+y[k>>24&255]+y[d>>0&255]+y[d>>8&255]+y[d>>16&255]+y[d>>24&255]+y[I>>0&255]+y[I>>8&255]+y[I>>16&255]+y[I>>24&255]}const v={get(_e="normal"){return typeof _e!="number"?this[_e]||this.normal:_e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function A(_e,k){const d=v.get(k.priority);for(let I=0;I<_e.length;I++)if(v.get(_e[I].priority)<d)return void _e.splice(I,0,k);_e.push(k)}var T=l("./packages/ckeditor5-utils/src/version.ts"),E=l("./packages/ckeditor5-utils/src/ckeditorerror.ts");const ae=Symbol("listeningTo"),q=Symbol("emitterId"),z=Symbol("delegations"),b=V(Object);function V(_e){return _e?class extends _e{on(k,d,I){this.listenTo(this,k,d,I)}once(k,d,I){let N=!1;this.listenTo(this,k,(X,...ce)=>{N||(N=!0,X.off(),d.call(this,X,...ce))},I)}off(k,d){this.stopListening(this,k,d)}listenTo(k,d,I,N={}){let X,ce;this[ae]||(this[ae]={});const pe=this[ae];D(k)||$(k);const he=D(k);(X=pe[he])||(X=pe[he]={emitter:k,callbacks:{}}),(ce=X.callbacks[d])||(ce=X.callbacks[d]=[]),ce.push(I),function(ve,Re,We,Ye,pt){Re._addEventListener?Re._addEventListener(We,Ye,pt):ve._addEventListener.call(Re,We,Ye,pt)}(this,k,d,I,N)}stopListening(k,d,I){const N=this[ae];let X=k&&D(k);const ce=N&&X?N[X]:void 0,pe=ce&&d?ce.callbacks[d]:void 0;if(!(!N||k&&!ce||d&&!pe))if(I)De(this,k,d,I),pe.indexOf(I)!==-1&&(pe.length===1?delete ce.callbacks[d]:De(this,k,d,I));else if(pe){for(;I=pe.pop();)De(this,k,d,I);delete ce.callbacks[d]}else if(ce){for(d in ce.callbacks)this.stopListening(k,d);delete N[X]}else{for(X in N)this.stopListening(N[X].emitter);delete this[ae]}}fire(k,...d){try{const I=k instanceof u?k:new u(this,k),N=I.name;let X=je(this,N);if(I.path.push(this),X){const pe=[I,...d];X=Array.from(X);for(let he=0;he<X.length&&(X[he].callback.apply(this,pe),I.off.called&&(delete I.off.called,this._removeEventListener(N,X[he].callback)),!I.stop.called);he++);}const ce=this[z];if(ce){const pe=ce.get(N),he=ce.get("*");pe&&Ie(pe,I,d),he&&Ie(he,I,d)}return I.return}catch(I){E.ZP.rethrowUnexpectedError(I,this)}}delegate(...k){return{to:(d,I)=>{this[z]||(this[z]=new Map),k.forEach(N=>{const X=this[z].get(N);X?X.set(d,I):this[z].set(N,new Map([[d,I]]))})}}}stopDelegating(k,d){if(this[z])if(k)if(d){const I=this[z].get(k);I&&I.delete(d)}else this[z].delete(k);else this[z].clear()}_addEventListener(k,d,I){(function(ce,pe){const he=re(ce);if(he[pe])return;let ve=pe,Re=null;const We=[];for(;ve!==""&&!he[ve];)he[ve]={callbacks:[],childEvents:[]},We.push(he[ve]),Re&&he[ve].childEvents.push(Re),Re=ve,ve=ve.substr(0,ve.lastIndexOf(":"));if(ve!==""){for(const Ye of We)Ye.callbacks=he[ve].callbacks.slice();he[ve].childEvents.push(Re)}})(this,k);const N=Ee(this,k),X={callback:d,priority:v.get(I.priority)};for(const ce of N)A(ce,X)}_removeEventListener(k,d){const I=Ee(this,k);for(const N of I)for(let X=0;X<N.length;X++)N[X].callback==d&&(N.splice(X,1),X--)}}:b}function $(_e,k){_e[q]||(_e[q]=k||f())}function D(_e){return _e[q]}function re(_e){return _e._events||Object.defineProperty(_e,"_events",{value:{}}),_e._events}function Ee(_e,k){const d=re(_e)[k];if(!d)return[];let I=[d.callbacks];for(let N=0;N<d.childEvents.length;N++){const X=Ee(_e,d.childEvents[N]);I=I.concat(X)}return I}function je(_e,k){let d;return _e._events&&(d=_e._events[k])&&d.callbacks.length?d.callbacks:k.indexOf(":")>-1?je(_e,k.substr(0,k.lastIndexOf(":"))):null}function Ie(_e,k,d){for(let[I,N]of _e){N?typeof N=="function"&&(N=N(k.name)):N=k.name;const X=new u(k.source,N);X.path=[...k.path],I.fire(X,...d)}}function De(_e,k,d,I){k._removeEventListener?k._removeEventListener(d,I):_e._removeEventListener.call(k,d,I)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(_e=>{V[_e]=b.prototype[_e]});var mt=l("./node_modules/lodash-es/isObject.js");const lt=Symbol("observableProperties"),ut=Symbol("boundObservables"),dt=Symbol("boundProperties"),_t=Symbol("decoratedMethods"),bt=Symbol("decoratedOriginal"),Qe=ft(V());function ft(_e){return _e?class extends _e{set(k,d){if((0,mt.Z)(k))return void Object.keys(k).forEach(N=>{this.set(N,k[N])},this);Ve(this);const I=this[lt];if(k in this&&!I.has(k))throw new E.ZP("observable-set-cannot-override",this);Object.defineProperty(this,k,{enumerable:!0,configurable:!0,get:()=>I.get(k),set(N){const X=I.get(k);let ce=this.fire(`set:${k}`,k,N,X);ce===void 0&&(ce=N),X===ce&&I.has(k)||(I.set(k,ce),this.fire(`change:${k}`,k,ce,X))}}),this[k]=d}bind(...k){if(!k.length||!xe(k))throw new E.ZP("observable-bind-wrong-properties",this);if(new Set(k).size!==k.length)throw new E.ZP("observable-bind-duplicate-properties",this);Ve(this);const d=this[dt];k.forEach(N=>{if(d.has(N))throw new E.ZP("observable-bind-rebind",this)});const I=new Map;return k.forEach(N=>{const X={property:N,to:[]};d.set(N,X),I.set(N,X)}),{to:Te,toMany:Q,_observable:this,_bindProperties:k,_to:[],_bindings:I}}unbind(...k){if(!this[lt])return;const d=this[dt],I=this[ut];if(k.length){if(!xe(k))throw new E.ZP("observable-unbind-wrong-properties",this);k.forEach(N=>{const X=d.get(N);X&&(X.to.forEach(([ce,pe])=>{const he=I.get(ce),ve=he[pe];ve.delete(X),ve.size||delete he[pe],Object.keys(he).length||(I.delete(ce),this.stopListening(ce,"change"))}),d.delete(N))})}else I.forEach((N,X)=>{this.stopListening(X,"change")}),I.clear(),d.clear()}decorate(k){Ve(this);const d=this[k];if(!d)throw new E.ZP("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:k});this.on(k,(I,N)=>{I.return=d.apply(this,N)}),this[k]=function(...I){return this.fire(k,I)},this[k][bt]=d,this[_t]||(this[_t]=[]),this[_t].push(k)}stopListening(k,d,I){if(!k&&this[_t]){for(const N of this[_t])this[N]=this[N][bt];delete this[_t]}super.stopListening(k,d,I)}}:Qe}function Ve(_e){_e[lt]||(Object.defineProperty(_e,lt,{value:new Map}),Object.defineProperty(_e,ut,{value:new Map}),Object.defineProperty(_e,dt,{value:new Map}))}function Te(..._e){const k=function(...X){if(!X.length)throw new E.ZP("observable-bind-to-parse-error",null);const ce={to:[]};let pe;return typeof X[X.length-1]=="function"&&(ce.callback=X.pop()),X.forEach(he=>{if(typeof he=="string")pe.properties.push(he);else{if(typeof he!="object")throw new E.ZP("observable-bind-to-parse-error",null);pe={observable:he,properties:[]},ce.to.push(pe)}}),ce}(..._e),d=Array.from(this._bindings.keys()),I=d.length;if(!k.callback&&k.to.length>1)throw new E.ZP("observable-bind-to-no-callback",this);if(I>1&&k.callback)throw new E.ZP("observable-bind-to-extra-callback",this);var N;k.to.forEach(X=>{if(X.properties.length&&X.properties.length!==I)throw new E.ZP("observable-bind-to-properties-length",this);X.properties.length||(X.properties=this._bindProperties)}),this._to=k.to,k.callback&&(this._bindings.get(d[0]).callback=k.callback),N=this._observable,this._to.forEach(X=>{const ce=N[ut];let pe;ce.get(X.observable)||N.listenTo(X.observable,"change",(he,ve)=>{pe=ce.get(X.observable)[ve],pe&&pe.forEach(Re=>{Oe(N,Re.property)})})}),function(X){let ce;X._bindings.forEach((pe,he)=>{X._to.forEach(ve=>{ce=ve.properties[pe.callback?0:X._bindProperties.indexOf(he)],pe.to.push([ve.observable,ce]),function(Re,We,Ye,pt){const Tt=Re[ut],Pt=Tt.get(Ye),Ct=Pt||{};Ct[pt]||(Ct[pt]=new Set),Ct[pt].add(We),Pt||Tt.set(Ye,Ct)}(X._observable,pe,ve.observable,ce)})})}(this),this._bindProperties.forEach(X=>{Oe(this._observable,X)})}function Q(_e,k,d){if(this._bindings.size>1)throw new E.ZP("observable-bind-to-many-not-one-binding",this);this.to(...function(I,N){const X=I.map(ce=>[ce,N]);return Array.prototype.concat.apply([],X)}(_e,k),d)}function xe(_e){return _e.every(k=>typeof k=="string")}function Oe(_e,k){const d=_e[dt].get(k);let I;d.callback?I=d.callback.apply(_e,d.to.map(N=>N[0][N[1]])):(I=d.to[0],I=I[0][I[1]]),Object.prototype.hasOwnProperty.call(_e,k)?_e[k]=I:_e.set(k,I)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(_e=>{ft[_e]=Qe.prototype[_e]});class Je{constructor(){this._replacedElements=[]}replace(k,d){this._replacedElements.push({element:k,newElement:d}),k.style.display="none",d&&k.parentNode.insertBefore(d,k.nextSibling)}restore(){this._replacedElements.forEach(({element:k,newElement:d})=>{k.style.display="",d&&d.remove()}),this._replacedElements=[]}}function Ze(_e){let k=new AbortController;function d(...I){return k.abort(),k=new AbortController,_e(k.signal,...I)}return d.abort=()=>k.abort(),d}function tt(_e){let k=0;for(const d of _e)k++;return k}function st(_e,k){const d=Math.min(_e.length,k.length);for(let I=0;I<d;I++)if(_e[I]!=k[I])return I;return _e.length==k.length?"same":_e.length<k.length?"prefix":"extension"}function Lt(_e){return!(!_e||!_e[Symbol.iterator])}var Ft=l("./node_modules/lodash-es/_baseGetTag.js"),Yt=l("./node_modules/lodash-es/isArray.js"),ui=l("./node_modules/lodash-es/isObjectLike.js");const Nt=function(_e){return typeof _e=="string"||!(0,Yt.Z)(_e)&&(0,ui.Z)(_e)&&(0,Ft.Z)(_e)=="[object String]"};function ti(_e,k,d={},I=[]){const N=d&&d.xmlns,X=N?_e.createElementNS(N,k):_e.createElement(k);for(const ce in d)X.setAttribute(ce,d[ce]);!Nt(I)&&Lt(I)||(I=[I]);for(let ce of I)Nt(ce)&&(ce=_e.createTextNode(ce)),X.appendChild(ce);return X}var hi=l("./node_modules/lodash-es/isPlainObject.js"),Ci=l("./node_modules/lodash-es/cloneDeepWith.js"),Oi=l("./node_modules/lodash-es/isElement.js");class Di{constructor(k,d){this._config={},d&&this.define(Vi(d)),k&&this._setObjectToTarget(this._config,k)}set(k,d){this._setToTarget(this._config,k,d)}define(k,d){this._setToTarget(this._config,k,d,!0)}get(k){return this._getFromSource(this._config,k)}*names(){for(const k of Object.keys(this._config))yield k}_setToTarget(k,d,I,N=!1){if((0,hi.Z)(d))return void this._setObjectToTarget(k,d,N);const X=d.split(".");d=X.pop();for(const ce of X)(0,hi.Z)(k[ce])||(k[ce]={}),k=k[ce];if((0,hi.Z)(I))return(0,hi.Z)(k[d])||(k[d]={}),k=k[d],void this._setObjectToTarget(k,I,N);N&&k[d]!==void 0||(k[d]=I)}_getFromSource(k,d){const I=d.split(".");d=I.pop();for(const N of I){if(!(0,hi.Z)(k[N])){k=null;break}k=k[N]}return k?Vi(k[d]):void 0}_setObjectToTarget(k,d,I){Object.keys(d).forEach(N=>{this._setToTarget(k,N,d[N],I)})}}function Vi(_e){return(0,Ci.Z)(_e,Pi)}function Pi(_e){return(0,Oi.Z)(_e)||typeof _e=="function"?_e:void 0}function $i(_e){if(_e){if(_e.defaultView)return _e instanceof _e.defaultView.Document;if(_e.ownerDocument&&_e.ownerDocument.defaultView)return _e instanceof _e.ownerDocument.defaultView.Node}return!1}function at(_e){const k=Object.prototype.toString.apply(_e);return k=="[object Window]"||k=="[object global]"}const ue=ye(V());function ye(_e){return _e?class extends _e{listenTo(k,d,I,N={}){if($i(k)||at(k)){const X={capture:!!N.useCapture,passive:!!N.usePassive},ce=this._getProxyEmitter(k,X)||new Le(k,X);this.listenTo(ce,d,I,N)}else super.listenTo(k,d,I,N)}stopListening(k,d,I){if($i(k)||at(k)){const N=this._getAllProxyEmitters(k);for(const X of N)this.stopListening(X,d,I)}else super.stopListening(k,d,I)}_getProxyEmitter(k,d){return function(I,N){const X=I[ae];return X&&X[N]?X[N].emitter:null}(this,Ge(k,d))}_getAllProxyEmitters(k){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(d=>this._getProxyEmitter(k,d)).filter(d=>!!d)}}:ue}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(_e=>{ye[_e]=ue.prototype[_e]});class Le extends V(){constructor(k,d){super(),$(this,Ge(k,d)),this._domNode=k,this._options=d}attach(k){if(this._domListeners&&this._domListeners[k])return;const d=this._createDomListener(k);this._domNode.addEventListener(k,d,this._options),this._domListeners||(this._domListeners={}),this._domListeners[k]=d}detach(k){let d;!this._domListeners[k]||(d=this._events[k])&&d.callbacks.length||this._domListeners[k].removeListener()}_addEventListener(k,d,I){this.attach(k),V().prototype._addEventListener.call(this,k,d,I)}_removeEventListener(k,d){V().prototype._removeEventListener.call(this,k,d),this.detach(k)}_createDomListener(k){const d=I=>{this.fire(k,I)};return d.removeListener=()=>{this._domNode.removeEventListener(k,d,this._options),delete this._domListeners[k]},d}}function Ge(_e,k){let d=function(I){return I["data-ck-expando"]||(I["data-ck-expando"]=f())}(_e);for(const I of Object.keys(k).sort())k[I]&&(d+="-"+I);return d}let rt;try{rt={window,document}}catch{rt={window:{},document:{}}}const gt=rt;function Ot(_e){let k=_e.parentElement;if(!k)return null;for(;k.tagName!="BODY";){const d=k.style.overflowY||gt.window.getComputedStyle(k).overflowY;if(d==="auto"||d==="scroll")break;if(k=k.parentElement,!k)return null}return k}function Mt(_e){const k=[];let d=_e;for(;d&&d.nodeType!=Node.DOCUMENT_NODE;)k.unshift(d),d=d.parentNode;return k}function Ut(_e){return _e instanceof HTMLTextAreaElement?_e.value:_e.innerHTML}function ri(_e){const k=_e.ownerDocument.defaultView.getComputedStyle(_e);return{top:parseInt(k.borderTopWidth,10),right:parseInt(k.borderRightWidth,10),bottom:parseInt(k.borderBottomWidth,10),left:parseInt(k.borderLeftWidth,10)}}function oi(_e){return Object.prototype.toString.call(_e)=="[object Text]"}function wi(_e){return Object.prototype.toString.apply(_e)=="[object Range]"}function Ii(_e){return _e&&_e.parentNode?_e.offsetParent===gt.document.body?null:_e.offsetParent:null}const Li=["top","right","bottom","left","width","height"];class yi{constructor(k){const d=wi(k);if(Object.defineProperty(this,"_source",{value:k._source||k,writable:!0,enumerable:!1}),Mi(k)||d)if(d){const I=yi.getDomRangeRects(k);ji(this,yi.getBoundingRect(I))}else ji(this,k.getBoundingClientRect());else if(at(k)){const{innerWidth:I,innerHeight:N}=k;ji(this,{top:0,right:I,bottom:N,left:0,width:I,height:N})}else ji(this,k)}clone(){return new yi(this)}moveTo(k,d){return this.top=d,this.right=k+this.width,this.bottom=d+this.height,this.left=k,this}moveBy(k,d){return this.top+=d,this.right+=k,this.left+=k,this.bottom+=d,this}getIntersection(k){const d={top:Math.max(this.top,k.top),right:Math.min(this.right,k.right),bottom:Math.min(this.bottom,k.bottom),left:Math.max(this.left,k.left),width:0,height:0};if(d.width=d.right-d.left,d.height=d.bottom-d.top,d.width<0||d.height<0)return null;{const I=new yi(d);return I._source=this._source,I}}getIntersectionArea(k){const d=this.getIntersection(k);return d?d.getArea():0}getArea(){return this.width*this.height}getVisible(){const k=this._source;let d=this.clone();if(Ki(k))return d;let I,N=k,X=k.parentNode||k.commonAncestorContainer;for(;X&&!Ki(X);){const pe=((ce=X)instanceof HTMLElement?ce.ownerDocument.defaultView.getComputedStyle(ce).overflow:"visible")==="visible";N instanceof HTMLElement&&tn(N)==="absolute"&&(I=N);const he=tn(X);if(pe||I&&(he==="relative"&&pe||he!=="relative")){N=X,X=X.parentNode;continue}const ve=new yi(X),Re=d.getIntersection(ve);if(!Re)return null;Re.getArea()<d.getArea()&&(d=Re),N=X,X=X.parentNode}var ce;return d}isEqual(k){for(const d of Li)if(this[d]!==k[d])return!1;return!0}contains(k){const d=this.getIntersection(k);return!(!d||!d.isEqual(k))}toAbsoluteRect(){const{scrollX:k,scrollY:d}=gt.window,I=this.clone().moveBy(k,d);if(Mi(I._source)){const N=Ii(I._source);N&&function(X,ce){const pe=new yi(ce),he=ri(ce);let ve=0,Re=0;ve-=pe.left,Re-=pe.top,ve+=ce.scrollLeft,Re+=ce.scrollTop,ve-=he.left,Re-=he.top,X.moveBy(ve,Re)}(I,N)}return I}excludeScrollbarsAndBorders(){const k=this._source;let d,I,N;if(at(k))d=k.innerWidth-k.document.documentElement.clientWidth,I=k.innerHeight-k.document.documentElement.clientHeight,N=k.getComputedStyle(k.document.documentElement).direction;else{const X=ri(k);d=k.offsetWidth-k.clientWidth-X.left-X.right,I=k.offsetHeight-k.clientHeight-X.top-X.bottom,N=k.ownerDocument.defaultView.getComputedStyle(k).direction,this.left+=X.left,this.top+=X.top,this.right-=X.right,this.bottom-=X.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=d,N==="ltr"?this.right-=d:this.left+=d,this.height-=I,this.bottom-=I,this}static getDomRangeRects(k){const d=[],I=Array.from(k.getClientRects());if(I.length)for(const N of I)d.push(new yi(N));else{let N=k.startContainer;oi(N)&&(N=N.parentNode);const X=new yi(N.getBoundingClientRect());X.right=X.left,X.width=0,d.push(X)}return d}static getBoundingRect(k){const d={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let I=0;for(const N of k)I++,d.left=Math.min(d.left,N.left),d.top=Math.min(d.top,N.top),d.right=Math.max(d.right,N.right),d.bottom=Math.max(d.bottom,N.bottom);return I==0?null:(d.width=d.right-d.left,d.height=d.bottom-d.top,new yi(d))}}function ji(_e,k){for(const d of Li)_e[d]=k[d]}function Ki(_e){return!!Mi(_e)&&_e===_e.ownerDocument.body}function Mi(_e){return _e!==null&&typeof _e=="object"&&_e.nodeType===1&&typeof _e.getBoundingClientRect=="function"}function tn(_e){return _e instanceof HTMLElement?_e.ownerDocument.defaultView.getComputedStyle(_e).position:"static"}const $t=class{constructor(_e,k){$t._observerInstance||$t._createObserver(),this._element=_e,this._callback=k,$t._addElementCallback(_e,k),$t._observerInstance.observe(_e)}get element(){return this._element}destroy(){$t._deleteElementCallback(this._element,this._callback)}static _addElementCallback(_e,k){$t._elementCallbacks||($t._elementCallbacks=new Map);let d=$t._elementCallbacks.get(_e);d||(d=new Set,$t._elementCallbacks.set(_e,d)),d.add(k)}static _deleteElementCallback(_e,k){const d=$t._getElementCallbacks(_e);d&&(d.delete(k),d.size||($t._elementCallbacks.delete(_e),$t._observerInstance.unobserve(_e))),$t._elementCallbacks&&!$t._elementCallbacks.size&&($t._observerInstance=null,$t._elementCallbacks=null)}static _getElementCallbacks(_e){return $t._elementCallbacks?$t._elementCallbacks.get(_e):null}static _createObserver(){$t._observerInstance=new gt.window.ResizeObserver(_e=>{for(const k of _e){const d=$t._getElementCallbacks(k.target);if(d)for(const I of d)I(k)}})}};let wn=$t;function Ne(_e,k){_e instanceof HTMLTextAreaElement&&(_e.value=k),_e.innerHTML=k}function H(_e){return k=>k+_e}function ee(_e){let k=0;for(;_e.previousSibling;)_e=_e.previousSibling,k++;return k}function se(_e,k,d){_e.insertBefore(d,_e.childNodes[k]||null)}function be(_e){return _e&&_e.nodeType===Node.COMMENT_NODE}function ht(_e){try{gt.document.createAttribute(_e)}catch{return!1}return!0}function jt(_e){return!!(_e&&_e.getClientRects&&_e.getClientRects().length)}wn._observerInstance=null,wn._elementCallbacks=null;var Qt=l("./node_modules/lodash-es/isFunction.js"),yt=Math.pow;function Ce({element:_e,target:k,positions:d,limiter:I,fitInViewport:N,viewportOffsetConfig:X}){(0,Qt.Z)(k)&&(k=k()),(0,Qt.Z)(I)&&(I=I());const ce=Ii(_e),pe=function(Ye){Ye=Object.assign({top:0,bottom:0,left:0,right:0},Ye);const pt=new yi(gt.window);return pt.top+=Ye.top,pt.height-=Ye.top,pt.bottom-=Ye.bottom,pt.height-=Ye.bottom,pt}(X),he=new yi(_e),ve=ze(k,pe);let Re;if(!ve||!pe.getIntersection(ve))return null;const We={targetRect:ve,elementRect:he,positionedElementAncestor:ce,viewportRect:pe};if(I||N){if(I){const Ye=ze(I,pe);Ye&&(We.limiterRect=Ye)}Re=function(Ye,pt){const{elementRect:Tt}=pt,Pt=Tt.getArea(),Ct=Ye.map(bi=>new nt(bi,pt)).filter(bi=>!!bi.name);let ii=0,Jt=null;for(const bi of Ct){const{limiterIntersectionArea:Ei,viewportIntersectionArea:Hi}=bi;if(Ei===Pt)return bi;const sn=yt(Hi,2)+yt(Ei,2);sn>ii&&(ii=sn,Jt=bi)}return Jt}(d,We)}else Re=new nt(d[0],We);return Re}function ze(_e,k){const d=new yi(_e).getVisible();return d?d.getIntersection(k):null}class nt{constructor(k,d){const I=k(d.targetRect,d.elementRect,d.viewportRect,d.limiterRect);if(!I)return;const{left:N,top:X,name:ce,config:pe}=I;this.name=ce,this.config=pe,this._positioningFunctionCoordinates={left:N,top:X},this._options=d}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const k=this._options.limiterRect;return k?k.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Ke(_e){const k=_e.parentNode;k&&k.removeChild(_e)}function xt({target:_e,viewportOffset:k=0,ancestorOffset:d=0,alignToTop:I,forceScroll:N}){const X=on(_e);let ce=X,pe=null;for(k=function(he){return typeof he=="number"?{top:he,bottom:he,left:he,right:he}:he}(k);ce;){let he;he=Zi(ce==X?_e:pe),ki({parent:he,getRect:()=>hn(_e,ce),alignToTop:I,ancestorOffset:d,forceScroll:N});const ve=hn(_e,ce);if(ni({window:ce,rect:ve,viewportOffset:k,alignToTop:I,forceScroll:N}),ce.parent!=ce){if(pe=ce.frameElement,ce=ce.parent,!pe)return}else ce=null}}function si(_e,k,d){ki({parent:Zi(_e),getRect:()=>new yi(_e),ancestorOffset:k,limiterElement:d})}function ni({window:_e,rect:k,alignToTop:d,forceScroll:I,viewportOffset:N}){const X=k.clone().moveBy(0,N.bottom),ce=k.clone().moveBy(0,-N.top),pe=new yi(_e).excludeScrollbarsAndBorders(),he=d&&I,ve=[ce,X].every(Tt=>pe.contains(Tt));let{scrollX:Re,scrollY:We}=_e;const Ye=Re,pt=We;he?We-=pe.top-k.top+N.top:ve||(Ti(ce,pe)?We-=pe.top-k.top+N.top:di(X,pe)&&(We+=d?k.top-pe.top-N.top:k.bottom-pe.bottom+N.bottom)),ve||(Ni(k,pe)?Re-=pe.left-k.left+N.left:Gi(k,pe)&&(Re+=k.right-pe.right+N.right)),Re==Ye&&We===pt||_e.scrollTo(Re,We)}function ki({parent:_e,getRect:k,alignToTop:d,forceScroll:I,ancestorOffset:N=0,limiterElement:X}){const ce=on(_e),pe=d&&I;let he,ve,Re;const We=X||ce.document.body;for(;_e!=We;)ve=k(),he=new yi(_e).excludeScrollbarsAndBorders(),Re=he.contains(ve),pe?_e.scrollTop-=he.top-ve.top+N:Re||(Ti(ve,he)?_e.scrollTop-=he.top-ve.top+N:di(ve,he)&&(_e.scrollTop+=d?ve.top-he.top-N:ve.bottom-he.bottom+N)),Re||(Ni(ve,he)?_e.scrollLeft-=he.left-ve.left+N:Gi(ve,he)&&(_e.scrollLeft+=ve.right-he.right+N)),_e=_e.parentNode}function di(_e,k){return _e.bottom>k.bottom}function Ti(_e,k){return _e.top<k.top}function Ni(_e,k){return _e.left<k.left}function Gi(_e,k){return _e.right>k.right}function on(_e){return wi(_e)?_e.startContainer.ownerDocument.defaultView:_e.ownerDocument.defaultView}function Zi(_e){if(wi(_e)){let k=_e.commonAncestorContainer;return oi(k)&&(k=k.parentNode),k}return _e.parentNode}function hn(_e,k){const d=on(_e),I=new yi(_e);if(d===k)return I;{let N=d;for(;N!=k;){const X=N.frameElement,ce=new yi(X).excludeScrollbarsAndBorders();I.moveBy(ce.left,ce.top),N=N.parent}}return I}const kn={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21E7"},qn={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},rn=function(){const _e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let k=65;k<=90;k++)_e[String.fromCharCode(k).toLowerCase()]=k;for(let k=48;k<=57;k++)_e[k-48]=k;for(let k=112;k<=123;k++)_e["f"+(k-111)]=k;for(const k of"`-=[];',./\\")_e[k]=k.charCodeAt(0);return _e}(),Sn=Object.fromEntries(Object.entries(rn).map(([_e,k])=>[k,_e.charAt(0).toUpperCase()+_e.slice(1)]));function In(_e){let k;if(typeof _e=="string"){if(k=rn[_e.toLowerCase()],!k)throw new E.ZP("keyboard-unknown-key",null,{key:_e})}else k=_e.keyCode+(_e.altKey?rn.alt:0)+(_e.ctrlKey?rn.ctrl:0)+(_e.shiftKey?rn.shift:0)+(_e.metaKey?rn.cmd:0);return k}function Yn(_e){return typeof _e=="string"&&(_e=function(k){return k.split("+").map(d=>d.trim())}(_e)),_e.map(k=>typeof k=="string"?function(d){if(d.endsWith("!"))return In(d.slice(0,-1));const I=In(d);return(B.isMac||B.isiOS)&&I==rn.ctrl?rn.cmd:I}(k):k).reduce((k,d)=>d+k,0)}function ho(_e){let k=Yn(_e);return Object.entries(B.isMac||B.isiOS?kn:qn).reduce((d,[I,N])=>(k&rn[I]&&(k&=~rn[I],d+=N),d),"")+(k?Sn[k]:"")}function oo(_e){return _e==rn.arrowright||_e==rn.arrowleft||_e==rn.arrowup||_e==rn.arrowdown}function ro(_e,k){const d=k==="ltr";switch(_e){case rn.arrowleft:return d?"left":"right";case rn.arrowright:return d?"right":"left";case rn.arrowup:return"up";case rn.arrowdown:return"down"}}function Ht(_e,k){const d=ro(_e,k);return d==="down"||d==="right"}const K=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Ae(_e){return K.includes(_e)?"rtl":"ltr"}function Ue(_e){return Array.isArray(_e)?_e:[_e]}function Be(_e,k,d=1){if(typeof d!="number")throw new E.ZP("translation-service-quantity-not-a-number",null,{quantity:d});const I=Object.keys(gt.window.CKEDITOR_TRANSLATIONS).length;I===1&&(_e=Object.keys(gt.window.CKEDITOR_TRANSLATIONS)[0]);const N=k.id||k.string;if(I===0||!function(he,ve){return!!gt.window.CKEDITOR_TRANSLATIONS[he]&&!!gt.window.CKEDITOR_TRANSLATIONS[he].dictionary[ve]}(_e,N))return d!==1?k.plural:k.string;const X=gt.window.CKEDITOR_TRANSLATIONS[_e].dictionary,ce=gt.window.CKEDITOR_TRANSLATIONS[_e].getPluralForm||(he=>he===1?0:1),pe=X[N];return typeof pe=="string"?pe:pe[Number(ce(d))]}gt.window.CKEDITOR_TRANSLATIONS||(gt.window.CKEDITOR_TRANSLATIONS={});class et{constructor({uiLanguage:k="en",contentLanguage:d}={}){this.uiLanguage=k,this.contentLanguage=d||this.uiLanguage,this.uiLanguageDirection=Ae(this.uiLanguage),this.contentLanguageDirection=Ae(this.contentLanguage),this.t=(I,N)=>this._t(I,N)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(k,d=[]){d=Ue(d),typeof k=="string"&&(k={string:k});const I=k.plural?d[0]:1;return function(N,X){return N.replace(/%(\d+)/g,(ce,pe)=>pe<X.length?X[pe]:ce)}(Be(this.uiLanguage,k,I),d)}}class Xe extends V(){constructor(k={},d={}){super();const I=Lt(k);if(I||(d=k),this._items=[],this._itemMap=new Map,this._idProperty=d.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],I)for(const N of k)this._items.push(N),this._itemMap.set(this._getItemIdBeforeAdding(N),N)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(k,d){return this.addMany([k],d)}addMany(k,d){if(d===void 0)d=this._items.length;else if(d>this._items.length||d<0)throw new E.ZP("collection-add-item-invalid-index",this);let I=0;for(const N of k){const X=this._getItemIdBeforeAdding(N),ce=d+I;this._items.splice(ce,0,N),this._itemMap.set(X,N),this.fire("add",N,ce),I++}return this.fire("change",{added:k,removed:[],index:d}),this}get(k){let d;if(typeof k=="string")d=this._itemMap.get(k);else{if(typeof k!="number")throw new E.ZP("collection-get-invalid-arg",this);d=this._items[k]}return d||null}has(k){if(typeof k=="string")return this._itemMap.has(k);{const d=k[this._idProperty];return d&&this._itemMap.has(d)}}getIndex(k){let d;return d=typeof k=="string"?this._itemMap.get(k):k,d?this._items.indexOf(d):-1}remove(k){const[d,I]=this._remove(k);return this.fire("change",{added:[],removed:[d],index:I}),d}map(k,d){return this._items.map(k,d)}forEach(k,d){this._items.forEach(k,d)}find(k,d){return this._items.find(k,d)}filter(k,d){return this._items.filter(k,d)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const k=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:k,index:0})}bindTo(k){if(this._bindToCollection)throw new E.ZP("collection-bind-to-rebind",this);return this._bindToCollection=k,{as:d=>{this._setUpBindToBinding(I=>new d(I))},using:d=>{typeof d=="function"?this._setUpBindToBinding(d):this._setUpBindToBinding(I=>I[d])}}}_setUpBindToBinding(k){const d=this._bindToCollection,I=(N,X,ce)=>{const pe=d._bindToCollection==this,he=d._bindToInternalToExternalMap.get(X);if(pe&&he)this._bindToExternalToInternalMap.set(X,he),this._bindToInternalToExternalMap.set(he,X);else{const ve=k(X);if(!ve)return void this._skippedIndexesFromExternal.push(ce);let Re=ce;for(const We of this._skippedIndexesFromExternal)ce>We&&Re--;for(const We of d._skippedIndexesFromExternal)Re>=We&&Re++;this._bindToExternalToInternalMap.set(X,ve),this._bindToInternalToExternalMap.set(ve,X),this.add(ve,Re);for(let We=0;We<d._skippedIndexesFromExternal.length;We++)Re<=d._skippedIndexesFromExternal[We]&&d._skippedIndexesFromExternal[We]++}};for(const N of d)I(0,N,d.getIndex(N));this.listenTo(d,"add",I),this.listenTo(d,"remove",(N,X,ce)=>{const pe=this._bindToExternalToInternalMap.get(X);pe&&this.remove(pe),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((he,ve)=>(ce<ve&&he.push(ve-1),ce>ve&&he.push(ve),he),[])})}_getItemIdBeforeAdding(k){const d=this._idProperty;let I;if(d in k){if(I=k[d],typeof I!="string")throw new E.ZP("collection-add-invalid-id",this);if(this.get(I))throw new E.ZP("collection-add-item-already-exists",this)}else k[d]=I=f();return I}_remove(k){let d,I,N,X=!1;const ce=this._idProperty;if(typeof k=="string"?(I=k,N=this._itemMap.get(I),X=!N,N&&(d=this._items.indexOf(N))):typeof k=="number"?(d=k,N=this._items[d],X=!N,N&&(I=N[ce])):(N=k,I=N[ce],d=this._items.indexOf(N),X=d==-1||!this._itemMap.get(I)),X)throw new E.ZP("collection-remove-404",this);this._items.splice(d,1),this._itemMap.delete(I);const pe=this._bindToInternalToExternalMap.get(N);return this._bindToInternalToExternalMap.delete(N),this._bindToExternalToInternalMap.delete(pe),this.fire("remove",N,d),[N,d]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function It(_e){const k=_e.next();return k.done?null:k.value}class vt extends ye(ft()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(k){if(this._elements.has(k))throw new E.ZP("focustracker-add-element-already-exist",this);this.listenTo(k,"focus",()=>this._focus(k),{useCapture:!0}),this.listenTo(k,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(k)}remove(k){k===this.focusedElement&&this._blur(),this._elements.has(k)&&(this.stopListening(k),this._elements.delete(k))}destroy(){this.stopListening()}_focus(k){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=k,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class St{constructor(){this._listener=new(ye())}listenTo(k){this._listener.listenTo(k,"keydown",(d,I)=>{this._listener.fire("_keydown:"+In(I),I)})}set(k,d,I={}){const N=Yn(k),X=I.priority;this._listener.listenTo(this._listener,"_keydown:"+N,(ce,pe)=>{d(pe,()=>{pe.preventDefault(),pe.stopPropagation(),ce.stop()}),ce.return=!0},{priority:X})}press(k){return!!this._listener.fire("_keydown:"+In(k),k)}stopListening(k){this._listener.stopListening(k)}destroy(){this.stopListening()}}function zt(_e){return Lt(_e)?new Map(_e):function(k){const d=new Map;for(const I in k)d.set(I,k[I]);return d}(_e)}function Wt(_e,k={}){return new Promise((d,I)=>{const N=k.signal||new AbortController().signal;N.throwIfAborted();const X=setTimeout(function(){N.removeEventListener("abort",ce),d()},_e);function ce(){clearTimeout(X),I(N.reason)}N.addEventListener("abort",ce,{once:!0})})}var mi=Math.pow,ai=(_e,k,d)=>new Promise((I,N)=>{var X=he=>{try{pe(d.next(he))}catch(ve){N(ve)}},ce=he=>{try{pe(d.throw(he))}catch(ve){N(ve)}},pe=he=>he.done?I(he.value):Promise.resolve(he.value).then(X,ce);pe((d=d.apply(_e,k)).next())});function gi(_e){return ai(this,arguments,function*(k,d={}){const{maxAttempts:I=4,retryDelay:N=Ri(),signal:X=new AbortController().signal}=d;X.throwIfAborted();for(let ce=0;;ce++){try{return yield k()}catch(pe){if(ce+1>=I)throw pe}yield Wt(N(ce),{signal:X})}})}function Ri(_e={}){const{delay:k=1e3,factor:d=2,maxDelay:I=1e4}=_e;return N=>Math.min(mi(d,N)*k,I)}const Qi=1e4;function Pn(_e,k,d,I){if(Math.max(k.length,_e.length)>Qi)return _e.slice(0,d).concat(k).concat(_e.slice(d+I,_e.length));{const N=Array.from(_e);return N.splice(d,I,...k),N}}function Mn(_e,k){let d;function I(...N){I.cancel(),d=setTimeout(()=>_e(...N),k)}return I.cancel=()=>{clearTimeout(d)},I}function Qn(_e){function k(We){return We.length>=40&&We.length<=255?"VALID":"INVALID"}if(!_e)return"INVALID";let d="";try{d=atob(_e)}catch{return"INVALID"}const I=d.split("-"),N=I[0],X=I[1];if(!X)return k(_e);try{atob(X)}catch{try{if(atob(N),!atob(N).length)return k(_e)}catch{return k(_e)}}if(N.length<40||N.length>255)return"INVALID";let ce="";try{atob(N),ce=atob(X)}catch{return"INVALID"}if(ce.length!==8)return"INVALID";const pe=Number(ce.substring(0,4)),he=Number(ce.substring(4,6))-1,ve=Number(ce.substring(6,8)),Re=new Date(pe,he,ve);return Re<T.D||isNaN(Number(Re))?"INVALID":"VALID"}function Kn(_e){return!!_e&&_e.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(_e)}function Rn(_e){return!!_e&&_e.length==1&&/[\ud800-\udbff]/.test(_e)}function mo(_e){return!!_e&&_e.length==1&&/[\udc00-\udfff]/.test(_e)}function xo(_e,k){return Rn(_e.charAt(k-1))&&mo(_e.charAt(k))}function Nn(_e,k){return Kn(_e.charAt(k))}const so=function(){const _e=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],k=new RegExp("\\p{Regional_Indicator}{2}","u").source,d="(?:"+_e.map(I=>I.source).join("|")+")";return new RegExp(`${k}|${d}(?:\u200D${d})*`,"ug")}();function zn(_e,k){const d=String(_e).matchAll(so);return Array.from(d).some(I=>I.index<k&&k<I.index+I[0].length)}},"./packages/ckeditor5-utils/src/version.ts":(p,_,l)=>{"use strict";l.d(_,{D:()=>x,Z:()=>B});var c=l("./packages/ckeditor5-utils/src/ckeditorerror.ts");const P="40.2.0",B=P,x=new Date(2023,11,12);if(globalThis.CKEDITOR_VERSION)throw new c.ZP("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=P},"./packages/ckeditor5-widget/src/index.ts":(p,_,l)=>{"use strict";l.d(_,{s4:()=>u,Uo:()=>y,$L:()=>Q,WR:()=>$i,e8:()=>Oe,Ww:()=>_t,KT:()=>b,id:()=>q,Qd:()=>f,em:()=>E,l6:()=>ae,XC:()=>v,sC:()=>z,$n:()=>V});var c=l("./packages/ckeditor5-core/src/index.ts"),P=l("./packages/ckeditor5-engine/src/index.ts"),B=l("./packages/ckeditor5-typing/src/index.ts"),x=l("./packages/ckeditor5-utils/src/index.ts"),h=l("./packages/ckeditor5-ui/src/index.ts"),j=l("./packages/ckeditor5-enter/src/index.ts");class Z extends(0,x.ln)(){constructor(){super(...arguments),this._stack=[]}add(ue,ye){const Le=this._stack,Ge=Le[0];this._insertDescriptor(ue);const rt=Le[0];Ge===rt||Y(Ge,rt)||this.fire("change:top",{oldDescriptor:Ge,newDescriptor:rt,writer:ye})}remove(ue,ye){const Le=this._stack,Ge=Le[0];this._removeDescriptor(ue);const rt=Le[0];Ge===rt||Y(Ge,rt)||this.fire("change:top",{oldDescriptor:Ge,newDescriptor:rt,writer:ye})}_insertDescriptor(ue){const ye=this._stack,Le=ye.findIndex(rt=>rt.id===ue.id);if(Y(ue,ye[Le]))return;Le>-1&&ye.splice(Le,1);let Ge=0;for(;ye[Ge]&&te(ye[Ge],ue);)Ge++;ye.splice(Ge,0,ue)}_removeDescriptor(ue){const ye=this._stack,Le=ye.findIndex(Ge=>Ge.id===ue);Le>-1&&ye.splice(Le,1)}}function Y(at,ue){return at&&ue&&at.priority==ue.priority&&oe(at.classes)==oe(ue.classes)}function te(at,ue){return at.priority>ue.priority||!(at.priority<ue.priority)&&oe(at.classes)>oe(ue.classes)}function oe(at){return Array.isArray(at)?at.sort().join(","):at}const ie='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',u="ck-widget",y="ck-widget_selected";function f(at){return!!at.is("element")&&!!at.getCustomProperty("widget")}function v(at,ue,ye={}){if(!at.is("containerElement"))throw new x.Bb("widget-to-widget-wrong-element-type",null,{element:at});return ue.setAttribute("contenteditable","false",at),ue.addClass(u,at),ue.setCustomProperty("widget",!0,at),at.getFillerOffset=$,ue.setCustomProperty("widgetLabel",[],at),ye.label&&ae(at,ye.label),ye.hasSelectionHandle&&function(Le,Ge){const rt=Ge.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(gt){const Ot=this.toDomElement(gt),Mt=new h.mO;return Mt.set("content",ie),Mt.render(),Ot.appendChild(Mt.element),Ot});Ge.insert(Ge.createPositionAt(Le,0),rt),Ge.addClass(["ck-widget_with-selection-handle"],Le)}(at,ue),E(at,ue),at}function A(at,ue,ye){if(ue.classes&&ye.addClass((0,x.qo)(ue.classes),at),ue.attributes)for(const Le in ue.attributes)ye.setAttribute(Le,ue.attributes[Le],at)}function T(at,ue,ye){if(ue.classes&&ye.removeClass((0,x.qo)(ue.classes),at),ue.attributes)for(const Le in ue.attributes)ye.removeAttribute(Le,at)}function E(at,ue,ye=A,Le=T){const Ge=new Z;Ge.on("change:top",(rt,gt)=>{gt.oldDescriptor&&Le(at,gt.oldDescriptor,gt.writer),gt.newDescriptor&&ye(at,gt.newDescriptor,gt.writer)}),ue.setCustomProperty("addHighlight",(rt,gt,Ot)=>Ge.add(gt,Ot),at),ue.setCustomProperty("removeHighlight",(rt,gt,Ot)=>Ge.remove(gt,Ot),at)}function ae(at,ue){at.getCustomProperty("widgetLabel").push(ue)}function q(at){return at.getCustomProperty("widgetLabel").reduce((ue,ye)=>typeof ye=="function"?ue?ue+". "+ye():ye():ue?ue+". "+ye:ye,"")}function z(at,ue,ye={}){return ue.addClass(["ck-editor__editable","ck-editor__nested-editable"],at),ue.setAttribute("role","textbox",at),ye.label&&ue.setAttribute("aria-label",ye.label,at),ue.setAttribute("contenteditable",at.isReadOnly?"false":"true",at),at.on("change:isReadOnly",(Le,Ge,rt)=>{ue.setAttribute("contenteditable",rt?"false":"true",at)}),at.on("change:isFocused",(Le,Ge,rt)=>{rt?ue.addClass("ck-editor__nested-editable_focused",at):ue.removeClass("ck-editor__nested-editable_focused",at)}),E(at,ue),at}function b(at,ue){const ye=at.getSelectedElement();if(ye){const Le=Ee(at);if(Le)return ue.createRange(ue.createPositionAt(ye,Le))}return(0,P.KT)(at,ue)}function V(at,ue){return(ye,Le)=>{const{mapper:Ge,viewPosition:rt}=Le,gt=Ge.findMappedViewAncestor(rt);if(!ue(gt))return;const Ot=Ge.toModelElement(gt);Le.modelPosition=at.createPositionAt(Ot,rt.isAtStart?"before":"after")}}function $(){return null}const D="widget-type-around";function re(at,ue,ye){return!!at&&f(at)&&!ye.isInline(ue)}function Ee(at){return at.getAttribute(D)}var je=l("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Ie=l.n(je),De=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgettypearound.css"),mt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ie()(De.Z,mt),De.Z.locals;const lt=["before","after"],ut=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,dt="ck-widget__type-around_disabled";class _t extends c.Sy{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[j.C,B.HG]}init(){const ue=this.editor,ye=ue.editing.view;this.on("change:isEnabled",(Le,Ge,rt)=>{ye.change(gt=>{for(const Ot of ye.document.roots)rt?gt.removeClass(dt,Ot):gt.addClass(dt,Ot)}),rt||ue.model.change(gt=>{gt.removeSelectionAttribute(D)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(ue,ye){const Le=this.editor,Ge=Le.editing.view,rt=Le.model.schema.getAttributesWithProperty(ue,"copyOnReplace",!0);Le.execute("insertParagraph",{position:Le.model.createPositionAt(ue,ye),attributes:rt}),Ge.focus(),Ge.scrollToTheSelection()}_listenToIfEnabled(ue,ye,Le,Ge){this.listenTo(ue,ye,(...rt)=>{this.isEnabled&&Le(...rt)},Ge)}_insertParagraphAccordingToFakeCaretPosition(){const ue=this.editor.model.document.selection,ye=Ee(ue);if(!ye)return!1;const Le=ue.getSelectedElement();return this._insertParagraph(Le,ye),!0}_enableTypeAroundUIInjection(){const ue=this.editor,ye=ue.model.schema,Le=ue.locale.t,Ge={before:Le("Insert paragraph before block"),after:Le("Insert paragraph after block")};ue.editing.downcastDispatcher.on("insert",(rt,gt,Ot)=>{const Mt=Ot.mapper.toViewElement(gt.item);Mt&&re(Mt,gt.item,ye)&&(function(Ut,ri,oi){const wi=Ut.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(Ii){const Li=this.toDomElement(Ii);return function(yi,ji){for(const Ki of lt){const Mi=new h.YS({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${Ki}`],title:ji[Ki],"aria-hidden":"true"},children:[yi.ownerDocument.importNode(ut,!0)]});yi.appendChild(Mi.render())}}(Li,ri),function(yi){const ji=new h.YS({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});yi.appendChild(ji.render())}(Li),Li});Ut.insert(Ut.createPositionAt(oi,"end"),wi)}(Ot.writer,Ge,Mt),Mt.getCustomProperty("widgetLabel").push(()=>this.isEnabled?Le("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const ue=this.editor,ye=ue.model,Le=ye.document.selection,Ge=ye.schema,rt=ue.editing.view;function gt(Ot){return`ck-widget_type-around_show-fake-caret_${Ot}`}this._listenToIfEnabled(rt.document,"arrowKey",(Ot,Mt)=>{this._handleArrowKeyPress(Ot,Mt)},{context:[f,"$text"],priority:"high"}),this._listenToIfEnabled(Le,"change:range",(Ot,Mt)=>{Mt.directChange&&ue.model.change(Ut=>{Ut.removeSelectionAttribute(D)})}),this._listenToIfEnabled(ye.document,"change:data",()=>{const Ot=Le.getSelectedElement();Ot&&re(ue.editing.mapper.toViewElement(Ot),Ot,Ge)||ue.model.change(Mt=>{Mt.removeSelectionAttribute(D)})}),this._listenToIfEnabled(ue.editing.downcastDispatcher,"selection",(Ot,Mt,Ut)=>{const ri=Ut.writer;if(this._currentFakeCaretModelElement){const Li=Ut.mapper.toViewElement(this._currentFakeCaretModelElement);Li&&(ri.removeClass(lt.map(gt),Li),this._currentFakeCaretModelElement=null)}const oi=Mt.selection.getSelectedElement();if(!oi)return;const wi=Ut.mapper.toViewElement(oi);if(!re(wi,oi,Ge))return;const Ii=Ee(Mt.selection);Ii&&(ri.addClass(gt(Ii),wi),this._currentFakeCaretModelElement=oi)}),this._listenToIfEnabled(ue.ui.focusTracker,"change:isFocused",(Ot,Mt,Ut)=>{Ut||ue.model.change(ri=>{ri.removeSelectionAttribute(D)})})}_handleArrowKeyPress(ue,ye){const Le=this.editor,Ge=Le.model,rt=Ge.document.selection,gt=Ge.schema,Ot=Le.editing.view,Mt=ye.keyCode,Ut=(0,x.Zt)(Mt,Le.locale.contentLanguageDirection),ri=Ot.document.selection.getSelectedElement();let oi;re(ri,Le.editing.mapper.toModelElement(ri),gt)?oi=this._handleArrowKeyPressOnSelectedWidget(Ut):rt.isCollapsed?oi=this._handleArrowKeyPressWhenSelectionNextToAWidget(Ut):ye.shiftKey||(oi=this._handleArrowKeyPressWhenNonCollapsedSelection(Ut)),oi&&(ye.preventDefault(),ue.stop())}_handleArrowKeyPressOnSelectedWidget(ue){const ye=this.editor.model,Le=Ee(ye.document.selection);return ye.change(Ge=>Le?Le!==(ue?"after":"before")?(Ge.removeSelectionAttribute(D),!0):!1:(Ge.setSelectionAttribute(D,ue?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(ue){const ye=this.editor,Le=ye.model,Ge=Le.schema,rt=ye.plugins.get("Widget"),gt=rt._getObjectElementNextToSelection(ue);return!!re(ye.editing.mapper.toViewElement(gt),gt,Ge)&&(Le.change(Ot=>{rt._setSelectionOverElement(gt),Ot.setSelectionAttribute(D,ue?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(ue){const ye=this.editor,Le=ye.model,Ge=Le.schema,rt=ye.editing.mapper,gt=Le.document.selection,Ot=ue?gt.getLastPosition().nodeBefore:gt.getFirstPosition().nodeAfter;return!!re(rt.toViewElement(Ot),Ot,Ge)&&(Le.change(Mt=>{Mt.setSelection(Ot,"on"),Mt.setSelectionAttribute(D,ue?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const ue=this.editor,ye=ue.editing.view;this._listenToIfEnabled(ye.document,"mousedown",(Le,Ge)=>{const rt=Ge.domTarget.closest(".ck-widget__type-around__button");if(!rt)return;const gt=function(Ut){return Ut.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(rt),Ot=function(Ut,ri){const oi=Ut.closest(".ck-widget");return ri.mapDomToView(oi)}(rt,ye.domConverter),Mt=ue.editing.mapper.toModelElement(Ot);this._insertParagraph(Mt,gt),Ge.preventDefault(),Le.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const ue=this.editor,ye=ue.model.document.selection,Le=ue.editing.view;this._listenToIfEnabled(Le.document,"enter",(Ge,rt)=>{if(Ge.eventPhase!="atTarget")return;const gt=ye.getSelectedElement(),Ot=ue.editing.mapper.toViewElement(gt),Mt=ue.model.schema;let Ut;this._insertParagraphAccordingToFakeCaretPosition()?Ut=!0:re(Ot,gt,Mt)&&(this._insertParagraph(gt,rt.isSoft?"before":"after"),Ut=!0),Ut&&(rt.preventDefault(),Ge.stop())},{context:f})}_enableInsertingParagraphsOnTypingKeystroke(){const ue=this.editor.editing.view.document;this._listenToIfEnabled(ue,"insertText",(ye,Le)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(Le.selection=ue.selection)},{priority:"high"}),x.OB.isAndroid?this._listenToIfEnabled(ue,"keydown",(ye,Le)=>{Le.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(ue,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const ue=this.editor,ye=ue.editing.view,Le=ue.model,Ge=Le.schema;this._listenToIfEnabled(ye.document,"delete",(rt,gt)=>{if(rt.eventPhase!="atTarget")return;const Ot=Ee(Le.document.selection);if(!Ot)return;const Mt=gt.direction,Ut=Le.document.selection.getSelectedElement(),ri=Mt=="forward";if(Ot==="before"===ri)ue.execute("delete",{selection:Le.createSelection(Ut,"on")});else{const oi=Ge.getNearestSelectionRange(Le.createPositionAt(Ut,Ot),Mt);if(oi)if(oi.isCollapsed){const wi=Le.createSelection(oi.start);if(Le.modifySelection(wi,{direction:Mt}),wi.focus.isEqual(oi.start)){const Ii=function(Li,yi){let ji=yi;for(const Ki of yi.getAncestors({parentFirst:!0})){if(Ki.childCount>1||Li.isLimit(Ki))break;ji=Ki}return ji}(Ge,oi.start.parent);Le.deleteContent(Le.createSelection(Ii,"on"),{doNotAutoparagraph:!0})}else Le.change(Ii=>{Ii.setSelection(oi),ue.execute(ri?"deleteForward":"delete")})}else Le.change(wi=>{wi.setSelection(oi),ue.execute(ri?"deleteForward":"delete")})}gt.preventDefault(),rt.stop()},{context:f})}_enableInsertContentIntegration(){const ue=this.editor,ye=this.editor.model,Le=ye.document.selection;this._listenToIfEnabled(ue.model,"insertContent",(Ge,[rt,gt])=>{if(gt&&!gt.is("documentSelection"))return;const Ot=Ee(Le);return Ot?(Ge.stop(),ye.change(Mt=>{const Ut=Le.getSelectedElement(),ri=ye.createPositionAt(Ut,Ot),oi=Mt.createSelection(ri),wi=ye.insertContent(rt,oi);return Mt.setSelection(oi),wi})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const ue=this.editor,ye=this.editor.model.document.selection;this._listenToIfEnabled(ue.model,"insertObject",(Le,Ge)=>{const[,rt,gt={}]=Ge;if(rt&&!rt.is("documentSelection"))return;const Ot=Ee(ye);Ot&&(gt.findOptimalPosition=Ot,Ge[3]=gt)},{priority:"high"})}_enableDeleteContentIntegration(){const ue=this.editor,ye=this.editor.model.document.selection;this._listenToIfEnabled(ue.model,"deleteContent",(Le,[Ge])=>{Ge&&!Ge.is("documentSelection")||Ee(ye)&&Le.stop()},{priority:"high"})}}function bt(at){const ue=at.model;return(ye,Le)=>{const Ge=Le.keyCode==x.Do.arrowup,rt=Le.keyCode==x.Do.arrowdown,gt=Le.shiftKey,Ot=ue.document.selection;if(!Ge&&!rt)return;const Mt=rt;if(gt&&function(ri,oi){return!ri.isCollapsed&&ri.isBackward==oi}(Ot,Mt))return;const Ut=function(ri,oi,wi){const Ii=ri.model;if(wi){const Li=oi.isCollapsed?oi.focus:oi.getLastPosition(),yi=Qe(Ii,Li,"forward");if(!yi)return null;const ji=Ii.createRange(Li,yi),Ki=ft(Ii.schema,ji,"backward");return Ki?Ii.createRange(Li,Ki):null}{const Li=oi.isCollapsed?oi.focus:oi.getFirstPosition(),yi=Qe(Ii,Li,"backward");if(!yi)return null;const ji=Ii.createRange(yi,Li),Ki=ft(Ii.schema,ji,"forward");return Ki?Ii.createRange(Ki,Li):null}}(at,Ot,Mt);if(Ut){if(Ut.isCollapsed&&(Ot.isCollapsed||gt))return;(Ut.isCollapsed||function(ri,oi,wi){const Ii=ri.model,Li=ri.view.domConverter;if(wi){const tn=Ii.createSelection(oi.start);Ii.modifySelection(tn),tn.focus.isAtEnd||oi.start.isEqual(tn.focus)||(oi=Ii.createRange(tn.focus,oi.end))}const yi=ri.mapper.toViewRange(oi),ji=Li.viewRangeToDom(yi),Ki=x.UL.getDomRangeRects(ji);let Mi;for(const tn of Ki)if(Mi!==void 0){if(Math.round(tn.top)>=Mi)return!1;Mi=Math.max(Mi,Math.round(tn.bottom))}else Mi=Math.round(tn.bottom);return!0}(at,Ut,Mt))&&(ue.change(ri=>{const oi=Mt?Ut.end:Ut.start;if(gt){const wi=ue.createSelection(Ot.anchor);wi.setFocus(oi),ri.setSelection(wi)}else ri.setSelection(oi)}),ye.stop(),Le.preventDefault(),Le.stopPropagation())}}}function Qe(at,ue,ye){const Le=at.schema,Ge=at.createRangeIn(ue.root),rt=ye=="forward"?"elementStart":"elementEnd";for(const{previousPosition:gt,item:Ot,type:Mt}of Ge.getWalker({startPosition:ue,direction:ye})){if(Le.isLimit(Ot)&&!Le.isInline(Ot))return gt;if(Mt==rt&&Le.isBlock(Ot))return null}return null}function ft(at,ue,ye){const Le=ye=="backward"?ue.end:ue.start;if(at.checkChild(Le,"$text"))return Le;for(const{nextPosition:Ge}of ue.getWalker({direction:ye}))if(at.checkChild(Ge,"$text"))return Ge;return null}var Ve=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widget.css"),Te={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ie()(Ve.Z,Te),Ve.Z.locals;class Q extends c.Sy{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[_t,B.HG]}init(){const ue=this.editor,ye=ue.editing.view,Le=ye.document;this.editor.editing.downcastDispatcher.on("selection",(Ge,rt,gt)=>{const Ot=gt.writer,Mt=rt.selection;if(Mt.isCollapsed)return;const Ut=Mt.getSelectedElement();if(!Ut)return;const ri=ue.editing.mapper.toViewElement(Ut);f(ri)&&gt.consumable.consume(Mt,"selection")&&Ot.setSelection(Ot.createRangeOn(ri),{fake:!0,label:q(ri)})}),this.editor.editing.downcastDispatcher.on("selection",(Ge,rt,gt)=>{this._clearPreviouslySelectedWidgets(gt.writer);const Ot=gt.writer,Mt=Ot.document.selection;let Ut=null;for(const ri of Mt.getRanges())for(const oi of ri){const wi=oi.item;f(wi)&&!xe(wi,Ut)&&(Ot.addClass(y,wi),this._previouslySelected.add(wi),Ut=wi)}},{priority:"low"}),ye.addObserver(P.dM),this.listenTo(Le,"mousedown",(...Ge)=>this._onMousedown(...Ge)),this.listenTo(Le,"arrowKey",(...Ge)=>{this._handleSelectionChangeOnArrowKeyPress(...Ge)},{context:[f,"$text"]}),this.listenTo(Le,"arrowKey",(...Ge)=>{this._preventDefaultOnArrowKeyPress(...Ge)},{context:"$root"}),this.listenTo(Le,"arrowKey",bt(this.editor.editing),{context:"$text"}),this.listenTo(Le,"delete",(Ge,rt)=>{this._handleDelete(rt.direction=="forward")&&(rt.preventDefault(),Ge.stop())},{context:"$root"})}_onMousedown(ue,ye){const Le=this.editor,Ge=Le.editing.view,rt=Ge.document;let gt=ye.target;if(ye.domEvent.detail>=3)return void(this._selectBlockContent(gt)&&ye.preventDefault());if(function(Mt){let Ut=Mt;for(;Ut;){if(Ut.is("editableElement")&&!Ut.is("rootElement"))return!0;if(f(Ut))return!1;Ut=Ut.parent}return!1}(gt)||!f(gt)&&(gt=gt.findAncestor(f),!gt))return;x.OB.isAndroid&&ye.preventDefault(),rt.isFocused||Ge.focus();const Ot=Le.editing.mapper.toModelElement(gt);this._setSelectionOverElement(Ot)}_selectBlockContent(ue){const ye=this.editor,Le=ye.model,Ge=ye.editing.mapper,rt=Le.schema,gt=Ge.findMappedViewAncestor(this.editor.editing.view.createPositionAt(ue,0)),Ot=function(Mt,Ut){for(const ri of Mt.getAncestors({includeSelf:!0,parentFirst:!0})){if(Ut.checkChild(ri,"$text"))return ri;if(Ut.isLimit(ri)&&!Ut.isObject(ri))break}return null}(Ge.toModelElement(gt),Le.schema);return!!Ot&&(Le.change(Mt=>{const Ut=rt.isLimit(Ot)?null:function(wi,Ii){const Li=new P.Po({startPosition:wi});for(const{item:yi}of Li){if(Ii.isLimit(yi)||!yi.is("element"))return null;if(Ii.checkChild(yi,"$text"))return yi}return null}(Mt.createPositionAfter(Ot),rt),ri=Mt.createPositionAt(Ot,0),oi=Ut?Mt.createPositionAt(Ut,0):Mt.createPositionAt(Ot,"end");Mt.setSelection(Mt.createRange(ri,oi))}),!0)}_handleSelectionChangeOnArrowKeyPress(ue,ye){const Le=ye.keyCode,Ge=this.editor.model,rt=Ge.schema,gt=Ge.document.selection,Ot=gt.getSelectedElement(),Mt=(0,x.mA)(Le,this.editor.locale.contentLanguageDirection),Ut=Mt=="down"||Mt=="right",ri=Mt=="up"||Mt=="down";if(Ot&&rt.isObject(Ot)){const wi=Ut?gt.getLastPosition():gt.getFirstPosition(),Ii=rt.getNearestSelectionRange(wi,Ut?"forward":"backward");return void(Ii&&(Ge.change(Li=>{Li.setSelection(Ii)}),ye.preventDefault(),ue.stop()))}if(!gt.isCollapsed&&!ye.shiftKey){const wi=gt.getFirstPosition(),Ii=gt.getLastPosition(),Li=wi.nodeAfter,yi=Ii.nodeBefore;return void((Li&&rt.isObject(Li)||yi&&rt.isObject(yi))&&(Ge.change(ji=>{ji.setSelection(Ut?Ii:wi)}),ye.preventDefault(),ue.stop()))}if(!gt.isCollapsed)return;const oi=this._getObjectElementNextToSelection(Ut);if(oi&&rt.isObject(oi)){if(rt.isInline(oi)&&ri)return;this._setSelectionOverElement(oi),ye.preventDefault(),ue.stop()}}_preventDefaultOnArrowKeyPress(ue,ye){const Le=this.editor.model,Ge=Le.schema,rt=Le.document.selection.getSelectedElement();rt&&Ge.isObject(rt)&&(ye.preventDefault(),ue.stop())}_handleDelete(ue){const ye=this.editor.model.document.selection;if(!this.editor.model.canEditAt(ye)||!ye.isCollapsed)return;const Le=this._getObjectElementNextToSelection(ue);return Le?(this.editor.model.change(Ge=>{let rt=ye.anchor.parent;for(;rt.isEmpty;){const gt=rt;rt=gt.parent,Ge.remove(gt)}this._setSelectionOverElement(Le)}),!0):void 0}_setSelectionOverElement(ue){this.editor.model.change(ye=>{ye.setSelection(ye.createRangeOn(ue))})}_getObjectElementNextToSelection(ue){const ye=this.editor.model,Le=ye.schema,Ge=ye.document.selection,rt=ye.createSelection(Ge);if(ye.modifySelection(rt,{direction:ue?"forward":"backward"}),rt.isEqual(Ge))return null;const gt=ue?rt.focus.nodeBefore:rt.focus.nodeAfter;return gt&&Le.isObject(gt)?gt:null}_clearPreviouslySelectedWidgets(ue){for(const ye of this._previouslySelected)ue.removeClass(y,ye);this._previouslySelected.clear()}}function xe(at,ue){return!!ue&&Array.from(at.getAncestors()).includes(ue)}class Oe extends c.Sy{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[h.WB]}static get pluginName(){return"WidgetToolbarRepository"}init(){const ue=this.editor;if(ue.plugins.has("BalloonToolbar")){const ye=ue.plugins.get("BalloonToolbar");this.listenTo(ye,"show",Le=>{(function(Ge){const rt=Ge.getSelectedElement();return!(!rt||!f(rt))})(ue.editing.view.document.selection)&&Le.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(ue.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(ue.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const ue of this._toolbarDefinitions.values())ue.view.destroy()}register(ue,{ariaLabel:ye,items:Le,getRelatedElement:Ge,balloonClassName:rt="ck-toolbar-container"}){if(!Le.length)return void(0,x.KE)("widget-toolbar-no-items",{toolbarId:ue});const gt=this.editor,Ot=gt.t,Mt=new h.jB(gt.locale);if(Mt.ariaLabel=ye||Ot("Widget toolbar"),this._toolbarDefinitions.has(ue))throw new x.Bb("widget-toolbar-duplicated",this,{toolbarId:ue});const Ut={view:Mt,getRelatedElement:Ge,balloonClassName:rt,itemsConfig:Le,initialized:!1};gt.ui.addToolbar(Mt,{isContextual:!0,beforeFocus:()=>{const ri=Ge(gt.editing.view.document.selection);ri&&this._showToolbar(Ut,ri)},afterBlur:()=>{this._hideToolbar(Ut)}}),this._toolbarDefinitions.set(ue,Ut)}_updateToolbarsVisibility(){let ue=0,ye=null,Le=null;for(const Ge of this._toolbarDefinitions.values()){const rt=Ge.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&rt)if(this.editor.ui.focusTracker.isFocused){const gt=rt.getAncestors().length;gt>ue&&(ue=gt,ye=rt,Le=Ge)}else this._isToolbarVisible(Ge)&&this._hideToolbar(Ge);else this._isToolbarInBalloon(Ge)&&this._hideToolbar(Ge)}Le&&this._showToolbar(Le,ye)}_hideToolbar(ue){this._balloon.remove(ue.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(ue,ye){this._isToolbarVisible(ue)?Je(this.editor,ye):this._isToolbarInBalloon(ue)||(ue.initialized||(ue.initialized=!0,ue.view.fillFromConfig(ue.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:ue.view,position:Ze(this.editor,ye),balloonClassName:ue.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const Le of this._toolbarDefinitions.values())if(this._isToolbarVisible(Le)){const Ge=Le.getRelatedElement(this.editor.editing.view.document.selection);Je(this.editor,Ge)}}))}_isToolbarVisible(ue){return this._balloon.visibleView===ue.view}_isToolbarInBalloon(ue){return this._balloon.hasView(ue.view)}}function Je(at,ue){const ye=at.plugins.get("ContextualBalloon"),Le=Ze(at,ue);ye.updatePosition(Le)}function Ze(at,ue){const ye=at.editing.view,Le=h.no.defaultPositions;return{target:ye.domConverter.mapViewToDom(ue),positions:[Le.northArrowSouth,Le.northArrowSouthWest,Le.northArrowSouthEast,Le.southArrowNorth,Le.southArrowNorthWest,Le.southArrowNorthEast,Le.viewportStickyNorth]}}class tt extends(0,x.Re)(){constructor(ue){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=ue,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(ue,ye,Le){const Ge=new x.UL(ye);this.activeHandlePosition=function(gt){const Ot=["top-left","top-right","bottom-right","bottom-left"];for(const Mt of Ot)if(gt.classList.contains(st(Mt)))return Mt}(ue),this._referenceCoordinates=function(gt,Ot){const Mt=new x.UL(gt),Ut=Ot.split("-"),ri={x:Ut[1]=="right"?Mt.right:Mt.left,y:Ut[0]=="bottom"?Mt.bottom:Mt.top};return ri.x+=gt.ownerDocument.defaultView.scrollX,ri.y+=gt.ownerDocument.defaultView.scrollY,ri}(ye,function(gt){const Ot=gt.split("-"),Mt={top:"bottom",bottom:"top",left:"right",right:"left"};return`${Mt[Ot[0]]}-${Mt[Ot[1]]}`}(this.activeHandlePosition)),this._originalWidth=Ge.width,this._originalHeight=Ge.height,this._aspectRatio=Ge.width/Ge.height;const rt=Le.style.width;rt&&rt.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(rt):this._originalWidthPercents=function(gt,Ot){const Mt=gt.parentElement;let Ut=parseFloat(Mt.ownerDocument.defaultView.getComputedStyle(Mt).width);const ri=5;let oi=0,wi=Mt;for(;isNaN(Ut);){if(wi=wi.parentElement,++oi>ri)return 0;Ut=parseFloat(Mt.ownerDocument.defaultView.getComputedStyle(wi).width)}return Ot.width/Ut*100}(Le,Ge)}update(ue){this.proposedWidth=ue.width,this.proposedHeight=ue.height,this.proposedWidthPercents=ue.widthPercents,this.proposedHandleHostWidth=ue.handleHostWidth,this.proposedHandleHostHeight=ue.handleHostHeight}}function st(at){return`ck-widget__resizer__handle-${at}`}class Lt extends h.G7{constructor(){super();const ue=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",ue.to("_viewPosition",ye=>ye?`ck-orientation-${ye}`:"")],style:{display:ue.if("_isVisible","none",ye=>!ye)}},children:[{text:ue.to("_label")}]})}_bindToState(ue,ye){this.bind("_isVisible").to(ye,"proposedWidth",ye,"proposedHeight",(Le,Ge)=>Le!==null&&Ge!==null),this.bind("_label").to(ye,"proposedHandleHostWidth",ye,"proposedHandleHostHeight",ye,"proposedWidthPercents",(Le,Ge,rt)=>ue.unit==="px"?`${Le}\xD7${Ge}`:`${rt}%`),this.bind("_viewPosition").to(ye,"activeHandlePosition",ye,"proposedHandleHostWidth",ye,"proposedHandleHostHeight",(Le,Ge,rt)=>Ge<50||rt<50?"above-center":Le)}_dismiss(){this.unbind(),this._isVisible=!1}}var Ft=Object.defineProperty,Yt=Object.defineProperties,ui=Object.getOwnPropertyDescriptors,Nt=Object.getOwnPropertySymbols,ti=Object.prototype.hasOwnProperty,hi=Object.prototype.propertyIsEnumerable,Ci=(at,ue,ye)=>ue in at?Ft(at,ue,{enumerable:!0,configurable:!0,writable:!0,value:ye}):at[ue]=ye;class Oi extends(0,x.Re)(){constructor(ue){super(),this._viewResizerWrapper=null,this._options=ue,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(ye,Le)=>ye&&Le),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",ye=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),ye.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(ue=>{ue.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(ue=>{ue.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const ue=this,ye=this._options.viewElement;this._options.editor.editing.view.change(Le=>{const Ge=Le.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(rt){const gt=this.toDomElement(rt);return ue._appendHandles(gt),ue._appendSizeUI(gt),gt});Le.insert(Le.createPositionAt(ye,"end"),Ge),Le.addClass("ck-widget_with-resizer",ye),this._viewResizerWrapper=Ge,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(ue){this._state=new tt(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(ue,this._getHandleHost(),this._getResizeHost())}updateSize(ue){const ye=this._proposeNewSize(ue);this._options.editor.editing.view.change(Ut=>{const ri=this._options.unit||"%",oi=(ri==="%"?ye.widthPercents:ye.width)+ri;Ut.setStyle("width",oi,this._options.viewElement)});const Le=this._getHandleHost(),Ge=new x.UL(Le),rt=Math.round(Ge.width),gt=Math.round(Ge.height),Ot=new x.UL(Le);var Mt;ye.width=Math.round(Ot.width),ye.height=Math.round(Ot.height),this.redraw(Ge),this.state.update((Mt=((Ut,ri)=>{for(var oi in ri||(ri={}))ti.call(ri,oi)&&Ci(Ut,oi,ri[oi]);if(Nt)for(var oi of Nt(ri))hi.call(ri,oi)&&Ci(Ut,oi,ri[oi]);return Ut})({},ye),Yt(Mt,ui({handleHostWidth:rt,handleHostHeight:gt}))))}commit(){const ue=this._options.unit||"%",ye=(ue==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+ue;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(ye)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(ue){const ye=this._domResizerWrapper;if(!((Le=ye)&&Le.ownerDocument&&Le.ownerDocument.contains(Le)))return;var Le;const Ge=ye.parentElement,rt=this._getHandleHost(),gt=this._viewResizerWrapper,Ot=[gt.getStyle("width"),gt.getStyle("height"),gt.getStyle("left"),gt.getStyle("top")];let Mt;if(Ge.isSameNode(rt)){const Ut=ue||new x.UL(rt);Mt=[Ut.width+"px",Ut.height+"px",void 0,void 0]}else Mt=[rt.offsetWidth+"px",rt.offsetHeight+"px",rt.offsetLeft+"px",rt.offsetTop+"px"];(0,x.Rt)(Ot,Mt)!=="same"&&this._options.editor.editing.view.change(Ut=>{Ut.setStyle({width:Mt[0],height:Mt[1],left:Mt[2],top:Mt[3]},gt)})}containsHandle(ue){return this._domResizerWrapper.contains(ue)}static isResizeHandle(ue){return ue.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(ue=>{ue.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(ue){const ye=this.state,Le={x:(Ge=ue).pageX,y:Ge.pageY};var Ge;const rt=!this._options.isCentered||this._options.isCentered(this),gt={x:ye._referenceCoordinates.x-(Le.x+ye.originalWidth),y:Le.y-ye.originalHeight-ye._referenceCoordinates.y};rt&&ye.activeHandlePosition.endsWith("-right")&&(gt.x=Le.x-(ye._referenceCoordinates.x+ye.originalWidth)),rt&&(gt.x*=2);let Ot=Math.abs(ye.originalWidth+gt.x),Mt=Math.abs(ye.originalHeight+gt.y);return(Ot/ye.aspectRatio>Mt?"width":"height")=="width"?Mt=Ot/ye.aspectRatio:Ot=Mt*ye.aspectRatio,{width:Math.round(Ot),height:Math.round(Mt),widthPercents:Math.min(Math.round(ye.originalWidthPercents/ye.originalWidth*Ot*100)/100,100)}}_getResizeHost(){const ue=this._domResizerWrapper.parentElement;return this._options.getResizeHost(ue)}_getHandleHost(){const ue=this._domResizerWrapper.parentElement;return this._options.getHandleHost(ue)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(ue){const ye=["top-left","top-right","bottom-right","bottom-left"];for(const Ge of ye)ue.appendChild(new h.YS({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(Le=Ge,`ck-widget__resizer__handle-${Le}`)}}).render());var Le}_appendSizeUI(ue){this._sizeView=new Lt,this._sizeView.render(),ue.appendChild(this._sizeView.element)}}var Di=l("./node_modules/lodash-es/throttle.js"),Vi=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgetresize.css"),Pi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ie()(Vi.Z,Pi),Vi.Z.locals;class $i extends c.Sy{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const ue=this.editor.editing,ye=x.global.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),ue.view.addObserver(P.dM),this._observer=new((0,x.Xu)()),this.listenTo(ue.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(ye,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(ye,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=(0,Di.Z)(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[Ge,rt]of this._resizers)Ge.isAttached()||(this._resizers.delete(Ge),rt.destroy())},{priority:"lowest"}),this._observer.listenTo(x.global.window,"resize",this._redrawSelectedResizerThrottled);const Le=this.editor.editing.view.document.selection;Le.on("change",()=>{const Ge=Le.getSelectedElement(),rt=this.getResizerByViewElement(Ge)||null;rt?this.select(rt):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const ue of this._resizers.values())ue.destroy();this._redrawSelectedResizerThrottled.cancel()}select(ue){this.deselect(),this.selectedResizer=ue,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(ue){const ye=new Oi(ue),Le=this.editor.plugins;if(ye.attach(),Le.has("WidgetToolbarRepository")){const rt=Le.get("WidgetToolbarRepository");ye.on("begin",()=>{rt.forceDisabled("resize")},{priority:"lowest"}),ye.on("cancel",()=>{rt.clearForceDisabled("resize")},{priority:"highest"}),ye.on("commit",()=>{rt.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(ue.viewElement,ye);const Ge=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(Ge)==ye&&this.select(ye),ye}getResizerByViewElement(ue){return this._resizers.get(ue)}_getResizerByHandle(ue){for(const ye of this._resizers.values())if(ye.containsHandle(ue))return ye}_mouseDownListener(ue,ye){const Le=ye.domTarget;Oi.isResizeHandle(Le)&&(this._activeResizer=this._getResizerByHandle(Le)||null,this._activeResizer&&(this._activeResizer.begin(Le),ue.stop(),ye.preventDefault()))}_mouseMoveListener(ue,ye){this._activeResizer&&this._activeResizer.updateSize(ye)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}},"./packages/ckeditor5-core/theme/icons/cancel.svg":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>'},"./packages/ckeditor5-core/theme/icons/check.svg":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>'},"./packages/ckeditor5-core/theme/icons/eraser.svg":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>'},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":(p,_,l)=>{"use strict";var c,P=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},B=function(){var v={};return function(A){if(v[A]===void 0){var T=document.querySelector(A);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}v[A]=T}return v[A]}}(),x=[];function h(v){for(var A=-1,T=0;T<x.length;T++)if(x[T].identifier===v){A=T;break}return A}function j(v,A){for(var T={},E=[],ae=0;ae<v.length;ae++){var q=v[ae],z=A.base?q[0]+A.base:q[0],b=T[z]||0,V="".concat(z," ").concat(b);T[z]=b+1;var $=h(V),D={css:q[1],media:q[2],sourceMap:q[3]};$!==-1?(x[$].references++,x[$].updater(D)):x.push({identifier:V,updater:f(D,A),references:1}),E.push(V)}return E}function Z(v){var A=document.createElement("style"),T=v.attributes||{};if(T.nonce===void 0){var E=l.nc;E&&(T.nonce=E)}if(Object.keys(T).forEach(function(q){A.setAttribute(q,T[q])}),typeof v.insert=="function")v.insert(A);else{var ae=B(v.insert||"head");if(!ae)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ae.appendChild(A)}return A}var Y,te=(Y=[],function(v,A){return Y[v]=A,Y.filter(Boolean).join(`
`)});function oe(v,A,T,E){var ae=T?"":E.media?"@media ".concat(E.media," {").concat(E.css,"}"):E.css;if(v.styleSheet)v.styleSheet.cssText=te(A,ae);else{var q=document.createTextNode(ae),z=v.childNodes;z[A]&&v.removeChild(z[A]),z.length?v.insertBefore(q,z[A]):v.appendChild(q)}}function ie(v,A,T){var E=T.css,ae=T.media,q=T.sourceMap;if(ae?v.setAttribute("media",ae):v.removeAttribute("media"),q&&typeof btoa<"u"&&(E+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(q))))," */")),v.styleSheet)v.styleSheet.cssText=E;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(E))}}var u=null,y=0;function f(v,A){var T,E,ae;if(A.singleton){var q=y++;T=u||(u=Z(A)),E=oe.bind(null,T,q,!1),ae=oe.bind(null,T,q,!0)}else T=Z(A),E=ie.bind(null,T,A),ae=function(){(function(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z)})(T)};return E(v),function(z){if(z){if(z.css===v.css&&z.media===v.media&&z.sourceMap===v.sourceMap)return;E(v=z)}else ae()}}p.exports=function(v,A){(A=A||{}).singleton||typeof A.singleton=="boolean"||(A.singleton=P());var T=j(v=v||[],A);return function(E){if(E=E||[],Object.prototype.toString.call(E)==="[object Array]"){for(var ae=0;ae<T.length;ae++){var q=h(T[ae]);x[q].references--}for(var z=j(E,A),b=0;b<T.length;b++){var V=h(T[b]);x[V].references===0&&(x[V].updater(),x.splice(V,1))}T=z}}}},"./src/clipboard.js":(p,_,l)=>{"use strict";l.r(_),l.d(_,{Clipboard:()=>ft,ClipboardPipeline:()=>te,DragDrop:()=>ut,DragDropBlockToolbar:()=>je,DragDropTarget:()=>v,PastePlainText:()=>Qe});var c=l("./packages/ckeditor5-core/src/index.ts"),P=l("./packages/ckeditor5-utils/src/index.ts"),B=l("./packages/ckeditor5-engine/src/index.ts");class x extends B.qZ{constructor(Te){super(Te),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const Q=this.document;function xe(Oe){return(Je,Ze)=>{Ze.preventDefault();const tt=Ze.dropRange?[Ze.dropRange]:null,st=new P.M3(Q,Oe);Q.fire(st,{dataTransfer:Ze.dataTransfer,method:Je.name,targetRanges:tt,target:Ze.target,domEvent:Ze.domEvent}),st.stop.called&&Ze.stopPropagation()}}this.listenTo(Q,"paste",xe("clipboardInput"),{priority:"low"}),this.listenTo(Q,"drop",xe("clipboardInput"),{priority:"low"}),this.listenTo(Q,"dragover",xe("dragging"),{priority:"low"})}onDomEvent(Te){const Q="clipboardData"in Te?Te.clipboardData:Te.dataTransfer,xe=Te.type=="drop"||Te.type=="paste",Oe={dataTransfer:new B.tn(Q,{cacheFiles:xe})};Te.type!="drop"&&Te.type!="dragover"||(Oe.dropRange=function(Je,Ze){const tt=Ze.target.ownerDocument,st=Ze.clientX,Lt=Ze.clientY;let Ft;return tt.caretRangeFromPoint&&tt.caretRangeFromPoint(st,Lt)?Ft=tt.caretRangeFromPoint(st,Lt):Ze.rangeParent&&(Ft=tt.createRange(),Ft.setStart(Ze.rangeParent,Ze.rangeOffset),Ft.collapse(!0)),Ft?Je.domConverter.domRangeToView(Ft):null}(this.view,Te)),this.fire(Te.type,Te,Oe)}}const h=["figcaption","li"],j=["ol","ul"];function Z(Ve){if(Ve.is("$text")||Ve.is("$textProxy"))return Ve.data;if(Ve.is("element","img")&&Ve.hasAttribute("alt"))return Ve.getAttribute("alt");if(Ve.is("element","br"))return`
`;let Te="",Q=null;for(const xe of Ve.getChildren())Te+=Y(xe,Q)+Z(xe),Q=xe;return Te}function Y(Ve,Te){return Te?Ve.is("element","li")&&!Ve.isEmpty&&Ve.getChild(0).is("containerElement")||j.includes(Ve.name)&&j.includes(Te.name)?`

`:Ve.is("containerElement")||Te.is("containerElement")?h.includes(Ve.name)||h.includes(Te.name)?`
`:`

`:"":""}class te extends c.Sy{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(x),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(Te,Q,xe){const Oe=this.editor.model.getSelectedContent(Q);this.fire("outputTransformation",{dataTransfer:Te,content:Oe,method:xe})}_setupPasteDrop(){const Te=this.editor,Q=Te.model,xe=Te.editing.view,Oe=xe.document;this.listenTo(Oe,"clipboardInput",(Je,Ze)=>{Ze.method!="paste"||Te.model.canEditAt(Te.model.document.selection)||Je.stop()},{priority:"highest"}),this.listenTo(Oe,"clipboardInput",(Je,Ze)=>{const tt=Ze.dataTransfer;let st;if(Ze.content)st=Ze.content;else{let Yt="";tt.getData("text/html")?Yt=function(ui){return ui.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(Nt,ti)=>ti.length==1?" ":ti).replace(/<!--[\s\S]*?-->/g,"")}(tt.getData("text/html")):tt.getData("text/plain")&&(((Lt=(Lt=tt.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||Lt.includes("<br>"))&&(Lt=`<p>${Lt}</p>`),Yt=Lt),st=this.editor.data.htmlProcessor.toView(Yt)}var Lt;const Ft=new P.M3(this,"inputTransformation");this.fire(Ft,{content:st,dataTransfer:tt,targetRanges:Ze.targetRanges,method:Ze.method}),Ft.stop.called&&Je.stop(),xe.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(Je,Ze)=>{if(Ze.content.isEmpty)return;const tt=this.editor.data.toModel(Ze.content,"$clipboardHolder");tt.childCount!=0&&(Je.stop(),Q.change(()=>{this.fire("contentInsertion",{content:tt,method:Ze.method,dataTransfer:Ze.dataTransfer,targetRanges:Ze.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(Je,Ze)=>{Ze.resultRange=Q.insertContent(Ze.content)},{priority:"low"})}_setupCopyCut(){const Te=this.editor,Q=Te.model.document,xe=Te.editing.view.document,Oe=(Je,Ze)=>{const tt=Ze.dataTransfer;Ze.preventDefault(),this._fireOutputTransformationEvent(tt,Q.selection,Je.name)};this.listenTo(xe,"copy",Oe,{priority:"low"}),this.listenTo(xe,"cut",(Je,Ze)=>{Te.model.canEditAt(Te.model.document.selection)?Oe(Je,Ze):Ze.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(Je,Ze)=>{const tt=Te.data.toView(Ze.content);xe.fire("clipboardOutput",{dataTransfer:Ze.dataTransfer,content:tt,method:Ze.method})},{priority:"low"}),this.listenTo(xe,"clipboardOutput",(Je,Ze)=>{Ze.content.isEmpty||(Ze.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(Ze.content)),Ze.dataTransfer.setData("text/plain",Z(Ze.content))),Ze.method=="cut"&&Te.model.deleteContent(Q.selection)},{priority:"low"})}}var oe=l("./packages/ckeditor5-widget/src/index.ts"),ie=l("./packages/ckeditor5-ui/src/index.ts");const u=(0,P.nn)("px");class y extends ie.G7{constructor(){super();const Te=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",Te.if("isVisible","ck-hidden",Q=>!Q)],style:{left:Te.to("left",Q=>u(Q)),top:Te.to("top",Q=>u(Q)),width:Te.to("width",Q=>u(Q))}}})}}var f=l("./node_modules/lodash-es/throttle.js");class v extends c.Sy{constructor(){super(...arguments),this.removeDropMarkerDelayed=(0,P.gw)(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=(0,f.Z)(Te=>this._updateDropMarker(Te),40),this._reconvertMarkerThrottled=(0,f.Z)(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new y,this._domEmitter=new((0,P.Xu)()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:Te}of this._scrollables.values())Te.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(Te,Q,xe,Oe,Je,Ze){this.removeDropMarkerDelayed.cancel();const tt=A(this.editor,Te,Q,xe,Oe,Je,Ze);if(tt)return Ze&&Ze.containsRange(tt)?this.removeDropMarker():void this._updateDropMarkerThrottled(tt)}getFinalDropRange(Te,Q,xe,Oe,Je,Ze){const tt=A(this.editor,Te,Q,xe,Oe,Je,Ze);return this.removeDropMarker(),tt}removeDropMarker(){const Te=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,Te.markers.has("drop-target")&&Te.change(Q=>{Q.removeMarker("drop-target")})}_setupDropMarker(){const Te=this.editor;Te.ui.view.body.add(this._dropTargetLineView),Te.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),Te.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(Q,{writer:xe})=>{if(Te.model.schema.checkChild(Q.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(xe);Q.markerRange.isCollapsed?this._updateDropTargetLine(Q.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(Te){const Q=this.editor,xe=Q.model.markers;Q.model.change(Oe=>{xe.has("drop-target")?xe.get("drop-target").getRange().isEqual(Te)||Oe.updateMarker("drop-target",{range:Te}):Oe.addMarker("drop-target",{range:Te,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(Te){return Te.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(Q){const xe=this.toDomElement(Q);return xe.append("\u2060",Q.createElement("span"),"\u2060"),xe})}_updateDropTargetLine(Te){const Q=this.editor.editing,xe=Te.start.nodeBefore,Oe=Te.start.nodeAfter,Je=Te.start.parent,Ze=xe?Q.mapper.toViewElement(xe):null,tt=Ze?Q.view.domConverter.mapViewToDom(Ze):null,st=Oe?Q.mapper.toViewElement(Oe):null,Lt=st?Q.view.domConverter.mapViewToDom(st):null,Ft=Q.mapper.toViewElement(Je),Yt=Q.view.domConverter.mapViewToDom(Ft),ui=this._getScrollableRect(Ft),{scrollX:Nt,scrollY:ti}=P.global.window,hi=tt?new P.UL(tt):null,Ci=Lt?new P.UL(Lt):null,Oi=new P.UL(Yt).excludeScrollbarsAndBorders(),Di=hi?hi.bottom:Oi.top,Vi=Ci?Ci.top:Oi.bottom,Pi=P.global.window.getComputedStyle(Yt),$i=Di<=Vi?(Di+Vi)/2:Vi;if(ui.top<$i&&$i<ui.bottom){const at=Oi.left+parseFloat(Pi.paddingLeft),ue=Oi.right-parseFloat(Pi.paddingRight),ye=Math.max(at+Nt,ui.left),Le=Math.min(ue+Nt,ui.right);this._dropTargetLineView.set({isVisible:!0,left:ye,top:$i+ti,width:Le-ye})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(Te){const Q=Te.root.rootName;let xe;if(this._scrollables.has(Q))xe=this._scrollables.get(Q).domElement;else{xe=function(Je){let Ze=Je;do{Ze=Ze.parentElement;const tt=P.global.window.getComputedStyle(Ze).overflowY;if(tt=="auto"||tt=="scroll")break}while(Ze.tagName!="BODY");return Ze}(this.editor.editing.view.domConverter.mapViewToDom(Te)),this._domEmitter.listenTo(xe,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const Oe=new P.do(xe,this._reconvertMarkerThrottled);this._scrollables.set(Q,{domElement:xe,resizeObserver:Oe})}return new P.UL(xe).excludeScrollbarsAndBorders()}}function A(Ve,Te,Q,xe,Oe,Je,Ze){const tt=Ve.model,st=Ve.editing.mapper;let Lt=q(Ve,Te);for(;Lt;){if(!Je){if(tt.schema.checkChild(Lt,"$text")){if(Q){const Ft=Q[0].start,Yt=st.toModelPosition(Ft);if(!Ze||Array.from(Ze.getItems()).every(ui=>tt.schema.checkChild(Yt,ui))){if(tt.schema.checkChild(Yt,"$text"))return tt.createRange(Yt);if(Ft)return E(Ve,q(Ve,Ft.parent),xe,Oe)}}}else if(tt.schema.isInline(Lt))return E(Ve,Lt,xe,Oe)}if(tt.schema.isBlock(Lt))return E(Ve,Lt,xe,Oe);if(tt.schema.checkChild(Lt,"$block")){const Ft=Array.from(Lt.getChildren()).filter(Nt=>Nt.is("element")&&!T(Ve,Nt));let Yt=0,ui=Ft.length;if(ui==0)return tt.createRange(tt.createPositionAt(Lt,"end"));for(;Yt<ui-1;){const Nt=Math.floor((Yt+ui)/2);ae(Ve,Ft[Nt],xe,Oe)=="before"?ui=Nt:Yt=Nt}return E(Ve,Ft[Yt],xe,Oe)}Lt=Lt.parent}return null}function T(Ve,Te){const Q=Ve.editing.mapper,xe=Ve.editing.view.domConverter,Oe=Q.toViewElement(Te),Je=xe.mapViewToDom(Oe);return P.global.window.getComputedStyle(Je).float!="none"}function E(Ve,Te,Q,xe){const Oe=Ve.model;return Oe.createRange(Oe.createPositionAt(Te,ae(Ve,Te,Q,xe)))}function ae(Ve,Te,Q,xe){const Oe=Ve.editing.mapper,Je=Ve.editing.view.domConverter,Ze=Oe.toViewElement(Te),tt=Je.mapViewToDom(Ze),st=new P.UL(tt);return Ve.model.schema.isInline(Te)?Q<(st.left+st.right)/2?"before":"after":xe<(st.top+st.bottom)/2?"before":"after"}function q(Ve,Te){const Q=Ve.editing.mapper,xe=Ve.editing.view,Oe=Q.toModelElement(Te);if(Oe)return Oe;const Je=xe.createPositionBefore(Te),Ze=Q.findMappedViewAncestor(Je);return Q.toModelElement(Ze)}var z=Object.defineProperty,b=Object.defineProperties,V=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,Ee=(Ve,Te,Q)=>Te in Ve?z(Ve,Te,{enumerable:!0,configurable:!0,writable:!0,value:Q}):Ve[Te]=Q;class je extends c.Sy{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new((0,P.Xu)())}static get pluginName(){return"DragDropBlockToolbar"}init(){const Te=this.editor;if(this.listenTo(Te,"change:isReadOnly",(Q,xe,Oe)=>{Oe?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),P.OB.isAndroid&&this.forceDisabled("noAndroidSupport"),Te.plugins.has("BlockToolbar")){const Q=Te.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(Q,"dragstart",(xe,Oe)=>this._handleBlockDragStart(Oe)),this._domEmitter.listenTo(P.global.document,"dragover",(xe,Oe)=>this._handleBlockDragging(Oe)),this._domEmitter.listenTo(P.global.document,"drop",(xe,Oe)=>this._handleBlockDragging(Oe)),this._domEmitter.listenTo(P.global.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&Q.setAttribute("draggable","true"),this.on("change:isEnabled",(xe,Oe,Je)=>{Q.setAttribute("draggable",Je?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(Te){if(!this.isEnabled)return;const Q=this.editor.model,xe=Q.document.selection,Oe=this.editor.editing.view,Je=Array.from(xe.getSelectedBlocks()),Ze=Q.createRange(Q.createPositionBefore(Je[0]),Q.createPositionAfter(Je[Je.length-1]));Q.change(tt=>tt.setSelection(Ze)),this._isBlockDragging=!0,Oe.focus(),Oe.getObserver(x).onDomEvent(Te)}_handleBlockDragging(Te){if(!this.isEnabled||!this._isBlockDragging)return;const Q=Te.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),xe=Te.clientY,Oe=document.elementFromPoint(Q,xe),Je=this.editor.editing.view;var Ze,tt;Oe&&Oe.closest(".ck-editor__editable")&&Je.getObserver(x).onDomEvent((Ze=((st,Lt)=>{for(var Ft in Lt||(Lt={}))D.call(Lt,Ft)&&Ee(st,Ft,Lt[Ft]);if($)for(var Ft of $(Lt))re.call(Lt,Ft)&&Ee(st,Ft,Lt[Ft]);return st})({},Te),tt={type:Te.type,dataTransfer:Te.dataTransfer,target:Oe,clientX:Q,clientY:xe,preventDefault:()=>Te.preventDefault(),stopPropagation:()=>Te.stopPropagation()},b(Ze,V(tt))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var Ie=l("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),De=l.n(Ie),mt=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-clipboard/theme/clipboard.css"),lt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};De()(mt.Z,lt),mt.Z.locals;class ut extends c.Sy{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=(0,P.gw)(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new((0,P.Xu)())}static get pluginName(){return"DragDrop"}static get requires(){return[te,oe.$L,v,je]}init(){const Te=this.editor,Q=Te.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,Q.addObserver(x),Q.addObserver(B.dM),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(Te,"change:isReadOnly",(xe,Oe,Je)=>{Je?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(xe,Oe,Je)=>{Je||this._finalizeDragging(!1)}),P.OB.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const Te=this.editor,Q=Te.model,xe=Te.editing.view,Oe=xe.document,Je=Te.plugins.get(v);this.listenTo(Oe,"dragstart",(Ze,tt)=>{if(tt.target&&tt.target.is("editableElement")||(this._prepareDraggedRange(tt.target),!this._draggedRange))return void tt.preventDefault();this._draggingUid=(0,P.hQ)(),tt.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",tt.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const st=Q.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(tt.dataTransfer,st,"dragstart");const{dataTransfer:Lt,domTarget:Ft,domEvent:Yt}=tt,{clientX:ui}=Yt;this._updatePreview({dataTransfer:Lt,domTarget:Ft,clientX:ui}),tt.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(Oe,"dragend",(Ze,tt)=>{this._finalizeDragging(!tt.dataTransfer.isCanceled&&tt.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(P.global.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(Oe,"dragenter",()=>{this.isEnabled&&xe.focus()}),this.listenTo(Oe,"dragleave",()=>{Je.removeDropMarkerDelayed()}),this.listenTo(Oe,"dragging",(Ze,tt)=>{if(!this.isEnabled)return void(tt.dataTransfer.dropEffect="none");const{clientX:st,clientY:Lt}=tt.domEvent;Je.updateDropMarker(tt.target,tt.targetRanges,st,Lt,this._blockMode,this._draggedRange),this._draggedRange||(tt.dataTransfer.dropEffect="copy"),P.OB.isGecko||(tt.dataTransfer.effectAllowed=="copy"?tt.dataTransfer.dropEffect="copy":["all","copyMove"].includes(tt.dataTransfer.effectAllowed)&&(tt.dataTransfer.dropEffect="move")),Ze.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const Te=this.editor,Q=Te.editing.view.document,xe=Te.plugins.get(v);this.listenTo(Q,"clipboardInput",(Oe,Je)=>{if(Je.method!="drop")return;const{clientX:Ze,clientY:tt}=Je.domEvent,st=xe.getFinalDropRange(Je.target,Je.targetRanges,Ze,tt,this._blockMode,this._draggedRange);if(!st)return this._finalizeDragging(!1),void Oe.stop();if(this._draggedRange&&this._draggingUid!=Je.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),dt(Je.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(st,!0))return this._finalizeDragging(!1),void Oe.stop();Je.targetRanges=[Te.editing.mapper.toViewRange(st)]},{priority:"high"})}_setupContentInsertionIntegration(){const Te=this.editor.plugins.get(te);Te.on("contentInsertion",(Q,xe)=>{if(!this.isEnabled||xe.method!=="drop")return;const Oe=xe.targetRanges.map(Je=>this.editor.editing.mapper.toModelRange(Je));this.editor.model.change(Je=>Je.setSelection(Oe))},{priority:"high"}),Te.on("contentInsertion",(Q,xe)=>{if(!this.isEnabled||xe.method!=="drop")return;const Oe=dt(xe.dataTransfer)=="move",Je=!xe.resultRange||!xe.resultRange.isCollapsed;this._finalizeDragging(Je&&Oe)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const Te=this.editor,Q=Te.editing.view,xe=Q.document;this.listenTo(xe,"mousedown",(Oe,Je)=>{if(P.OB.isAndroid||!Je)return;this._clearDraggableAttributesDelayed.cancel();let Ze=_t(Je.target);if(P.OB.isBlink&&!Te.isReadOnly&&!Ze&&!xe.selection.isCollapsed){const tt=xe.selection.getSelectedElement();tt&&(0,oe.Qd)(tt)||(Ze=xe.selection.editableElement)}Ze&&(Q.change(tt=>{tt.setAttribute("draggable","true",Ze)}),this._draggableElement=Te.editing.mapper.toModelElement(Ze))}),this.listenTo(xe,"mouseup",()=>{P.OB.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const Te=this.editor.editing;Te.view.change(Q=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&Q.removeAttribute("draggable",Te.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(Te){const Q=this.editor,xe=Q.model;Q.plugins.get(v).removeDropMarker(),this._clearDraggableAttributes(),Q.plugins.has("WidgetToolbarRepository")&&Q.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(Te&&this.isEnabled&&xe.change(Oe=>{const Je=xe.createSelection(this._draggedRange);xe.deleteContent(Je,{doNotAutoparagraph:!0});const Ze=Je.getFirstPosition().parent;Ze.isEmpty&&!xe.schema.checkChild(Ze,"$text")&&xe.schema.checkChild(Ze,"paragraph")&&Oe.insertElement("paragraph",Ze,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(Te){const Q=this.editor,xe=Q.model,Oe=xe.document.selection,Je=Te?_t(Te):null;if(Je){const Lt=Q.editing.mapper.toModelElement(Je);this._draggedRange=B.iE.fromRange(xe.createRangeOn(Lt)),this._blockMode=xe.schema.isBlock(Lt),Q.plugins.has("WidgetToolbarRepository")&&Q.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(Oe.isCollapsed&&!Oe.getFirstPosition().parent.isEmpty)return;const Ze=Array.from(Oe.getSelectedBlocks()),tt=Oe.getFirstRange();if(Ze.length==0)return void(this._draggedRange=B.iE.fromRange(tt));const st=bt(xe,Ze);if(Ze.length>1)this._draggedRange=B.iE.fromRange(st),this._blockMode=!0;else if(Ze.length==1){const Lt=tt.start.isTouching(st.start)&&tt.end.isTouching(st.end);this._draggedRange=B.iE.fromRange(Lt?st:tt),this._blockMode=Lt}xe.change(Lt=>Lt.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:Te,domTarget:Q,clientX:xe}){const Oe=this.editor.editing.view,Je=Oe.document.selection.editableElement,Ze=Oe.domConverter.mapViewToDom(Je),tt=P.global.window.getComputedStyle(Ze);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=(0,P.az)(P.global.document,"div",{style:"position: fixed; left: -999999px;"}),P.global.document.body.appendChild(this._previewContainer));const st=new P.UL(Ze);if(Ze.contains(Q))return;const Lt=parseFloat(tt.paddingLeft),Ft=(0,P.az)(P.global.document,"div");Ft.className="ck ck-content",Ft.style.width=tt.width,Ft.style.paddingLeft=`${st.left-xe+Lt}px`,P.OB.isiOS&&(Ft.style.backgroundColor="white"),Ft.innerHTML=Te.getData("text/html"),Te.setDragImage(Ft,0,0),this._previewContainer.appendChild(Ft)}}function dt(Ve){return P.OB.isGecko?Ve.dropEffect:["all","copyMove"].includes(Ve.effectAllowed)?"move":"copy"}function _t(Ve){if(Ve.is("editableElement"))return null;if(Ve.hasClass("ck-widget__selection-handle"))return Ve.findAncestor(oe.Qd);if((0,oe.Qd)(Ve))return Ve;const Te=Ve.findAncestor(Q=>(0,oe.Qd)(Q)||Q.is("editableElement"));return(0,oe.Qd)(Te)?Te:null}function bt(Ve,Te){const Q=Te[0],xe=Te[Te.length-1],Oe=Q.getCommonAncestor(xe),Je=Ve.createPositionBefore(Q),Ze=Ve.createPositionAfter(xe);if(Oe&&Oe.is("element")&&!Ve.schema.isLimit(Oe)){const tt=Ve.createRangeOn(Oe),st=Je.isTouching(tt.start),Lt=Ze.isTouching(tt.end);if(st&&Lt)return bt(Ve,[Oe])}return Ve.createRange(Je,Ze)}class Qe extends c.Sy{static get pluginName(){return"PastePlainText"}static get requires(){return[te]}init(){const Te=this.editor,Q=Te.model,xe=Te.editing.view,Oe=xe.document,Je=Q.document.selection;let Ze=!1;xe.addObserver(x),this.listenTo(Oe,"keydown",(tt,st)=>{Ze=st.shiftKey}),Te.plugins.get(te).on("contentInsertion",(tt,st)=>{(Ze||function(Lt,Ft){if(Lt.childCount>1)return!1;const Yt=Lt.getChild(0);return Ft.isObject(Yt)?!1:Array.from(Yt.getAttributeKeys()).length==0}(st.content,Q.schema))&&Q.change(Lt=>{const Ft=Array.from(Je.getAttributes()).filter(([ui])=>Q.schema.getAttributeProperties(ui).isFormatting);Je.isCollapsed||Q.deleteContent(Je,{doNotAutoparagraph:!0}),Ft.push(...Je.getAttributes());const Yt=Lt.createRangeIn(st.content);for(const ui of Yt.getItems())ui.is("$textProxy")&&Lt.setAttributes(Ft,ui)})})}}class ft extends c.Sy{static get pluginName(){return"Clipboard"}static get requires(){return[te,ut,Qe]}}},"./src/core.js":(p,_,l)=>{"use strict";l.r(_),l.d(_,{Command:()=>c.mY,Context:()=>c._y,ContextPlugin:()=>c.eO,DataApiMixin:()=>c.W9,Editor:()=>c.ML,ElementApiMixin:()=>c.xK,MultiCommand:()=>c.AJ,PendingActions:()=>c.lR,Plugin:()=>c.Sy,attachToForm:()=>c.P$,icons:()=>c.icons,secureSourceElement:()=>c.Nu});var c=l("./packages/ckeditor5-core/src/index.ts")},"./src/engine.js":(p,_,l)=>{"use strict";l.r(_),l.d(_,{AttributeElement:()=>c.kW,AttributeOperation:()=>c.Yy,BubblingEventInfo:()=>c.r7,ClickObserver:()=>c.KU,Conversion:()=>c.uz,DataController:()=>c.Yc,DataTransfer:()=>c.tn,DocumentFragment:()=>c.f4,DocumentSelection:()=>c.uj,DomConverter:()=>c.pG,DomEventData:()=>c.dK,DomEventObserver:()=>c.qZ,DowncastWriter:()=>c.qD,EditingController:()=>c.jH,Element:()=>c.W_,FocusObserver:()=>c.DX,History:()=>c.Ay,HtmlDataProcessor:()=>c.X5,InsertOperation:()=>c.IZ,LivePosition:()=>c.jP,LiveRange:()=>c.iE,MarkerOperation:()=>c.zj,Matcher:()=>c.xO,MergeOperation:()=>c.lB,Model:()=>c.Hn,MouseObserver:()=>c.dM,MoveOperation:()=>c.$z,NoOperation:()=>c.Pk,Observer:()=>c.Qj,OperationFactory:()=>c.Bz,Position:()=>c.Ly,Range:()=>c.e6,RenameOperation:()=>c.sN,Renderer:()=>c.Th,RootAttributeOperation:()=>c._o,RootOperation:()=>c.tF,SplitOperation:()=>c.qh,StylesProcessor:()=>c.A_,TabObserver:()=>c.aY,Text:()=>c.xv,TextProxy:()=>c.R,TreeWalker:()=>c.Po,UpcastWriter:()=>c.yj,View:()=>c.G7,ViewAttributeElement:()=>c.m1,ViewContainerElement:()=>c.By,ViewDocument:()=>c.Ux,ViewDocumentFragment:()=>c.y_,ViewEditableElement:()=>c.W2,ViewElement:()=>c.y9,ViewEmptyElement:()=>c.pc,ViewRawElement:()=>c.wx,ViewRootEditableElement:()=>c.FY,ViewText:()=>c.Xj,ViewTreeWalker:()=>c.rh,ViewUIElement:()=>c.dq,addBackgroundRules:()=>c.QR,addBorderRules:()=>c.sI,addMarginRules:()=>c.vt,addPaddingRules:()=>c.J8,disablePlaceholder:()=>c.DA,enablePlaceholder:()=>c.ID,findOptimalInsertionRange:()=>c.KT,getBoxSidesShorthandValue:()=>c.I8,getBoxSidesValueReducer:()=>c.mq,getBoxSidesValues:()=>c.oz,getFillerOffset:()=>c.YG,getPositionShorthandNormalizer:()=>c.m0,getShorthandValues:()=>c.uT,hidePlaceholder:()=>c.$_,isAttachment:()=>c.SB,isColor:()=>c.D5,isLength:()=>c.G9,isLineStyle:()=>c.IT,isPercentage:()=>c.zz,isPosition:()=>c.WK,isRepeat:()=>c.Zb,isURL:()=>c.PX,needsPlaceholder:()=>c.Q7,showPlaceholder:()=>c.NJ,transformSets:()=>c.Rf});var c=l("./packages/ckeditor5-engine/src/index.ts")},"./src/enter.js":(p,_,l)=>{"use strict";l.r(_),l.d(_,{Enter:()=>c.C,ShiftEnter:()=>c.G});var c=l("./packages/ckeditor5-enter/src/index.ts")},"./src/paragraph.js":(p,_,l)=>{"use strict";l.r(_),l.d(_,{Paragraph:()=>Z,ParagraphButtonUI:()=>oe});var c=l("./packages/ckeditor5-core/src/index.ts"),P=l("./packages/ckeditor5-utils/src/index.ts");class B extends c.mY{constructor(u){super(u),this._isEnabledBasedOnSelection=!1}refresh(){const u=this.editor.model,y=u.document,f=(0,P.Ps)(y.selection.getSelectedBlocks());this.value=!!f&&f.is("element","paragraph"),this.isEnabled=!!f&&x(f,u.schema)}execute(u={}){const y=this.editor.model,f=y.document,v=u.selection||f.selection;y.canEditAt(v)&&y.change(A=>{const T=v.getSelectedBlocks();for(const E of T)!E.is("element","paragraph")&&x(E,y.schema)&&A.rename(E,"paragraph")})}}function x(ie,u){return u.checkChild(ie.parent,"paragraph")&&!u.isObject(ie)}class h extends c.mY{constructor(u){super(u),this._isEnabledBasedOnSelection=!1}execute(u){const y=this.editor.model,f=u.attributes;let v=u.position;y.canEditAt(v)&&y.change(A=>{if(v=this._findPositionToInsertParagraph(v,A),!v)return;const T=A.createElement("paragraph");f&&y.schema.setAllowedAttributes(T,f,A),y.insertContent(T,v),A.setSelection(T,"in")})}_findPositionToInsertParagraph(u,y){const f=this.editor.model;if(f.schema.checkChild(u,"paragraph"))return u;const v=f.schema.findAllowedParent(u,"paragraph");if(!v)return null;const A=u.parent,T=f.schema.checkChild(A,"$text");return A.isEmpty||T&&u.isAtEnd?f.createPositionAfter(A):!A.isEmpty&&T&&u.isAtStart?f.createPositionBefore(A):y.split(u,v).position}}const j=class extends c.Sy{static get pluginName(){return"Paragraph"}init(){const ie=this.editor,u=ie.model;ie.commands.add("paragraph",new B(ie)),ie.commands.add("insertParagraph",new h(ie)),u.schema.register("paragraph",{inheritAllFrom:"$block"}),ie.conversion.elementToElement({model:"paragraph",view:"p"}),ie.conversion.for("upcast").elementToElement({model:(y,{writer:f})=>j.paragraphLikeElements.has(y.name)?y.isEmpty?null:f.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let Z=j;Z.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);var Y=l("./packages/ckeditor5-ui/src/index.ts");const te=c.icons.paragraph;class oe extends c.Sy{static get requires(){return[Z]}init(){const u=this.editor,y=u.t;u.ui.componentFactory.add("paragraph",f=>{const v=new Y.r5(f),A=u.commands.get("paragraph");return v.label=y("Paragraph"),v.icon=te,v.tooltip=!0,v.isToggleable=!0,v.bind("isEnabled").to(A),v.bind("isOn").to(A,"value"),v.on("execute",()=>{u.execute("paragraph")}),v})}}},"./src/select-all.js":(p,_,l)=>{"use strict";l.r(_),l.d(_,{SelectAll:()=>te,SelectAllEditing:()=>j,SelectAllUI:()=>Y});var c=l("./packages/ckeditor5-core/src/index.ts"),P=l("./packages/ckeditor5-utils/src/index.ts");class B extends c.mY{constructor(ie){super(ie),this.affectsData=!1}execute(){const ie=this.editor.model,u=ie.document.selection;let y=ie.schema.getLimitElement(u);if(u.containsEntireContent(y)||!x(ie.schema,y))do if(y=y.parent,!y)return;while(!x(ie.schema,y));ie.change(f=>{f.setSelection(y,"in")})}}function x(oe,ie){return oe.isLimit(ie)&&(oe.checkChild(ie,"$text")||oe.checkChild(ie,"paragraph"))}const h=(0,P.Zz)("Ctrl+A");class j extends c.Sy{static get pluginName(){return"SelectAllEditing"}init(){const ie=this.editor,u=ie.editing.view.document;ie.commands.add("selectAll",new B(ie)),this.listenTo(u,"keydown",(y,f)=>{(0,P.Cq)(f)===h&&(ie.execute("selectAll"),f.preventDefault())})}}var Z=l("./packages/ckeditor5-ui/src/index.ts");class Y extends c.Sy{static get pluginName(){return"SelectAllUI"}init(){const ie=this.editor;ie.ui.componentFactory.add("selectAll",u=>{const y=ie.commands.get("selectAll"),f=new Z.r5(u),v=u.t;return f.set({label:v("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),f.bind("isEnabled").to(y,"isEnabled"),this.listenTo(f,"execute",()=>{ie.execute("selectAll"),ie.editing.view.focus()}),f})}}class te extends c.Sy{static get requires(){return[j,Y]}static get pluginName(){return"SelectAll"}}},"./src/typing.js":(p,_,l)=>{"use strict";l.r(_),l.d(_,{Delete:()=>c.HG,Input:()=>c.II,InsertTextCommand:()=>c.BT,TextTransformation:()=>c.cL,TextWatcher:()=>c.uL,TwoStepCaretMovement:()=>c.mh,Typing:()=>c.Mq,findAttributeRange:()=>c.VD,findAttributeRangeBound:()=>c.r9,getLastTextLine:()=>c.Up,inlineHighlight:()=>c.Im});var c=l("./packages/ckeditor5-typing/src/index.ts")},"./src/ui.js":(p,_,l)=>{"use strict";l.r(_),l.d(_,{AutocompleteView:()=>c.cH,BalloonPanelView:()=>c.no,BalloonToolbar:()=>c.Jf,BlockToolbar:()=>c.ee,BodyCollection:()=>c.BK,BoxedEditorUIView:()=>c.py,ButtonLabelView:()=>c.UR,ButtonView:()=>c.r5,CollapsibleView:()=>c.p2,ColorGridView:()=>c.J6,ColorPickerView:()=>c.J2,ColorSelectorView:()=>c.MI,ColorTileView:()=>c._9,ComponentFactory:()=>c._Y,ContextualBalloon:()=>c.WB,CssTransitionDisablerMixin:()=>c.RX,DropdownButtonView:()=>c.J0,DropdownPanelView:()=>c.G2,DropdownView:()=>c._n,EditorUI:()=>c.S8,EditorUIView:()=>c.fF,FilteredView:()=>c.LR,FocusCycler:()=>c.I0,FormHeaderView:()=>c.Gp,HighlightedTextView:()=>c.yd,IconView:()=>c.mO,IframeView:()=>c.VY,InlineEditableUIView:()=>c.r1,InputNumberView:()=>c.Xs,InputTextView:()=>c.pq,InputView:()=>c.Em,LabelView:()=>c.Dn,LabeledFieldView:()=>c.KP,ListItemGroupView:()=>c.YK,ListItemView:()=>c.dn,ListView:()=>c.Bv,Model:()=>c.Hn,Notification:()=>c.P_,SearchInfoView:()=>c.$W,SearchTextView:()=>c.ZU,SpinnerView:()=>c.RO,SplitButtonView:()=>c.Rm,StickyPanelView:()=>c.lp,SwitchButtonView:()=>c.BM,Template:()=>c.YS,TextareaView:()=>c.nC,ToolbarLineBreakView:()=>c.qR,ToolbarSeparatorView:()=>c.$y,ToolbarView:()=>c.jB,TooltipManager:()=>c.gE,View:()=>c.G7,ViewCollection:()=>c.vX,addKeyboardHandlingForGrid:()=>c.IJ,addListToDropdown:()=>c.Pm,addToolbarToDropdown:()=>c.up,clickOutsideHandler:()=>c.eC,createDropdown:()=>c.t9,createLabeledDropdown:()=>c.FH,createLabeledInputNumber:()=>c.sh,createLabeledInputText:()=>c.R,createLabeledTextarea:()=>c.s$,focusChildOnDropdownOpen:()=>c.Mh,getLocalizedColorOptions:()=>c.k6,icons:()=>c.ci,injectCssTransitionDisabler:()=>c.fe,normalizeColorOptions:()=>c.S1,normalizeSingleColorDefinition:()=>c.jY,normalizeToolbarConfig:()=>c.iw,submitHandler:()=>c.GI});var c=l("./packages/ckeditor5-ui/src/index.ts")},"./src/undo.js":(p,_,l)=>{"use strict";l.r(_),l.d(_,{Undo:()=>E,UndoEditing:()=>y,UndoUI:()=>T});var c=l("./packages/ckeditor5-core/src/index.ts"),P=l("./packages/ckeditor5-engine/src/index.ts"),B=Object.defineProperty,x=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,Z=(ae,q,z)=>q in ae?B(ae,q,{enumerable:!0,configurable:!0,writable:!0,value:z}):ae[q]=z;class Y extends c.mY{constructor(q){super(q),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(q.data,"set",(z,b)=>{b[1]=(($,D)=>{for(var re in D||(D={}))h.call(D,re)&&Z($,re,D[re]);if(x)for(var re of x(D))j.call(D,re)&&Z($,re,D[re]);return $})({},b[1]);const V=b[1];V.batchType||(V.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(q.data,"set",(z,b)=>{b[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(q){const z=this.editor.model.document.selection,b={ranges:z.hasOwnRange?Array.from(z.getRanges()):[],isBackward:z.isBackward};this._stack.push({batch:q,selection:b}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(q,z,b){const V=this.editor.model,$=V.document,D=[],re=q.map(je=>je.getTransformedByOperations(b)),Ee=re.flat();for(const je of re){const Ie=je.filter(De=>De.root!=$.graveyard).filter(De=>!oe(De,Ee));Ie.length&&(te(Ie),D.push(Ie[0]))}D.length&&V.change(je=>{je.setSelection(D,{backward:z})})}_undo(q,z){const b=this.editor.model,V=b.document;this._createdBatches.add(z);const $=q.operations.slice().filter(D=>D.isDocumentOperation);$.reverse();for(const D of $){const re=D.baseVersion+1,Ee=Array.from(V.history.getOperations(re)),je=(0,P.Rf)([D.getReversed()],Ee,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let Ie of je){const De=Ie.affectedSelectable;De&&!b.canEditAt(De)&&(Ie=new P.Pk(Ie.baseVersion)),z.addOperation(Ie),b.applyOperation(Ie),V.history.setOperationAsUndone(D,Ie)}}}}function te(ae){ae.sort((q,z)=>q.start.isBefore(z.start)?-1:1);for(let q=1;q<ae.length;q++){const z=ae[q-1].getJoined(ae[q],!0);z&&(q--,ae.splice(q,2,z))}}function oe(ae,q){return q.some(z=>z!==ae&&z.containsRange(ae,!0))}class ie extends Y{execute(q=null){const z=q?this._stack.findIndex($=>$.batch==q):this._stack.length-1,b=this._stack.splice(z,1)[0],V=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(V,()=>{this._undo(b.batch,V);const $=this.editor.model.document.history.getOperations(b.batch.baseVersion);this._restoreSelection(b.selection.ranges,b.selection.isBackward,$)}),this.fire("revert",b.batch,V),this.refresh()}}class u extends Y{execute(){const q=this._stack.pop(),z=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(z,()=>{const b=q.batch.operations[q.batch.operations.length-1].baseVersion+1,V=this.editor.model.document.history.getOperations(b);this._restoreSelection(q.selection.ranges,q.selection.isBackward,V),this._undo(q.batch,z)}),this.refresh()}}class y extends c.Sy{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const q=this.editor;this._undoCommand=new ie(q),this._redoCommand=new u(q),q.commands.add("undo",this._undoCommand),q.commands.add("redo",this._redoCommand),this.listenTo(q.model,"applyOperation",(z,b)=>{const V=b[0];if(!V.isDocumentOperation)return;const $=V.batch,D=this._redoCommand.createdBatches.has($),re=this._undoCommand.createdBatches.has($);this._batchRegistry.has($)||(this._batchRegistry.add($),$.isUndoable&&(D?this._undoCommand.addBatch($):re||(this._undoCommand.addBatch($),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(z,b,V)=>{this._redoCommand.addBatch(V)}),q.keystrokes.set("CTRL+Z","undo"),q.keystrokes.set("CTRL+Y","redo"),q.keystrokes.set("CTRL+SHIFT+Z","redo")}}var f=l("./packages/ckeditor5-ui/src/index.ts");const v='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',A='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class T extends c.Sy{static get pluginName(){return"UndoUI"}init(){const q=this.editor,z=q.locale,b=q.t,V=z.uiLanguageDirection=="ltr"?v:A,$=z.uiLanguageDirection=="ltr"?A:v;this._addButton("undo",b("Undo"),"CTRL+Z",V),this._addButton("redo",b("Redo"),"CTRL+Y",$)}_addButton(q,z,b,V){const $=this.editor;$.ui.componentFactory.add(q,D=>{const re=$.commands.get(q),Ee=new f.r5(D);return Ee.set({label:z,icon:V,keystroke:b,tooltip:!0}),Ee.bind("isEnabled").to(re,"isEnabled"),this.listenTo(Ee,"execute",()=>{$.execute(q),$.editing.view.focus()}),Ee})}}class E extends c.Sy{static get requires(){return[y,T]}static get pluginName(){return"Undo"}}},"./src/upload.js":(p,_,l)=>{"use strict";l.r(_),l.d(_,{Base64UploadAdapter:()=>te,FileDialogButtonView:()=>Z,FileRepository:()=>x,SimpleUploadAdapter:()=>E});var c=l("./packages/ckeditor5-core/src/index.ts"),P=l("./packages/ckeditor5-utils/src/index.ts");class B extends(0,P.Re)(){constructor(){super();const z=new window.FileReader;this._reader=z,this._data=void 0,this.set("loaded",0),z.onprogress=b=>{this.loaded=b.loaded}}get error(){return this._reader.error}get data(){return this._data}read(z){const b=this._reader;return this.total=z.size,new Promise((V,$)=>{b.onload=()=>{const D=b.result;this._data=D,V(D)},b.onerror=()=>{$("error")},b.onabort=()=>{$("aborted")},this._reader.readAsDataURL(z)})}abort(){this._reader.abort()}}class x extends c.Sy{constructor(){super(...arguments),this.loaders=new P.FE,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[c.lR]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(z,b)=>b?z/b*100:0)}getLoader(z){return this._loadersMap.get(z)||null}createLoader(z){if(!this.createUploadAdapter)return(0,P.KE)("filerepository-no-upload-adapter"),null;const b=new h(Promise.resolve(z),this.createUploadAdapter);return this.loaders.add(b),this._loadersMap.set(z,b),z instanceof Promise&&b.file.then(V=>{this._loadersMap.set(V,b)}).catch(()=>{}),b.on("change:uploaded",()=>{let V=0;for(const $ of this.loaders)V+=$.uploaded;this.uploaded=V}),b.on("change:uploadTotal",()=>{let V=0;for(const $ of this.loaders)$.uploadTotal&&(V+=$.uploadTotal);this.uploadTotal=V}),b}destroyLoader(z){const b=z instanceof h?z:this.getLoader(z);b._destroy(),this.loaders.remove(b),this._loadersMap.forEach((V,$)=>{V===b&&this._loadersMap.delete($)})}_updatePendingAction(){const z=this.editor.plugins.get(c.lR);if(this.loaders.length){if(!this._pendingAction){const b=this.editor.t,V=$=>`${b("Upload in progress")} ${parseInt($)}%.`;this._pendingAction=z.add(V(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",V)}}else z.remove(this._pendingAction),this._pendingAction=null}}class h extends(0,P.Re)(){constructor(z,b){super(),this.id=(0,P.hQ)(),this._filePromiseWrapper=this._createFilePromiseWrapper(z),this._adapter=b(this),this._reader=new B,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(V,$)=>$?V/$*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(z=>this._filePromiseWrapper?z:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new P.Bb("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(z=>this._reader.read(z)).then(z=>{if(this.status!=="reading")throw this.status;return this.status="idle",z}).catch(z=>{throw z==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:z)})}upload(){if(this.status!="idle")throw new P.Bb("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(z=>(this.uploadResponse=z,this.status="idle",z)).catch(z=>{throw this.status==="aborted"?"aborted":(this.status="error",z)})}abort(){const z=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?z=="reading"?this._reader.abort():z=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(z){const b={};return b.promise=new Promise((V,$)=>{b.rejecter=$,b.isFulfilled=!1,z.then(D=>{b.isFulfilled=!0,V(D)}).catch(D=>{b.isFulfilled=!0,$(D)})}),b}}var j=l("./packages/ckeditor5-ui/src/index.ts");class Z extends j.r5{constructor(z){super(z),this.buttonView=this,this._fileInputView=new Y(z),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class Y extends j.G7{constructor(z){super(z),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const b=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:b.to("acceptedType"),multiple:b.to("allowMultipleFiles")},on:{change:b.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class te extends c.Sy{static get requires(){return[x]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(x).createUploadAdapter=z=>new oe(z)}}class oe{constructor(z){this.loader=z}upload(){return new Promise((z,b)=>{const V=this.reader=new window.FileReader;V.addEventListener("load",()=>{z({default:V.result})}),V.addEventListener("error",$=>{b($)}),V.addEventListener("abort",()=>{b()}),this.loader.file.then($=>{V.readAsDataURL($)})})}abort(){this.reader.abort()}}var ie=Object.defineProperty,u=Object.defineProperties,y=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,T=(q,z,b)=>z in q?ie(q,z,{enumerable:!0,configurable:!0,writable:!0,value:b}):q[z]=b;class E extends c.Sy{static get requires(){return[x]}static get pluginName(){return"SimpleUploadAdapter"}init(){const z=this.editor.config.get("simpleUpload");z&&(z.uploadUrl?this.editor.plugins.get(x).createUploadAdapter=b=>new ae(b,z):(0,P.KE)("simple-upload-adapter-missing-uploadurl"))}}class ae{constructor(z,b){this.loader=z,this.options=b}upload(){return this.loader.file.then(z=>new Promise((b,V)=>{this._initRequest(),this._initListeners(b,V,z),this._sendRequest(z)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const z=this.xhr=new XMLHttpRequest;z.open("POST",this.options.uploadUrl,!0),z.responseType="json"}_initListeners(z,b,V){const $=this.xhr,D=this.loader,re=`Couldn't upload file: ${V.name}.`;$.addEventListener("error",()=>b(re)),$.addEventListener("abort",()=>b()),$.addEventListener("load",()=>{const Ee=$.response;if(!Ee||Ee.error)return b(Ee&&Ee.error&&Ee.error.message?Ee.error.message:re);const je=Ee.url?{default:Ee.url}:Ee.urls;var Ie;z((Ie=((De,mt)=>{for(var lt in mt||(mt={}))v.call(mt,lt)&&T(De,lt,mt[lt]);if(f)for(var lt of f(mt))A.call(mt,lt)&&T(De,lt,mt[lt]);return De})({},Ee),u(Ie,y({urls:je}))))}),$.upload&&$.upload.addEventListener("progress",Ee=>{Ee.lengthComputable&&(D.uploadTotal=Ee.total,D.uploaded=Ee.loaded)})}_sendRequest(z){const b=this.options.headers||{},V=this.options.withCredentials||!1;for(const D of Object.keys(b))this.xhr.setRequestHeader(D,b[D]);this.xhr.withCredentials=V;const $=new FormData;$.append("upload",z),this.xhr.send($)}}},"./src/utils.js":(p,_,l)=>{"use strict";l.r(_),l.d(_,{CKEditorError:()=>c.Bb,Collection:()=>c.FE,Config:()=>c.De,DomEmitterMixin:()=>c.Xu,ElementReplacer:()=>c.a6,EmitterMixin:()=>c.ln,EventInfo:()=>c.M3,FocusTracker:()=>c.Rh,KeystrokeHandler:()=>c.VD,Locale:()=>c.go,ObservableMixin:()=>c.Re,Rect:()=>c.UL,ResizeObserver:()=>c.do,abortableDebounce:()=>c.fZ,compareArrays:()=>c.Rt,count:()=>c.QX,createElement:()=>c.az,delay:()=>c.gw,diff:()=>c.Hg,diffToChanges:()=>c.Pk,env:()=>c.OB,exponentialDelay:()=>c.$J,fastDiff:()=>c.HZ,findClosestScrollableAncestor:()=>c.wm,first:()=>c.Ps,getAncestors:()=>c.dk,getBorderWidths:()=>c.lo,getCode:()=>c.Cq,getDataFromElement:()=>c.yy,getEnvKeystrokeText:()=>c.XU,getLanguageDirection:()=>c.j9,getLocalizedArrowKeyCodeDirection:()=>c.mA,getOptimalPosition:()=>c.xZ,global:()=>c.global,indexOf:()=>c.cq,insertAt:()=>c.ZQ,insertToPriorityArray:()=>c.VG,isArrowKeyCode:()=>c.dj,isCombiningMark:()=>c.tO,isComment:()=>c.C3,isForwardArrowKeyCode:()=>c.Zt,isHighSurrogateHalf:()=>c.Cb,isInsideCombinedSymbol:()=>c.pp,isInsideEmojiSequence:()=>c.YK,isInsideSurrogatePair:()=>c.to,isIterable:()=>c.TW,isLowSurrogateHalf:()=>c.nA,isNode:()=>c.UG,isRange:()=>c.bR,isText:()=>c.Gs,isValidAttributeName:()=>c.$b,isVisible:()=>c.pn,keyCodes:()=>c.Do,logError:()=>c.H,logWarning:()=>c.KE,mix:()=>c.CD,parseKeystroke:()=>c.Zz,priorities:()=>c.tA,releaseDate:()=>c.Dm,remove:()=>c.Od,retry:()=>c.XD,scrollAncestorsToShowTarget:()=>c.F0,scrollViewportToShowTarget:()=>c.mR,setDataInElement:()=>c.jS,spliceArray:()=>c.x,toArray:()=>c.qo,toMap:()=>c.qL,toUnit:()=>c.nn,uid:()=>c.hQ,verifyLicense:()=>c.Tx,version:()=>c.i8,wait:()=>c.Dc});var c=l("./packages/ckeditor5-utils/src/index.ts")},"./src/watchdog.js":(p,_,l)=>{"use strict";l.r(_),l.d(_,{ContextWatchdog:()=>ae,EditorWatchdog:()=>A,Watchdog:()=>c});class c{constructor(V){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof V.crashNumberLimit=="number"?V.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof V.minimumNonErrorTimePeriod=="number"?V.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=$=>{const D="error"in $?$.error:$.reason;D instanceof Error&&this._handleError(D,$)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(V,$){this._listeners[V]||(this._listeners[V]=[]),this._listeners[V].push($)}off(V,$){this._listeners[V]=this._listeners[V].filter(D=>D!==$)}_fire(V,...$){const D=this._listeners[V]||[];for(const re of D)re.apply(this,[null,...$])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(V,$){if(this._shouldReactToError(V)){this.crashes.push({message:V.message,stack:V.stack,filename:$ instanceof ErrorEvent?$.filename:void 0,lineno:$ instanceof ErrorEvent?$.lineno:void 0,colno:$ instanceof ErrorEvent?$.colno:void 0,date:this._now()});const D=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:V,causesRestart:D}),D?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(V){return V.is&&V.is("CKEditorError")&&V.context!==void 0&&V.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(V)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function P(b,V=new Set){const $=[b],D=new Set;let re=0;for(;$.length>re;){const Ee=$[re++];if(!D.has(Ee)&&B(Ee)&&!V.has(Ee))if(D.add(Ee),Symbol.iterator in Ee)try{for(const je of Ee)$.push(je)}catch{}else for(const je in Ee)je!=="defaultValue"&&$.push(Ee[je])}return D}function B(b){const V=Object.prototype.toString.call(b),$=typeof b;return!($==="number"||$==="boolean"||$==="string"||$==="symbol"||$==="function"||V==="[object Date]"||V==="[object RegExp]"||V==="[object Module]"||b==null||b._watchdogExcluded||b instanceof EventTarget||b instanceof Event)}function x(b,V,$=new Set){if(b===V&&typeof(D=b)=="object"&&D!==null)return!0;var D;const re=P(b,$),Ee=P(V,$);for(const je of re)if(Ee.has(je))return!0;return!1}var h=l("./node_modules/lodash-es/throttle.js"),j=l("./node_modules/lodash-es/isElement.js"),Z=l("./node_modules/lodash-es/cloneDeepWith.js"),Y=Object.defineProperty,te=Object.defineProperties,oe=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,f=(b,V,$)=>V in b?Y(b,V,{enumerable:!0,configurable:!0,writable:!0,value:$}):b[V]=$,v=(b,V)=>{for(var $ in V||(V={}))u.call(V,$)&&f(b,$,V[$]);if(ie)for(var $ of ie(V))y.call(V,$)&&f(b,$,V[$]);return b};class A extends c{constructor(V,$={}){super($),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=(0,h.Z)(this._save.bind(this),typeof $.saveInterval=="number"?$.saveInterval:5e3),V&&(this._creator=(D,re)=>V.create(D,re)),this._destructor=D=>D.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(V){this._creator=V}setDestructor(V){this._destructor=V}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(V=>{console.error("An error happened during the editor destroying.",V)}).then(()=>{const V={},$=[],D=this._config.rootsAttributes||{},re={};for(const[De,mt]of Object.entries(this._data.roots))mt.isLoaded?(V[De]="",re[De]=D[De]||{}):$.push(De);const Ee=(je=v({},this._config),Ie={extraPlugins:this._config.extraPlugins||[],lazyRoots:$,rootsAttributes:re,_watchdogInitialData:this._data},te(je,oe(Ie)));var je,Ie;return delete Ee.initialData,Ee.extraPlugins.push(T),this._initUsingData?this.create(V,Ee,Ee.context):(0,j.Z)(this._elementOrData)?this.create(this._elementOrData,Ee,Ee.context):this.create(this._editables,Ee,Ee.context)}).then(()=>{this._fire("restart")})}create(V=this._elementOrData,$=this._config,D){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=V,this._initUsingData=typeof V=="string"||Object.keys(V).length>0&&typeof Object.values(V)[0]=="string",this._config=this._cloneEditorConfiguration($)||{},this._config.context=D,this._creator(V,this._config))).then(re=>{this._editor=re,re.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=re.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const V=this._editor;return this._editor=null,V.model.document.off("change:data",this._throttledSave),this._destructor(V)})}_save(){const V=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=V}catch($){console.error($,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(V){this._excludedProps=V}_getData(){const V=this._editor,$=V.model.document.roots.filter(Ie=>Ie.isAttached()&&Ie.rootName!="$graveyard"),{plugins:D}=V,re=D.has("CommentsRepository")&&D.get("CommentsRepository"),Ee=D.has("TrackChanges")&&D.get("TrackChanges"),je={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};$.forEach(Ie=>{je.roots[Ie.rootName]={content:JSON.stringify(Array.from(Ie.getChildren())),attributes:JSON.stringify(Array.from(Ie.getAttributes())),isLoaded:Ie._isLoaded}});for(const Ie of V.model.markers)Ie._affectsData&&(je.markers[Ie.name]={rangeJSON:Ie.getRange().toJSON(),usingOperation:Ie._managedUsingOperations,affectsData:Ie._affectsData});return re&&(je.commentThreads=JSON.stringify(re.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),Ee&&(je.suggestions=JSON.stringify(Ee.getSuggestions({toJSON:!0,skipNotAttached:!0}))),je}_getEditables(){const V={};for(const $ of this.editor.model.document.getRootNames()){const D=this.editor.ui.getEditableElement($);D&&(V[$]=D)}return V}_isErrorComingFromThisItem(V){return x(this._editor,V.context,this._excludedProps)}_cloneEditorConfiguration(V){return(0,Z.Z)(V,($,D)=>(0,j.Z)($)||D==="context"?$:void 0)}}class T{constructor(V){this.editor=V,this._data=V.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",V=>{V.stop(),this.editor.model.enqueueChange({isUndoable:!1},$=>{this._restoreCollaborationData(),this._restoreEditorData($)}),this.editor.data.fire("ready")},{priority:999})}_createNode(V,$){if("name"in $){const D=V.createElement($.name,$.attributes);if($.children)for(const re of $.children)D._appendChild(this._createNode(V,re));return D}return V.createText($.data,$.attributes)}_restoreEditorData(V){const $=this.editor;Object.entries(this._data.roots).forEach(([D,{content:re,attributes:Ee}])=>{const je=JSON.parse(re),Ie=JSON.parse(Ee),De=$.model.document.getRoot(D);for(const[mt,lt]of Ie)V.setAttribute(mt,lt,De);for(const mt of je){const lt=this._createNode(V,mt);V.insert(lt,De,"end")}}),Object.entries(this._data.markers).forEach(([D,re])=>{const{document:Ee}=$.model,je=re,{rangeJSON:{start:Ie,end:De}}=je,mt=((bt,Qe)=>{var ft={};for(var Ve in bt)u.call(bt,Ve)&&Qe.indexOf(Ve)<0&&(ft[Ve]=bt[Ve]);if(bt!=null&&ie)for(var Ve of ie(bt))Qe.indexOf(Ve)<0&&y.call(bt,Ve)&&(ft[Ve]=bt[Ve]);return ft})(je,["rangeJSON"]),lt=Ee.getRoot(Ie.root),ut=V.createPositionFromPath(lt,Ie.path,Ie.stickiness),dt=V.createPositionFromPath(lt,De.path,De.stickiness),_t=V.createRange(ut,dt);V.addMarker(D,v({range:_t},mt))})}_restoreCollaborationData(){const V=JSON.parse(this._data.commentThreads),$=JSON.parse(this._data.suggestions);V.forEach(D=>{const re=this.editor.config.get("collaboration.channelId"),Ee=this.editor.plugins.get("CommentsRepository");Ee.hasCommentThread(D.threadId)&&Ee.getCommentThread(D.threadId).remove(),Ee.addCommentThread(v({channelId:re},D))}),$.forEach(D=>{const re=this.editor.plugins.get("TrackChangesEditing");re.hasSuggestion(D.id)?re.getSuggestion(D.id).attributes=D.attributes:re.addSuggestionData(D)})}}const E=Symbol("MainQueueId");class ae extends c{constructor(V,$={}){super($),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new q,this._watchdogConfig=$,this._creator=D=>V.create(D),this._destructor=D=>D.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(V){this._creator=V}setDestructor(V){this._destructor=V}get context(){return this._context}create(V={}){return this._actionQueues.enqueue(E,()=>(this._contextConfig=V,this._create()))}getItem(V){return this._getWatchdog(V)._item}getItemState(V){return this._getWatchdog(V).state}add(V){const $=z(V);return Promise.all($.map(D=>this._actionQueues.enqueue(D.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let re;if(this._watchdogs.has(D.id))throw new Error(`Item with the given id is already added: '${D.id}'.`);if(D.type==="editor")return re=new A(null,this._watchdogConfig),re.setCreator(D.creator),re._setExcludedProperties(this._contextProps),D.destructor&&re.setDestructor(D.destructor),this._watchdogs.set(D.id,re),re.on("error",(Ee,{error:je,causesRestart:Ie})=>{this._fire("itemError",{itemId:D.id,error:je}),Ie&&this._actionQueues.enqueue(D.id,()=>new Promise(De=>{const mt=()=>{re.off("restart",mt),this._fire("itemRestart",{itemId:D.id}),De()};re.on("restart",mt)}))}),re.create(D.sourceElementOrData,D.config,this._context);throw new Error(`Not supported item type: '${D.type}'.`)})))}remove(V){const $=z(V);return Promise.all($.map(D=>this._actionQueues.enqueue(D,()=>{const re=this._getWatchdog(D);return this._watchdogs.delete(D),re.destroy()})))}destroy(){return this._actionQueues.enqueue(E,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(E,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(V=>{console.error("An error happened during destroying the context or items.",V)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(V=>(this._context=V,this._contextProps=P(this._context),Promise.all(Array.from(this._watchdogs.values()).map($=>($._setExcludedProperties(this._contextProps),$.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const V=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map($=>$.destroy())).then(()=>this._destructor(V))})}_getWatchdog(V){const $=this._watchdogs.get(V);if(!$)throw new Error(`Item with the given id was not registered: ${V}.`);return $}_isErrorComingFromThisItem(V){for(const $ of this._watchdogs.values())if($._isErrorComingFromThisItem(V))return!1;return x(this._context,V.context)}}class q{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(V){this._onEmptyCallbacks.push(V)}enqueue(V,$){const D=V===E;this._activeActions++,this._queues.get(V)||this._queues.set(V,Promise.resolve());const re=(D?Promise.all(this._queues.values()):Promise.all([this._queues.get(E),this._queues.get(V)])).then($),Ee=re.catch(()=>{});return this._queues.set(V,Ee),re.finally(()=>{this._activeActions--,this._queues.get(V)===Ee&&this._activeActions===0&&this._onEmptyCallbacks.forEach(je=>je())})}}function z(b){return Array.isArray(b)?b:[b]}},"./src/widget.js":(p,_,l)=>{"use strict";l.r(_),l.d(_,{WIDGET_CLASS_NAME:()=>c.s4,WIDGET_SELECTED_CLASS_NAME:()=>c.Uo,Widget:()=>c.$L,WidgetResize:()=>c.WR,WidgetToolbarRepository:()=>c.e8,WidgetTypeAround:()=>c.Ww,findOptimalInsertionRange:()=>c.KT,getLabel:()=>c.id,isWidget:()=>c.Qd,setHighlightHandling:()=>c.em,setLabel:()=>c.l6,toWidget:()=>c.XC,toWidgetEditable:()=>c.sC,viewToModelPositionOutsideModelElement:()=>c.$n});var c=l("./packages/ckeditor5-widget/src/index.ts")},"?7cdd":(p,_,l)=>{p.exports=l},"./node_modules/lodash-es/_ListCache.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>oe});const c=function(){this.__data__=[],this.size=0};var P=l("./node_modules/lodash-es/eq.js");const B=function(ie,u){for(var y=ie.length;y--;)if((0,P.Z)(ie[y][0],u))return y;return-1};var x=Array.prototype.splice;const h=function(ie){var u=this.__data__,y=B(u,ie);return!(y<0)&&(y==u.length-1?u.pop():x.call(u,y,1),--this.size,!0)},j=function(ie){var u=this.__data__,y=B(u,ie);return y<0?void 0:u[y][1]},Z=function(ie){return B(this.__data__,ie)>-1},Y=function(ie,u){var y=this.__data__,f=B(y,ie);return f<0?(++this.size,y.push([ie,u])):y[f][1]=u,this};function te(ie){var u=-1,y=ie==null?0:ie.length;for(this.clear();++u<y;){var f=ie[u];this.set(f[0],f[1])}}te.prototype.clear=c,te.prototype.delete=h,te.prototype.get=j,te.prototype.has=Z,te.prototype.set=Y;const oe=te},"./node_modules/lodash-es/_Map.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/lodash-es/_getNative.js"),P=l("./node_modules/lodash-es/_root.js");const B=(0,c.Z)(P.Z,"Map")},"./node_modules/lodash-es/_MapCache.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>z});const c=(0,l("./node_modules/lodash-es/_getNative.js").Z)(Object,"create"),P=function(){this.__data__=c?c(null):{},this.size=0},B=function(b){var V=this.has(b)&&delete this.__data__[b];return this.size-=V?1:0,V};var x=Object.prototype.hasOwnProperty;const h=function(b){var V=this.__data__;if(c){var $=V[b];return $==="__lodash_hash_undefined__"?void 0:$}return x.call(V,b)?V[b]:void 0};var j=Object.prototype.hasOwnProperty;const Z=function(b){var V=this.__data__;return c?V[b]!==void 0:j.call(V,b)},Y=function(b,V){var $=this.__data__;return this.size+=this.has(b)?0:1,$[b]=c&&V===void 0?"__lodash_hash_undefined__":V,this};function te(b){var V=-1,$=b==null?0:b.length;for(this.clear();++V<$;){var D=b[V];this.set(D[0],D[1])}}te.prototype.clear=P,te.prototype.delete=B,te.prototype.get=h,te.prototype.has=Z,te.prototype.set=Y;const oe=te;var ie=l("./node_modules/lodash-es/_ListCache.js"),u=l("./node_modules/lodash-es/_Map.js");const y=function(){this.size=0,this.__data__={hash:new oe,map:new(u.Z||ie.Z),string:new oe}},f=function(b){var V=typeof b;return V=="string"||V=="number"||V=="symbol"||V=="boolean"?b!=="__proto__":b===null},v=function(b,V){var $=b.__data__;return f(V)?$[typeof V=="string"?"string":"hash"]:$.map},A=function(b){var V=v(this,b).delete(b);return this.size-=V?1:0,V},T=function(b){return v(this,b).get(b)},E=function(b){return v(this,b).has(b)},ae=function(b,V){var $=v(this,b),D=$.size;return $.set(b,V),this.size+=$.size==D?0:1,this};function q(b){var V=-1,$=b==null?0:b.length;for(this.clear();++V<$;){var D=b[V];this.set(D[0],D[1])}}q.prototype.clear=y,q.prototype.delete=A,q.prototype.get=T,q.prototype.has=E,q.prototype.set=ae;const z=q},"./node_modules/lodash-es/_Stack.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>oe});var c=l("./node_modules/lodash-es/_ListCache.js");const P=function(){this.__data__=new c.Z,this.size=0},B=function(ie){var u=this.__data__,y=u.delete(ie);return this.size=u.size,y},x=function(ie){return this.__data__.get(ie)},h=function(ie){return this.__data__.has(ie)};var j=l("./node_modules/lodash-es/_Map.js"),Z=l("./node_modules/lodash-es/_MapCache.js");const Y=function(ie,u){var y=this.__data__;if(y instanceof c.Z){var f=y.__data__;if(!j.Z||f.length<199)return f.push([ie,u]),this.size=++y.size,this;y=this.__data__=new Z.Z(f)}return y.set(ie,u),this.size=y.size,this};function te(ie){var u=this.__data__=new c.Z(ie);this.size=u.size}te.prototype.clear=P,te.prototype.delete=B,te.prototype.get=x,te.prototype.has=h,te.prototype.set=Y;const oe=te},"./node_modules/lodash-es/_Symbol.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c=l("./node_modules/lodash-es/_root.js").Z.Symbol},"./node_modules/lodash-es/_Uint8Array.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c=l("./node_modules/lodash-es/_root.js").Z.Uint8Array},"./node_modules/lodash-es/_arrayLikeKeys.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>Y});const c=function(te,oe){for(var ie=-1,u=Array(te);++ie<te;)u[ie]=oe(ie);return u};var P=l("./node_modules/lodash-es/isArguments.js"),B=l("./node_modules/lodash-es/isArray.js"),x=l("./node_modules/lodash-es/isBuffer.js"),h=l("./node_modules/lodash-es/_isIndex.js"),j=l("./node_modules/lodash-es/isTypedArray.js"),Z=Object.prototype.hasOwnProperty;const Y=function(te,oe){var ie=(0,B.Z)(te),u=!ie&&(0,P.Z)(te),y=!ie&&!u&&(0,x.Z)(te),f=!ie&&!u&&!y&&(0,j.Z)(te),v=ie||u||y||f,A=v?c(te.length,String):[],T=A.length;for(var E in te)!oe&&!Z.call(te,E)||v&&(E=="length"||y&&(E=="offset"||E=="parent")||f&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||(0,h.Z)(E,T))||A.push(E);return A}},"./node_modules/lodash-es/_arrayPush.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c=function(P,B){for(var x=-1,h=B.length,j=P.length;++x<h;)P[j+x]=B[x];return P}},"./node_modules/lodash-es/_assignValue.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>x});var c=l("./node_modules/lodash-es/_baseAssignValue.js"),P=l("./node_modules/lodash-es/eq.js"),B=Object.prototype.hasOwnProperty;const x=function(h,j,Z){var Y=h[j];B.call(h,j)&&(0,P.Z)(Y,Z)&&(Z!==void 0||j in h)||(0,c.Z)(h,j,Z)}},"./node_modules/lodash-es/_baseAssignValue.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>P});var c=l("./node_modules/lodash-es/_defineProperty.js");const P=function(B,x,h){x=="__proto__"&&c.Z?(0,c.Z)(B,x,{configurable:!0,enumerable:!0,value:h,writable:!0}):B[x]=h}},"./node_modules/lodash-es/_baseClone.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>ui});var c=l("./node_modules/lodash-es/_Stack.js");const P=function(Nt,ti){for(var hi=-1,Ci=Nt==null?0:Nt.length;++hi<Ci&&ti(Nt[hi],hi,Nt)!==!1;);return Nt};var B=l("./node_modules/lodash-es/_assignValue.js"),x=l("./node_modules/lodash-es/_copyObject.js"),h=l("./node_modules/lodash-es/keys.js");const j=function(Nt,ti){return Nt&&(0,x.Z)(ti,(0,h.Z)(ti),Nt)};var Z=l("./node_modules/lodash-es/keysIn.js");const Y=function(Nt,ti){return Nt&&(0,x.Z)(ti,(0,Z.Z)(ti),Nt)};var te=l("./node_modules/lodash-es/_cloneBuffer.js"),oe=l("./node_modules/lodash-es/_copyArray.js"),ie=l("./node_modules/lodash-es/_getSymbols.js");const u=function(Nt,ti){return(0,x.Z)(Nt,(0,ie.Z)(Nt),ti)};var y=l("./node_modules/lodash-es/_arrayPush.js"),f=l("./node_modules/lodash-es/_getPrototype.js"),v=l("./node_modules/lodash-es/stubArray.js");const A=Object.getOwnPropertySymbols?function(Nt){for(var ti=[];Nt;)(0,y.Z)(ti,(0,ie.Z)(Nt)),Nt=(0,f.Z)(Nt);return ti}:v.Z,T=function(Nt,ti){return(0,x.Z)(Nt,A(Nt),ti)};var E=l("./node_modules/lodash-es/_getAllKeys.js"),ae=l("./node_modules/lodash-es/_baseGetAllKeys.js");const q=function(Nt){return(0,ae.Z)(Nt,Z.Z,A)};var z=l("./node_modules/lodash-es/_getTag.js"),b=Object.prototype.hasOwnProperty;const V=function(Nt){var ti=Nt.length,hi=new Nt.constructor(ti);return ti&&typeof Nt[0]=="string"&&b.call(Nt,"index")&&(hi.index=Nt.index,hi.input=Nt.input),hi};var $=l("./node_modules/lodash-es/_cloneArrayBuffer.js");const D=function(Nt,ti){var hi=ti?(0,$.Z)(Nt.buffer):Nt.buffer;return new Nt.constructor(hi,Nt.byteOffset,Nt.byteLength)};var re=/\w*$/;const Ee=function(Nt){var ti=new Nt.constructor(Nt.source,re.exec(Nt));return ti.lastIndex=Nt.lastIndex,ti};var je=l("./node_modules/lodash-es/_Symbol.js"),Ie=je.Z?je.Z.prototype:void 0,De=Ie?Ie.valueOf:void 0;const mt=function(Nt){return De?Object(De.call(Nt)):{}};var lt=l("./node_modules/lodash-es/_cloneTypedArray.js");const ut=function(Nt,ti,hi){var Ci=Nt.constructor;switch(ti){case"[object ArrayBuffer]":return(0,$.Z)(Nt);case"[object Boolean]":case"[object Date]":return new Ci(+Nt);case"[object DataView]":return D(Nt,hi);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,lt.Z)(Nt,hi);case"[object Map]":case"[object Set]":return new Ci;case"[object Number]":case"[object String]":return new Ci(Nt);case"[object RegExp]":return Ee(Nt);case"[object Symbol]":return mt(Nt)}};var dt=l("./node_modules/lodash-es/_initCloneObject.js"),_t=l("./node_modules/lodash-es/isArray.js"),bt=l("./node_modules/lodash-es/isBuffer.js"),Qe=l("./node_modules/lodash-es/isObjectLike.js");const ft=function(Nt){return(0,Qe.Z)(Nt)&&(0,z.Z)(Nt)=="[object Map]"};var Ve=l("./node_modules/lodash-es/_baseUnary.js"),Te=l("./node_modules/lodash-es/_nodeUtil.js"),Q=Te.Z&&Te.Z.isMap;const xe=Q?(0,Ve.Z)(Q):ft;var Oe=l("./node_modules/lodash-es/isObject.js");const Je=function(Nt){return(0,Qe.Z)(Nt)&&(0,z.Z)(Nt)=="[object Set]"};var Ze=Te.Z&&Te.Z.isSet;const tt=Ze?(0,Ve.Z)(Ze):Je;var st="[object Arguments]",Lt="[object Function]",Ft="[object Object]",Yt={};Yt[st]=Yt["[object Array]"]=Yt["[object ArrayBuffer]"]=Yt["[object DataView]"]=Yt["[object Boolean]"]=Yt["[object Date]"]=Yt["[object Float32Array]"]=Yt["[object Float64Array]"]=Yt["[object Int8Array]"]=Yt["[object Int16Array]"]=Yt["[object Int32Array]"]=Yt["[object Map]"]=Yt["[object Number]"]=Yt[Ft]=Yt["[object RegExp]"]=Yt["[object Set]"]=Yt["[object String]"]=Yt["[object Symbol]"]=Yt["[object Uint8Array]"]=Yt["[object Uint8ClampedArray]"]=Yt["[object Uint16Array]"]=Yt["[object Uint32Array]"]=!0,Yt["[object Error]"]=Yt[Lt]=Yt["[object WeakMap]"]=!1;const ui=function Nt(ti,hi,Ci,Oi,Di,Vi){var Pi,$i=1&hi,at=2&hi,ue=4&hi;if(Ci&&(Pi=Di?Ci(ti,Oi,Di,Vi):Ci(ti)),Pi!==void 0)return Pi;if(!(0,Oe.Z)(ti))return ti;var ye=(0,_t.Z)(ti);if(ye){if(Pi=V(ti),!$i)return(0,oe.Z)(ti,Pi)}else{var Le=(0,z.Z)(ti),Ge=Le==Lt||Le=="[object GeneratorFunction]";if((0,bt.Z)(ti))return(0,te.Z)(ti,$i);if(Le==Ft||Le==st||Ge&&!Di){if(Pi=at||Ge?{}:(0,dt.Z)(ti),!$i)return at?T(ti,Y(Pi,ti)):u(ti,j(Pi,ti))}else{if(!Yt[Le])return Di?ti:{};Pi=ut(ti,Le,$i)}}Vi||(Vi=new c.Z);var rt=Vi.get(ti);if(rt)return rt;Vi.set(ti,Pi),tt(ti)?ti.forEach(function(Mt){Pi.add(Nt(Mt,hi,Ci,Mt,ti,Vi))}):xe(ti)&&ti.forEach(function(Mt,Ut){Pi.set(Ut,Nt(Mt,hi,Ci,Ut,ti,Vi))});var gt=ue?at?q:E.Z:at?Z.Z:h.Z,Ot=ye?void 0:gt(ti);return P(Ot||ti,function(Mt,Ut){Ot&&(Mt=ti[Ut=Mt]),(0,B.Z)(Pi,Ut,Nt(Mt,hi,Ci,Ut,ti,Vi))}),Pi}},"./node_modules/lodash-es/_baseGetAllKeys.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/lodash-es/_arrayPush.js"),P=l("./node_modules/lodash-es/isArray.js");const B=function(x,h,j){var Z=h(x);return(0,P.Z)(x)?Z:(0,c.Z)(Z,j(x))}},"./node_modules/lodash-es/_baseGetTag.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>oe});var c=l("./node_modules/lodash-es/_Symbol.js"),P=Object.prototype,B=P.hasOwnProperty,x=P.toString,h=c.Z?c.Z.toStringTag:void 0;const j=function(ie){var u=B.call(ie,h),y=ie[h];try{ie[h]=void 0;var f=!0}catch{}var v=x.call(ie);return f&&(u?ie[h]=y:delete ie[h]),v};var Z=Object.prototype.toString;const Y=function(ie){return Z.call(ie)};var te=c.Z?c.Z.toStringTag:void 0;const oe=function(ie){return ie==null?ie===void 0?"[object Undefined]":"[object Null]":te&&te in Object(ie)?j(ie):Y(ie)}},"./node_modules/lodash-es/_baseUnary.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c=function(P){return function(B){return P(B)}}},"./node_modules/lodash-es/_cloneArrayBuffer.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>P});var c=l("./node_modules/lodash-es/_Uint8Array.js");const P=function(B){var x=new B.constructor(B.byteLength);return new c.Z(x).set(new c.Z(B)),x}},"./node_modules/lodash-es/_cloneBuffer.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>j});var c=l("./node_modules/lodash-es/_root.js"),P=wt&&!wt.nodeType&&wt,B=P&&!0&&Gt&&!Gt.nodeType&&Gt,x=B&&B.exports===P?c.Z.Buffer:void 0,h=x?x.allocUnsafe:void 0;const j=function(Z,Y){if(Y)return Z.slice();var te=Z.length,oe=h?h(te):new Z.constructor(te);return Z.copy(oe),oe}},"./node_modules/lodash-es/_cloneTypedArray.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>P});var c=l("./node_modules/lodash-es/_cloneArrayBuffer.js");const P=function(B,x){var h=x?(0,c.Z)(B.buffer):B.buffer;return new B.constructor(h,B.byteOffset,B.length)}},"./node_modules/lodash-es/_copyArray.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c=function(P,B){var x=-1,h=P.length;for(B||(B=Array(h));++x<h;)B[x]=P[x];return B}},"./node_modules/lodash-es/_copyObject.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/lodash-es/_assignValue.js"),P=l("./node_modules/lodash-es/_baseAssignValue.js");const B=function(x,h,j,Z){var Y=!j;j||(j={});for(var te=-1,oe=h.length;++te<oe;){var ie=h[te],u=Z?Z(j[ie],x[ie],ie,j,x):void 0;u===void 0&&(u=x[ie]),Y?(0,P.Z)(j,ie,u):(0,c.Z)(j,ie,u)}return j}},"./node_modules/lodash-es/_createAssigner.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>A});const c=function(T){return T},P=function(T,E,ae){switch(ae.length){case 0:return T.call(E);case 1:return T.call(E,ae[0]);case 2:return T.call(E,ae[0],ae[1]);case 3:return T.call(E,ae[0],ae[1],ae[2])}return T.apply(E,ae)};var B=Math.max;const x=function(T,E,ae){return E=B(E===void 0?T.length-1:E,0),function(){for(var q=arguments,z=-1,b=B(q.length-E,0),V=Array(b);++z<b;)V[z]=q[E+z];z=-1;for(var $=Array(E+1);++z<E;)$[z]=q[z];return $[E]=ae(V),P(T,this,$)}},h=function(T){return function(){return T}};var j=l("./node_modules/lodash-es/_defineProperty.js");const Z=j.Z?function(T,E){return(0,j.Z)(T,"toString",{configurable:!0,enumerable:!1,value:h(E),writable:!0})}:c;var Y=Date.now;const te=function(T){var E=0,ae=0;return function(){var q=Y(),z=16-(q-ae);if(ae=q,z>0){if(++E>=800)return arguments[0]}else E=0;return T.apply(void 0,arguments)}}(Z),oe=function(T,E){return te(x(T,E,c),T+"")};var ie=l("./node_modules/lodash-es/eq.js"),u=l("./node_modules/lodash-es/isArrayLike.js"),y=l("./node_modules/lodash-es/_isIndex.js"),f=l("./node_modules/lodash-es/isObject.js");const v=function(T,E,ae){if(!(0,f.Z)(ae))return!1;var q=typeof E;return!!(q=="number"?(0,u.Z)(ae)&&(0,y.Z)(E,ae.length):q=="string"&&E in ae)&&(0,ie.Z)(ae[E],T)},A=function(T){return oe(function(E,ae){var q=-1,z=ae.length,b=z>1?ae[z-1]:void 0,V=z>2?ae[2]:void 0;for(b=T.length>3&&typeof b=="function"?(z--,b):void 0,V&&v(ae[0],ae[1],V)&&(b=z<3?void 0:b,z=1),E=Object(E);++q<z;){var $=ae[q];$&&T(E,$,q,b)}return E})}},"./node_modules/lodash-es/_defineProperty.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>P});var c=l("./node_modules/lodash-es/_getNative.js");const P=function(){try{var B=(0,c.Z)(Object,"defineProperty");return B({},"",{}),B}catch{}}()},"./node_modules/lodash-es/_freeGlobal.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c=typeof J.g=="object"&&J.g&&J.g.Object===Object&&J.g},"./node_modules/lodash-es/_getAllKeys.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>x});var c=l("./node_modules/lodash-es/_baseGetAllKeys.js"),P=l("./node_modules/lodash-es/_getSymbols.js"),B=l("./node_modules/lodash-es/keys.js");const x=function(h){return(0,c.Z)(h,B.Z,P.Z)}},"./node_modules/lodash-es/_getNative.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>A});var c=l("./node_modules/lodash-es/isFunction.js");const P=l("./node_modules/lodash-es/_root.js").Z["__core-js_shared__"];var B,x=(B=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"";const h=function(T){return!!x&&x in T};var j=l("./node_modules/lodash-es/isObject.js"),Z=l("./node_modules/lodash-es/_toSource.js"),Y=/^\[object .+?Constructor\]$/,te=Function.prototype,oe=Object.prototype,ie=te.toString,u=oe.hasOwnProperty,y=RegExp("^"+ie.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const f=function(T){return!(!(0,j.Z)(T)||h(T))&&((0,c.Z)(T)?y:Y).test((0,Z.Z)(T))},v=function(T,E){return T?.[E]},A=function(T,E){var ae=v(T,E);return f(ae)?ae:void 0}},"./node_modules/lodash-es/_getPrototype.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c=(0,l("./node_modules/lodash-es/_overArg.js").Z)(Object.getPrototypeOf,Object)},"./node_modules/lodash-es/_getSymbols.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>h});const c=function(j,Z){for(var Y=-1,te=j==null?0:j.length,oe=0,ie=[];++Y<te;){var u=j[Y];Z(u,Y,j)&&(ie[oe++]=u)}return ie};var P=l("./node_modules/lodash-es/stubArray.js"),B=Object.prototype.propertyIsEnumerable,x=Object.getOwnPropertySymbols;const h=x?function(j){return j==null?[]:(j=Object(j),c(x(j),function(Z){return B.call(j,Z)}))}:P.Z},"./node_modules/lodash-es/_getTag.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>z});var c=l("./node_modules/lodash-es/_getNative.js"),P=l("./node_modules/lodash-es/_root.js");const B=(0,c.Z)(P.Z,"DataView");var x=l("./node_modules/lodash-es/_Map.js");const h=(0,c.Z)(P.Z,"Promise"),j=(0,c.Z)(P.Z,"Set"),Z=(0,c.Z)(P.Z,"WeakMap");var Y=l("./node_modules/lodash-es/_baseGetTag.js"),te=l("./node_modules/lodash-es/_toSource.js"),oe="[object Map]",ie="[object Promise]",u="[object Set]",y="[object WeakMap]",f="[object DataView]",v=(0,te.Z)(B),A=(0,te.Z)(x.Z),T=(0,te.Z)(h),E=(0,te.Z)(j),ae=(0,te.Z)(Z),q=Y.Z;(B&&q(new B(new ArrayBuffer(1)))!=f||x.Z&&q(new x.Z)!=oe||h&&q(h.resolve())!=ie||j&&q(new j)!=u||Z&&q(new Z)!=y)&&(q=function(b){var V=(0,Y.Z)(b),$=V=="[object Object]"?b.constructor:void 0,D=$?(0,te.Z)($):"";if(D)switch(D){case v:return f;case A:return oe;case T:return ie;case E:return u;case ae:return y}return V});const z=q},"./node_modules/lodash-es/_initCloneObject.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>j});var c=l("./node_modules/lodash-es/isObject.js"),P=Object.create;const B=function(){function Z(){}return function(Y){if(!(0,c.Z)(Y))return{};if(P)return P(Y);Z.prototype=Y;var te=new Z;return Z.prototype=void 0,te}}();var x=l("./node_modules/lodash-es/_getPrototype.js"),h=l("./node_modules/lodash-es/_isPrototype.js");const j=function(Z){return typeof Z.constructor!="function"||(0,h.Z)(Z)?{}:B((0,x.Z)(Z))}},"./node_modules/lodash-es/_isIndex.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>P});var c=/^(?:0|[1-9]\d*)$/;const P=function(B,x){var h=typeof B;return!!(x=x??9007199254740991)&&(h=="number"||h!="symbol"&&c.test(B))&&B>-1&&B%1==0&&B<x}},"./node_modules/lodash-es/_isPrototype.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>P});var c=Object.prototype;const P=function(B){var x=B&&B.constructor;return B===(typeof x=="function"&&x.prototype||c)}},"./node_modules/lodash-es/_nodeUtil.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>h});var c=l("./node_modules/lodash-es/_freeGlobal.js"),P=wt&&!wt.nodeType&&wt,B=P&&!0&&Gt&&!Gt.nodeType&&Gt,x=B&&B.exports===P&&c.Z.process;const h=function(){try{var j=B&&B.require&&B.require("util").types;return j||x&&x.binding&&x.binding("util")}catch{}}()},"./node_modules/lodash-es/_overArg.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c=function(P,B){return function(x){return P(B(x))}}},"./node_modules/lodash-es/_root.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/lodash-es/_freeGlobal.js"),P=typeof self=="object"&&self&&self.Object===Object&&self;const B=c.Z||P||Function("return this")()},"./node_modules/lodash-es/_toSource.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>P});var c=Function.prototype.toString;const P=function(B){if(B!=null){try{return c.call(B)}catch{}try{return B+""}catch{}}return""}},"./node_modules/lodash-es/assignIn.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>x});var c=l("./node_modules/lodash-es/_copyObject.js"),P=l("./node_modules/lodash-es/_createAssigner.js"),B=l("./node_modules/lodash-es/keysIn.js");const x=(0,P.Z)(function(h,j){(0,c.Z)(j,(0,B.Z)(j),h)})},"./node_modules/lodash-es/cloneDeepWith.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>P});var c=l("./node_modules/lodash-es/_baseClone.js");const P=function(B,x){return x=typeof x=="function"?x:void 0,(0,c.Z)(B,5,x)}},"./node_modules/lodash-es/debounce.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>A});var c=l("./node_modules/lodash-es/isObject.js"),P=l("./node_modules/lodash-es/_root.js");const B=function(){return P.Z.Date.now()};var x=/\s/;const h=function(T){for(var E=T.length;E--&&x.test(T.charAt(E)););return E};var j=/^\s+/;const Z=function(T){return T&&T.slice(0,h(T)+1).replace(j,"")};var Y=l("./node_modules/lodash-es/isSymbol.js"),te=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ie=/^0o[0-7]+$/i,u=parseInt;const y=function(T){if(typeof T=="number")return T;if((0,Y.Z)(T))return NaN;if((0,c.Z)(T)){var E=typeof T.valueOf=="function"?T.valueOf():T;T=(0,c.Z)(E)?E+"":E}if(typeof T!="string")return T===0?T:+T;T=Z(T);var ae=oe.test(T);return ae||ie.test(T)?u(T.slice(2),ae?2:8):te.test(T)?NaN:+T};var f=Math.max,v=Math.min;const A=function(T,E,ae){var q,z,b,V,$,D,re=0,Ee=!1,je=!1,Ie=!0;if(typeof T!="function")throw new TypeError("Expected a function");function De(_t){var bt=q,Qe=z;return q=z=void 0,re=_t,V=T.apply(Qe,bt)}function mt(_t){var bt=_t-D;return D===void 0||bt>=E||bt<0||je&&_t-re>=b}function lt(){var _t=B();if(mt(_t))return ut(_t);$=setTimeout(lt,function(bt){var Qe=E-(bt-D);return je?v(Qe,b-(bt-re)):Qe}(_t))}function ut(_t){return $=void 0,Ie&&q?De(_t):(q=z=void 0,V)}function dt(){var _t=B(),bt=mt(_t);if(q=arguments,z=this,D=_t,bt){if($===void 0)return function(Qe){return re=Qe,$=setTimeout(lt,E),Ee?De(Qe):V}(D);if(je)return clearTimeout($),$=setTimeout(lt,E),De(D)}return $===void 0&&($=setTimeout(lt,E)),V}return E=y(E)||0,(0,c.Z)(ae)&&(Ee=!!ae.leading,b=(je="maxWait"in ae)?f(y(ae.maxWait)||0,E):b,Ie="trailing"in ae?!!ae.trailing:Ie),dt.cancel=function(){$!==void 0&&clearTimeout($),re=0,q=D=z=$=void 0},dt.flush=function(){return $===void 0?V:ut(B())},dt}},"./node_modules/lodash-es/eq.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c=function(P,B){return P===B||P!=P&&B!=B}},"./node_modules/lodash-es/escapeRegExp.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>x});var c=l("./node_modules/lodash-es/toString.js"),P=/[\\^$.*+?()[\]{}|]/g,B=RegExp(P.source);const x=function(h){return(h=(0,c.Z)(h))&&B.test(h)?h.replace(P,"\\$&"):h}},"./node_modules/lodash-es/isArguments.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>Z});var c=l("./node_modules/lodash-es/_baseGetTag.js"),P=l("./node_modules/lodash-es/isObjectLike.js");const B=function(Y){return(0,P.Z)(Y)&&(0,c.Z)(Y)=="[object Arguments]"};var x=Object.prototype,h=x.hasOwnProperty,j=x.propertyIsEnumerable;const Z=B(function(){return arguments}())?B:function(Y){return(0,P.Z)(Y)&&h.call(Y,"callee")&&!j.call(Y,"callee")}},"./node_modules/lodash-es/isArray.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c=Array.isArray},"./node_modules/lodash-es/isArrayLike.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/lodash-es/isFunction.js"),P=l("./node_modules/lodash-es/isLength.js");const B=function(x){return x!=null&&(0,P.Z)(x.length)&&!(0,c.Z)(x)}},"./node_modules/lodash-es/isBuffer.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>j});var c=l("./node_modules/lodash-es/_root.js");const P=function(){return!1};var B=wt&&!wt.nodeType&&wt,x=B&&!0&&Gt&&!Gt.nodeType&&Gt,h=x&&x.exports===B?c.Z.Buffer:void 0;const j=(h?h.isBuffer:void 0)||P},"./node_modules/lodash-es/isElement.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/lodash-es/isObjectLike.js"),P=l("./node_modules/lodash-es/isPlainObject.js");const B=function(x){return(0,c.Z)(x)&&x.nodeType===1&&!(0,P.Z)(x)}},"./node_modules/lodash-es/isFunction.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/lodash-es/_baseGetTag.js"),P=l("./node_modules/lodash-es/isObject.js");const B=function(x){if(!(0,P.Z)(x))return!1;var h=(0,c.Z)(x);return h=="[object Function]"||h=="[object GeneratorFunction]"||h=="[object AsyncFunction]"||h=="[object Proxy]"}},"./node_modules/lodash-es/isLength.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c=function(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=9007199254740991}},"./node_modules/lodash-es/isObject.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c=function(P){var B=typeof P;return P!=null&&(B=="object"||B=="function")}},"./node_modules/lodash-es/isObjectLike.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c=function(P){return P!=null&&typeof P=="object"}},"./node_modules/lodash-es/isPlainObject.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>te});var c=l("./node_modules/lodash-es/_baseGetTag.js"),P=l("./node_modules/lodash-es/_getPrototype.js"),B=l("./node_modules/lodash-es/isObjectLike.js"),x=Function.prototype,h=Object.prototype,j=x.toString,Z=h.hasOwnProperty,Y=j.call(Object);const te=function(oe){if(!(0,B.Z)(oe)||(0,c.Z)(oe)!="[object Object]")return!1;var ie=(0,P.Z)(oe);if(ie===null)return!0;var u=Z.call(ie,"constructor")&&ie.constructor;return typeof u=="function"&&u instanceof u&&j.call(u)==Y}},"./node_modules/lodash-es/isSymbol.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/lodash-es/_baseGetTag.js"),P=l("./node_modules/lodash-es/isObjectLike.js");const B=function(x){return typeof x=="symbol"||(0,P.Z)(x)&&(0,c.Z)(x)=="[object Symbol]"}},"./node_modules/lodash-es/isTypedArray.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>te});var c=l("./node_modules/lodash-es/_baseGetTag.js"),P=l("./node_modules/lodash-es/isLength.js"),B=l("./node_modules/lodash-es/isObjectLike.js"),x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Arguments]"]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object Boolean]"]=x["[object DataView]"]=x["[object Date]"]=x["[object Error]"]=x["[object Function]"]=x["[object Map]"]=x["[object Number]"]=x["[object Object]"]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object WeakMap]"]=!1;const h=function(oe){return(0,B.Z)(oe)&&(0,P.Z)(oe.length)&&!!x[(0,c.Z)(oe)]};var j=l("./node_modules/lodash-es/_baseUnary.js"),Z=l("./node_modules/lodash-es/_nodeUtil.js"),Y=Z.Z&&Z.Z.isTypedArray;const te=Y?(0,j.Z)(Y):h},"./node_modules/lodash-es/keys.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>Z});var c=l("./node_modules/lodash-es/_arrayLikeKeys.js"),P=l("./node_modules/lodash-es/_isPrototype.js");const B=(0,l("./node_modules/lodash-es/_overArg.js").Z)(Object.keys,Object);var x=Object.prototype.hasOwnProperty;const h=function(Y){if(!(0,P.Z)(Y))return B(Y);var te=[];for(var oe in Object(Y))x.call(Y,oe)&&oe!="constructor"&&te.push(oe);return te};var j=l("./node_modules/lodash-es/isArrayLike.js");const Z=function(Y){return(0,j.Z)(Y)?(0,c.Z)(Y):h(Y)}},"./node_modules/lodash-es/keysIn.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>Y});var c=l("./node_modules/lodash-es/_arrayLikeKeys.js"),P=l("./node_modules/lodash-es/isObject.js"),B=l("./node_modules/lodash-es/_isPrototype.js");const x=function(te){var oe=[];if(te!=null)for(var ie in Object(te))oe.push(ie);return oe};var h=Object.prototype.hasOwnProperty;const j=function(te){if(!(0,P.Z)(te))return x(te);var oe=(0,B.Z)(te),ie=[];for(var u in te)(u!="constructor"||!oe&&h.call(te,u))&&ie.push(u);return ie};var Z=l("./node_modules/lodash-es/isArrayLike.js");const Y=function(te){return(0,Z.Z)(te)?(0,c.Z)(te,!0):j(te)}},"./node_modules/lodash-es/stubArray.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>c});const c=function(){return[]}},"./node_modules/lodash-es/throttle.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>B});var c=l("./node_modules/lodash-es/debounce.js"),P=l("./node_modules/lodash-es/isObject.js");const B=function(x,h,j){var Z=!0,Y=!0;if(typeof x!="function")throw new TypeError("Expected a function");return(0,P.Z)(j)&&(Z="leading"in j?!!j.leading:Z,Y="trailing"in j?!!j.trailing:Y),(0,c.Z)(x,h,{leading:Z,maxWait:h,trailing:Y})}},"./node_modules/lodash-es/toString.js":(p,_,l)=>{"use strict";l.d(_,{Z:()=>Y});var c=l("./node_modules/lodash-es/_Symbol.js");const P=function(te,oe){for(var ie=-1,u=te==null?0:te.length,y=Array(u);++ie<u;)y[ie]=oe(te[ie],ie,te);return y};var B=l("./node_modules/lodash-es/isArray.js"),x=l("./node_modules/lodash-es/isSymbol.js"),h=c.Z?c.Z.prototype:void 0,j=h?h.toString:void 0;const Z=function te(oe){if(typeof oe=="string")return oe;if((0,B.Z)(oe))return P(oe,te)+"";if((0,x.Z)(oe))return j?j.call(oe):"";var ie=oe+"";return ie=="0"&&1/oe==-1/0?"-0":ie},Y=function(te){return te==null?"":Z(te)}}},m={};function M(p){var _=m[p];if(_!==void 0)return _.exports;var l=m[p]={id:p,exports:{}};return Et[p](l,l.exports,M),l.exports}M.n=p=>{var _=p&&p.__esModule?()=>p.default:()=>p;return M.d(_,{a:_}),_},M.d=(p,_)=>{for(var l in _)M.o(_,l)&&!M.o(p,l)&&Object.defineProperty(p,l,{enumerable:!0,get:_[l]})},M.o=(p,_)=>Object.prototype.hasOwnProperty.call(p,_),M.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},M.nc=void 0;var S=M("?7cdd");(window.CKEditor5=window.CKEditor5||{}).dll=S})(),function(Et){Et.CKEditor5=Et.CKEditor5||{};const m=["utils","core","engine","ui","clipboard","enter","paragraph","select-all","typing","undo","upload","widget","watchdog"];for(const M of m){const S=M.replace(/-([a-z])/g,(p,_)=>_.toUpperCase());Et.CKEditor5[S]=Et.CKEditor5.dll(`./src/${M}.js`)}}(window)}}]);
